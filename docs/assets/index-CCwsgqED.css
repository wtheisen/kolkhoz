:root{--card-width: clamp(50px, 10vw, 120px);--visible-hand-height: calc(var(--card-width) * .85)}.trick-area-html{display:flex;flex-direction:column;flex:1;background:#1a1a1a;border:3px solid #d4a857;border-radius:10px;margin:1vh;margin-bottom:var(--visible-hand-height);position:relative;overflow:hidden}.trick-area-html:before{content:"";position:absolute;top:6px;right:6px;bottom:6px;left:6px;border:2px solid #8b0000;border-radius:6px;pointer-events:none}.info-bar{display:flex;align-items:stretch;gap:0;padding:0;margin:8px 10px 0;background:linear-gradient(180deg,#2d2a26,#23201c 40%,#1c1916);border:2px solid #1a1816;border-radius:4px;position:relative;box-shadow:inset 0 1px #504b4499,inset 0 -1px #0006,0 2px 6px #00000080;overflow:hidden}.info-bar:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(90deg,transparent 0px,transparent 1px,rgba(60,55,48,.08) 1px,rgba(60,55,48,.08) 2px);pointer-events:none;z-index:0}.info-bar:after{content:"";position:absolute;top:3px;left:6px;width:4px;height:4px;background:radial-gradient(circle at 30% 30%,#555,#222);border-radius:50%;box-shadow:calc(100% - 12px + 0vw) 0 0 0 #333,0 0 0 1px #00000080,inset 0 1px 1px #ffffff1a}.info-bar>div{position:relative;z-index:1;display:flex;align-items:center;padding:clamp(6px,1vh,10px) clamp(8px,1.5vw,14px);border-right:1px solid rgba(0,0,0,.5);box-shadow:1px 0 #3c37304d}.info-bar>div:last-child{border-right:none;box-shadow:none}.info-bar .label{font-family:Oswald,sans-serif;font-size:clamp(.65rem,1.2vw,.75rem);color:#6a6560;text-transform:uppercase;letter-spacing:.1em;margin-right:.4em;text-shadow:0 1px 0 rgba(0,0,0,.5)}.info-bar .value{font-family:Oswald,sans-serif;font-size:clamp(1rem,1.8vw,1.15rem);color:#d4a857;text-shadow:0 0 8px rgba(212,168,87,.5);letter-spacing:.02em}.info-bar .famine{font-family:Oswald,sans-serif;font-size:clamp(.65rem,1.2vw,.75rem);color:#f44;text-transform:uppercase;letter-spacing:.05em;padding:2px 6px;background:#ff000026;border:1px solid rgba(255,0,0,.4);border-radius:2px;text-shadow:0 0 8px rgba(255,0,0,.7);animation:famine-blink 1.5s ease-in-out infinite}@keyframes famine-blink{0%,to{opacity:1;box-shadow:0 0 8px #f006}50%{opacity:.7;box-shadow:0 0 15px #f009}}.suit-symbol{font-size:clamp(1.05rem,1.8vw,1.2rem);line-height:1;text-shadow:0 1px 2px rgba(0,0,0,.4)}.suit-symbol.hearts,.suit-symbol.diamonds{color:var(--red);text-shadow:0 0 5px rgba(196,30,58,.4),0 1px 2px rgba(0,0,0,.4)}.suit-symbol.clubs,.suit-symbol.spades{color:var(--cream);text-shadow:0 0 4px rgba(232,220,196,.25),0 1px 2px rgba(0,0,0,.4)}.info-year{gap:.3em;background:linear-gradient(180deg,rgba(0,0,0,.3) 0%,transparent 50%,rgba(0,0,0,.2) 100%)}.info-year .value{background:#0a0908;padding:2px 6px;border-radius:2px;border:1px solid #333;box-shadow:inset 0 1px 3px #000c,0 1px #504b444d}.info-trump{gap:.3em;background:linear-gradient(180deg,rgba(0,0,0,.2) 0%,transparent 100%)}.info-trump .suit-symbol{padding:3px 6px;background:radial-gradient(ellipse at center,#00000080,#000000b3);border-radius:3px;border:1px solid #444;box-shadow:inset 0 1px 3px #00000080,0 0 8px currentColor;animation:lamp-glow 3s ease-in-out infinite}@keyframes lamp-glow{0%,to{filter:brightness(1)}50%{filter:brightness(1.12)}}.info-trump .no-trump{font-family:Oswald,sans-serif;font-size:clamp(.9rem,1.6vw,1.1rem);color:#666}.info-lead{gap:.3em;padding-left:clamp(6px,1vw,10px)!important;padding-right:clamp(6px,1vw,10px)!important}.info-bar.requisition-mode{background:linear-gradient(180deg,#501414e6,#320f0ff2 40%,#230a0af2);border-color:#8b0000;box-shadow:inset 0 1px #c41e3a4d,inset 0 -1px #0006,0 0 15px #8b000066,0 2px 6px #00000080}.info-requisition{display:flex;align-items:center;gap:clamp(.5rem,1vw,.8rem);padding:clamp(6px,1vh,10px) clamp(12px,2vw,20px)!important;flex:0 0 auto;background:#0000004d;position:relative;z-index:1}.info-requisition .suit-symbol{font-size:clamp(1.3rem,2.2vw,1.6rem);padding:clamp(4px,.6vh,6px) clamp(8px,1.2vw,12px);background:radial-gradient(ellipse at center,#0009,#000c);border-radius:4px;border:2px solid #8b0000;box-shadow:inset 0 1px 3px #00000080,0 0 12px currentColor;animation:requisition-suit-pulse 1.2s ease-in-out infinite}@keyframes requisition-suit-pulse{0%,to{transform:scale(1);box-shadow:inset 0 1px 3px #00000080,0 0 12px currentColor}50%{transform:scale(1.05);box-shadow:inset 0 1px 3px #00000080,0 0 20px currentColor}}.info-requisition .requisition-text{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.85rem,1.5vw,1.1rem);color:#ff6b6b;text-transform:uppercase;letter-spacing:.08em;text-shadow:0 0 10px rgba(255,107,107,.5),0 2px 4px rgba(0,0,0,.6);animation:requisition-text-glow 2s ease-in-out infinite;white-space:nowrap}@keyframes requisition-text-glow{0%,to{opacity:1;text-shadow:0 0 10px rgba(255,107,107,.5),0 2px 4px rgba(0,0,0,.6)}50%{opacity:.85;text-shadow:0 0 20px rgba(255,107,107,.8),0 2px 4px rgba(0,0,0,.6)}}.info-jobs{display:flex;justify-content:center;gap:clamp(4px,.8vw,8px);flex:1;padding:clamp(4px,.6vh,6px) clamp(6px,1vw,10px)!important;background:linear-gradient(180deg,rgba(0,0,0,.25) 0%,transparent 40%,rgba(0,0,0,.15) 100%)}.job-indicator{display:flex;align-items:center;gap:.25em;padding:clamp(3px,.5vh,5px) clamp(5px,.8vw,8px);background:#0006;border:1px solid #2a2826;border-radius:3px;transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;box-shadow:inset 0 1px 3px #0009,0 1px #504b4433}.job-indicator:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,rgba(255,255,255,.03) 0%,transparent 100%);border-radius:2px 2px 0 0;pointer-events:none}.job-indicator.highlighted{background:#d4a85733;border-color:#d4a857;box-shadow:inset 0 1px 3px #0006,0 0 10px #d4a85766,0 1px #d4a8574d;transform:translateY(-1px)}.job-indicator.highlighted .suit-symbol{animation:gauge-pulse 1s ease-in-out infinite}@keyframes gauge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.08)}}.job-indicator.claimed{background:#4caf5033;border-color:var(--green);box-shadow:inset 0 1px 3px #0006,0 0 8px #4caf504d,0 1px #4caf5033}.job-indicator.claimed .suit-symbol{filter:brightness(.7) grayscale(.3)}.job-indicator.claimed .progress{color:var(--green);text-shadow:0 0 5px rgba(92,184,92,.5)}.job-indicator .suit-symbol{font-size:clamp(.95rem,1.6vw,1.1rem)}.job-indicator .progress{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,.8rem);color:#8a8580;letter-spacing:.02em;line-height:1}.job-indicator .trump-face-badges{display:flex;gap:2px;margin-left:2px}.job-indicator .trump-face-badge{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.7rem);font-weight:600;color:gold;background:#8b000099;border:1px solid #ffd700;border-radius:2px;padding:0 3px;line-height:1.2;text-shadow:0 0 4px rgba(255,215,0,.5);animation:face-badge-glow 2s ease-in-out infinite}@keyframes face-badge-glow{0%,to{box-shadow:0 0 3px #ffd7004d}50%{box-shadow:0 0 8px #ffd70099}}.info-score{display:flex;align-items:center;gap:.3em;padding:clamp(5px,.8vh,8px) clamp(8px,1.2vw,12px)!important;background:linear-gradient(180deg,#8b00004d,#50000033,#8b000040);border-left:2px solid #8b0000!important;box-shadow:inset 2px 0 8px #8b00004d,-1px 0 #8b000080;flex-shrink:0}.info-score .label{color:#c41e3a}.info-score .value{color:#f55;text-shadow:0 0 10px rgba(255,85,85,.6),0 0 3px rgba(255,85,85,.3);min-width:1.2em;text-align:center}.play-area{display:flex;flex-direction:column;flex:1;min-height:0;min-width:0;overflow:hidden;position:relative;padding:clamp(.25rem,.5vh,.5rem)}.player-columns{display:flex;justify-content:space-evenly;align-items:stretch;flex:1;gap:clamp(.5rem,2vw,2rem);padding:.5rem clamp(.5rem,3vw,2rem);min-height:0;overflow:hidden}.player-column{flex:1 1 0;min-width:0;max-width:clamp(160px,20vw,280px);display:flex;flex-direction:column;align-items:center;gap:.5rem}.player-panel{display:flex;align-items:center;justify-content:center;gap:clamp(.3rem,.8vw,.8rem);padding:clamp(.3rem,.8vh,.6rem) clamp(.5rem,1.2vw,1.2rem);background:#141414e6;border:1px solid #444;border-radius:6px;width:100%;min-height:clamp(36px,5vw,56px);flex-shrink:0}.player-panel.human{background:#d4a85726;border-color:#d4a857}.player-panel.human .player-name{color:#d4a857}.player-panel.active{background:#c41e3a40;border-color:#d4a857;border-width:2px}.player-panel .portrait{width:clamp(24px,4vw,48px);height:clamp(24px,4vw,48px);border-radius:4px;image-rendering:pixelated;flex-shrink:0}.player-panel .player-info{display:flex;flex-direction:column;min-width:0;flex:1}.player-panel .player-name{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,1rem);color:#e8dcc4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player-panel.active .player-name{color:#d4a857;font-weight:700}.player-panel .leader-star{color:#d4a857;margin-left:.25em}.player-panel .player-score{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.85rem);color:#888}.player-panel .player-hand-cards{display:flex;align-items:center;flex-shrink:0;margin-left:auto}.player-panel .mini-card{width:clamp(14px,2vw,24px);border-radius:2px;margin-left:-8px}.player-panel .mini-card:first-child{margin-left:0}.player-panel .extra-cards{font-size:clamp(.5rem,.8vw,.7rem);color:#888;margin-left:.25em}.card-slot{width:100%;flex:1;min-height:0;max-height:calc(100% - 3rem);aspect-ratio:5/7;border:2px dashed rgba(255,255,255,.15);border-radius:8px;display:flex;align-items:center;justify-content:center;position:relative;transition:all .2s ease}.card-slot.current-turn{border-color:#c41e3a;background:#c41e3a1a}.card-slot.human-turn{border-color:#d4a857;background:#d4a8571a;animation:turn-pulse 1.5s ease-in-out infinite}@keyframes turn-pulse{0%,to{box-shadow:0 0 #d4a85766}50%{box-shadow:0 0 20px 5px #d4a85733}}.card-slot .played-card{width:100%;height:100%;object-fit:contain;border-radius:6px}.card-slot .empty-slot{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.card-slot .turn-text{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.6rem,1.2vw,1rem);color:#d4a857;text-align:center;animation:pulse 1.5s ease-in-out infinite}.card-slot .turn-text.bot{color:#c41e3a}.jobs-view,.plot-view{flex:1;display:flex;flex-direction:column;gap:clamp(.3rem,.8vh,.6rem);padding:clamp(.5rem,1vh,1rem);overflow-y:auto}.gulag-view{flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden;padding:clamp(.4rem,.8vh,.6rem);gap:clamp(.4rem,.8vh,.6rem);background:radial-gradient(ellipse at 50% 0%,rgba(100,120,140,.1) 0%,transparent 60%),linear-gradient(180deg,#14191e99,#0f1216cc);position:relative}.snow-container{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;z-index:2}.snowflake{position:absolute;top:-10px;left:var(--x-start);width:var(--size);height:var(--size);background:#fff;border-radius:50%;opacity:var(--opacity);animation:snowfall var(--duration) linear var(--delay) infinite;box-shadow:0 0 3px #ffffff80}.snowflake.windy{animation:snowfall-windy var(--duration) ease-in-out var(--delay) infinite}@keyframes snowfall{0%{transform:translateY(0) translate(0);opacity:var(--opacity)}25%{transform:translateY(25vh) translate(var(--wiggle))}50%{transform:translateY(50vh) translate(calc(var(--wiggle) * -1))}75%{transform:translateY(75vh) translate(var(--wiggle))}to{transform:translateY(calc(100vh + 20px)) translate(var(--x-drift));opacity:0}}@keyframes snowfall-windy{0%{transform:translateY(0) translate(0);opacity:var(--opacity)}30%{transform:translateY(30vh) translate(var(--wind-mid))}60%{transform:translateY(55vh) translate(var(--wind-strength))}80%{transform:translateY(75vh) translate(calc(var(--wind-strength) * .7))}to{transform:translateY(calc(100vh + 20px)) translate(calc(var(--wind-strength) + var(--x-drift)));opacity:0}}.gulag-header{display:flex;align-items:center;justify-content:center;padding:clamp(.2rem,.4vh,.3rem);background:linear-gradient(90deg,transparent 0%,rgba(100,120,140,.15) 30%,rgba(100,120,140,.15) 70%,transparent 100%);border-bottom:1px solid rgba(100,120,140,.3);flex-shrink:0;position:relative;z-index:2}.gulag-header .view-title{margin:0;color:#a0b0c0;text-shadow:0 2px 8px rgba(0,0,0,.6);letter-spacing:.1em}.gulag-columns{display:flex;gap:clamp(.3rem,.6vw,.5rem);flex:1;min-height:0;overflow:hidden}.gulag-column{flex:1;display:flex;flex-direction:column;min-width:0;background:#0f1216d9;border:2px solid #3a4550;border-radius:5px;overflow:hidden;transition:all .3s ease}.gulag-column.current{border-color:#c41e3a;background:linear-gradient(180deg,rgba(196,30,58,.15) 0%,transparent 30%),#141212e6;box-shadow:0 0 15px #c41e3a40}.gulag-column .column-header{display:flex;align-items:center;justify-content:space-between;padding:clamp(.3rem,.6vh,.5rem) clamp(.4rem,.8vw,.6rem);background:#0000004d;border-bottom:1px solid rgba(100,120,140,.2);flex-shrink:0}.gulag-column .year-number{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.7rem,1.3vw,.95rem);color:#8090a0;letter-spacing:.05em}.gulag-column.current .year-number{color:#c41e3a;text-shadow:0 0 8px rgba(196,30,58,.4)}.gulag-column .card-count{background:#c41e3a;color:#fff;font-family:Oswald,sans-serif;font-size:clamp(.55rem,.9vw,.7rem);padding:.1em .4em;border-radius:8px;font-weight:700;min-width:1.2em;text-align:center}.gulag-column .column-cards{display:flex;flex-direction:column;align-items:center;flex:1;min-height:0;overflow-y:auto;padding:clamp(.3rem,.6vh,.5rem);gap:2px}.gulag-column .exiled-card{width:clamp(45px,8vw,70px);border-radius:4px;box-shadow:0 2px 6px #00000080;flex-shrink:0;position:relative;z-index:3}.gulag-column .exiled-card:not(:first-child){margin-top:clamp(-68px,-12vh,-100px)}.gulag-column .empty-column{display:flex;align-items:center;justify-content:center;flex:1;font-family:Oswald,sans-serif;font-size:clamp(1rem,2vw,1.4rem);color:#3a4550}.view-title{font-family:Russo One,Oswald,sans-serif;color:#d4a857;font-size:clamp(1rem,2vw,1.5rem);text-align:center;margin:0 0 .5rem}.job-row,.year-row,.plot-row{display:flex;align-items:center;gap:clamp(.5rem,1vw,1rem);padding:clamp(.4rem,.8vh,.8rem);background:#1e1e1e80;border:1px solid #444;border-radius:4px}.job-row.trump{background:#c41e3a26;border-color:#c41e3a}.job-row.claimed{border-color:var(--green)}.year-row.current{background:#c41e3a33;border-color:#c41e3a}.job-info,.year-info{display:flex;flex-direction:column;align-items:center;min-width:clamp(40px,5vw,60px)}.year-info .year-number{font-family:Russo One,Oswald,sans-serif;font-size:clamp(1rem,2vw,1.5rem);color:#e8dcc4}.year-info .card-count{background:#c41e3a;color:#fff;font-size:clamp(.6rem,1vw,.8rem);padding:.1em .4em;border-radius:10px;font-weight:700}.job-reward{flex-shrink:0}.reward-card{width:clamp(35px,5vw,55px);aspect-ratio:5/7;border-radius:4px}.reward-card.dimmed{opacity:.4}.job-cards,.year-cards,.plot-cards{flex:1;display:flex;gap:clamp(2px,.5vw,6px);overflow-x:auto;padding:2px}.bucket-card,.exiled-card,.plot-card{width:clamp(30px,4vw,50px);aspect-ratio:5/7;border-radius:3px;flex-shrink:0}.empty-bucket,.empty-year,.empty-plot{width:clamp(30px,4vw,50px);aspect-ratio:5/7;border:1px dashed rgba(255,255,255,.1);border-radius:3px}.more-cards{font-size:clamp(.6rem,1vw,.8rem);color:#888;display:flex;align-items:center}.plot-row.revealed{background:#4caf501a;border-color:var(--green)}.plot-row.hidden{background:#c41e3a1a;border-color:#c41e3a}.plot-row .row-label{display:flex;flex-direction:column;min-width:clamp(60px,8vw,100px)}.plot-row .row-label .title{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,1rem)}.plot-row.revealed .row-label .title{color:var(--green)}.plot-row.hidden .row-label .title{color:#c41e3a}.plot-row .row-label .subtitle{font-size:clamp(.5rem,.9vw,.75rem);color:#888}.plot-total{text-align:center;font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1.1rem);color:#888;margin-top:.5rem}.trump-selection{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000c;z-index:10}.selection-title{font-family:Russo One,Oswald,sans-serif;color:#d4a857;font-size:clamp(1.2rem,2.5vw,2rem);margin-bottom:clamp(1rem,3vh,2rem)}.trump-buttons{display:flex;gap:clamp(.5rem,2vw,1.5rem);flex-wrap:wrap;justify-content:center}.trump-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;width:clamp(80px,15vw,140px);padding:clamp(.5rem,1.5vh,1rem);background:#1e1e1ee6;border:2px solid #d4a857;border-radius:8px;cursor:pointer;transition:all .2s ease}.trump-btn:hover{background:#d4a85726;transform:scale(1.05);box-shadow:0 0 20px #d4a8574d}.trump-btn .suit-symbol{font-size:clamp(1.5rem,3vw,2.5rem)}.trump-btn.hearts .suit-symbol,.trump-btn.diamonds .suit-symbol{color:#c41e3a}.trump-btn.clubs .suit-symbol,.trump-btn.spades .suit-symbol{color:#e8dcc4}.trump-btn .suit-name{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.3vw,1rem);color:#e8dcc4;margin-top:.3em}.trump-waiting{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:#000000b3;z-index:10}.trump-waiting .waiting-text{font-family:Russo One,Oswald,sans-serif;font-size:clamp(1rem,2vw,1.4rem);color:#d4a857;text-shadow:0 2px 8px rgba(0,0,0,.6);animation:waiting-pulse 1.5s ease-in-out infinite}.assignment-view{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden;background:linear-gradient(135deg,rgba(139,0,0,.04) 0%,transparent 50%),linear-gradient(225deg,rgba(212,168,87,.03) 0%,transparent 50%)}.assignment-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:clamp(.4rem,1vw,.8rem);flex:1;min-height:0;padding:clamp(.4rem,.8vh,.6rem) clamp(.5rem,1vw,1rem) clamp(.8rem,1.5vh,1.2rem);overflow:hidden;position:relative;z-index:1}.assign-job-tile{display:flex;flex-direction:column;padding:clamp(.4rem,.8vh,.6rem) clamp(.3rem,.6vw,.5rem);background:#141414cc;border:2px solid #d4a857;border-radius:4px;transition:all .2s ease;min-height:0;overflow:hidden}.assign-job-tile.trump{background:#d4a8571a;border-color:#d4a857;box-shadow:inset 0 0 30px #d4a8571a,0 0 15px #d4a85733}.assign-job-tile.claimed{opacity:.4;border-color:var(--green)}.assign-job-tile.invalid-target{opacity:.5;border-color:#8b0000;background:#8b00001a}.assign-job-tile.valid-target{border-color:#d4a857;border-style:dashed}.assign-job-tile.drop-target{border-color:#d4a857;box-shadow:0 0 20px #d4a85766;animation:tile-pulse 1s ease-in-out infinite}@keyframes tile-pulse{0%,to{box-shadow:0 0 15px #d4a8574d}50%{box-shadow:0 0 25px #d4a85780}}.assign-job-tile.drop-hover{border-color:var(--green);border-style:solid;background:#4caf5026;box-shadow:0 0 25px #4caf5066;animation:none}.tile-header-row{display:flex;align-items:stretch;gap:.5rem;padding-bottom:clamp(.25rem,.5vh,.4rem);margin-bottom:clamp(.25rem,.5vh,.4rem);border-bottom:1px solid #444}.tile-header-left{display:flex;flex-direction:column;gap:.2rem;flex:1;min-width:0}.tile-header-top{display:flex;align-items:center;gap:.3rem}.tile-header-top .suit-symbol{font-size:clamp(1.4rem,2.5vw,1.8rem);flex-shrink:0}.tile-header-top .trump-badge{color:gold;font-size:clamp(.9rem,1.5vw,1.1rem);text-shadow:0 0 8px rgba(255,215,0,.5);flex-shrink:0}.tile-header-top .trump-face-badges{display:flex;gap:3px;margin-left:4px;flex-shrink:0}.tile-header-top .trump-face-badge{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,.85rem);font-weight:600;color:gold;background:#8b0000b3;border:1px solid #ffd700;border-radius:3px;padding:1px 5px;line-height:1.3;text-shadow:0 0 4px rgba(255,215,0,.5);animation:face-badge-glow 2s ease-in-out infinite}.tile-header-top .progress-track{flex:1;height:clamp(6px,1vh,8px);background:#1a1a1a;border:1px solid #444;border-radius:3px;overflow:hidden;min-width:0}.tile-header-top .progress-fill{height:100%;background:linear-gradient(90deg,#8b6914,#d4a857);transition:width .3s ease}.tile-header-left .progress-text-wrapper{position:relative}.tile-header-left .progress-text{font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1rem);color:#d4a857}.tile-header-left .point-popup{position:absolute;top:0;left:100%;margin-left:.5rem;font-family:Oswald,sans-serif;font-size:clamp(1.1rem,2vw,1.4rem);font-weight:700;color:gold;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000,0 0 4px rgba(255,215,0,.4);white-space:nowrap;animation:point-popup-float 1.2s ease-out forwards;pointer-events:none}.tile-header-left .point-popup.remove{color:#f55;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000,0 0 4px rgba(255,85,85,.4)}.tile-header-right{display:flex;align-items:center;flex-shrink:0}.tile-header-right .tile-reward{flex-shrink:0}.tile-header-right .reward-card{height:clamp(56px,10vh,80px);border-radius:3px;box-shadow:0 2px 6px #0006}.tile-header-right .reward-card.dimmed{opacity:.4}.tile-header-right .reward-card.claimed{opacity:1;border:2px solid var(--green);box-shadow:0 0 8px #4caf5066}@keyframes point-popup-float{0%{opacity:1;transform:translate(-50%) translateY(0)}to{opacity:0;transform:translate(-50%) translateY(20px)}}.tile-card-stack{display:flex;flex-direction:column;align-items:center;flex:1;min-height:0;padding:.2rem 0;overflow:hidden}.tile-card-stack .drop-hint{font-family:Oswald,sans-serif;font-size:clamp(.5rem,.85vw,.65rem);color:#666;text-transform:uppercase;letter-spacing:.02em;margin-top:auto}.tile-card-stack .drop-unavailable{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.8rem);color:#444;margin:auto}.tile-card-stack .stacked-card{height:clamp(96px,17vh,132px);border-radius:4px;box-shadow:0 2px 6px #0006;flex-shrink:0}.tile-card-stack .stacked-card:not(:first-child){margin-top:clamp(-77px,-13.5vh,-105px)}.tile-card-stack .assigned-card-wrapper{cursor:grab;transition:transform .15s ease,opacity .15s ease}.tile-card-stack .assigned-card-wrapper:not(:first-child){margin-top:clamp(-77px,-13.5vh,-105px)}.tile-card-stack .assigned-card-wrapper:active{cursor:grabbing}.tile-card-stack .assigned-card-wrapper:hover{transform:scale(1.05) translateY(-2px);z-index:10}.tile-card-stack .assigned-card-wrapper.dragging{opacity:.3;transform:scale(.9)}.tile-card-stack .stacked-card.assigned{border:2px solid #d4a857;box-shadow:0 2px 8px #00000080}.assignment-controls{display:flex;align-items:center;justify-content:center;gap:clamp(.75rem,2vw,1.5rem);padding:clamp(.35rem,.8vh,.5rem);background:#00000080;border-top:2px solid #c41e3a;flex-shrink:0}.trick-cards-to-assign{display:flex;gap:clamp(.4rem,1vw,.75rem);align-items:center}.assign-card{position:relative;cursor:grab;transition:transform .15s ease,opacity .15s ease}.assign-card:active{cursor:grabbing}.assign-card img{height:clamp(45px,8vh,70px);border-radius:4px;border:2px solid rgba(212,168,87,.3);box-shadow:0 3px 10px #00000080;transition:all .15s ease}.assign-card:hover:not(.dragging){transform:translateY(-4px) rotate(-2deg)}.assign-card:hover:not(.dragging) img{border-color:#d4a857;box-shadow:0 6px 15px #0009,0 0 15px #d4a8574d}.assign-card.dragging{opacity:.3;transform:scale(.9)}.assign-card.assigned img{border-color:var(--green)}.assigned-badge{position:absolute;bottom:-4px;right:-4px;width:clamp(18px,3vw,24px);height:clamp(18px,3vw,24px);background:#0a0a0a;border:2px solid #d4a857;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:clamp(10px,1.5vw,14px);transform:rotate(-10deg);box-shadow:0 2px 4px #00000080}.assigned-badge.hearts,.assigned-badge.diamonds{color:#c41e3a}.assigned-badge.clubs,.assigned-badge.spades{color:#e8dcc4}.confirm-assignments-btn{padding:clamp(.35rem,.8vh,.5rem) clamp(.8rem,2vw,1.2rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:2px solid #d4a857;border-radius:3px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.65rem,1.3vw,.9rem);letter-spacing:.1em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 3px 10px #0006}.confirm-assignments-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 20px #c41e3a80,0 0 30px #d4a85733;transform:scale(1.05)}.swap-view{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden;padding:clamp(.5rem,1vh,1rem);gap:clamp(.5rem,1vh,.8rem);background:radial-gradient(ellipse at 50% 0%,rgba(60,45,30,.3) 0%,transparent 60%),linear-gradient(180deg,#1e191466,#140f0a99)}.swap-view .view-title{font-family:Russo One,Oswald,sans-serif;color:#d4a857;font-size:clamp(1.1rem,2.2vw,1.6rem);text-align:center;margin:0;padding-bottom:clamp(.3rem,.6vh,.5rem);border-bottom:2px solid rgba(212,168,87,.3);text-shadow:0 2px 8px rgba(0,0,0,.6);letter-spacing:.05em}.swap-row{display:flex;flex-direction:column;flex:1;min-height:0;padding:clamp(.5rem,1vh,.8rem);background:#0f0c0ad9;border:2px solid #3a3025;border-radius:6px;position:relative;overflow:hidden}.swap-row:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(90deg,transparent 0px,transparent 2px,rgba(60,45,30,.03) 2px,rgba(60,45,30,.03) 4px);pointer-events:none}.swap-row.revealed{border-color:var(--green-dark);background:linear-gradient(135deg,rgba(45,90,58,.15) 0%,transparent 50%),#0f120fe6;box-shadow:inset 0 1px #4caf501a,0 2px 8px #0000004d}.swap-row.hidden{border-color:#5a2d2d;background:linear-gradient(135deg,rgba(90,45,45,.15) 0%,transparent 50%),#120f0fe6;box-shadow:inset 0 1px #c41e3a1a,0 2px 8px #0000004d}.swap-row .row-header{display:flex;align-items:baseline;gap:.5rem;margin-bottom:clamp(.4rem,.8vh,.6rem);padding-bottom:clamp(.3rem,.6vh,.5rem);border-bottom:1px solid rgba(255,255,255,.08);position:relative;z-index:1}.swap-row .row-title{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.9rem,1.6vw,1.2rem);letter-spacing:.03em;text-transform:uppercase}.swap-row.revealed .row-title{color:var(--green);text-shadow:0 0 12px rgba(92,184,92,.3)}.swap-row.hidden .row-title{color:#d9534f;text-shadow:0 0 12px rgba(217,83,79,.3)}.swap-row .row-subtitle{font-family:Oswald,sans-serif;font-size:clamp(.55rem,1vw,.75rem);color:#666;font-weight:300}.swap-cards{display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;align-content:flex-start;gap:clamp(.5rem,1vw,.8rem);overflow-y:auto;padding:clamp(.2rem,.4vh,.3rem);position:relative;z-index:1}.swap-card-slot{position:relative;cursor:grab;transition:transform .2s cubic-bezier(.34,1.56,.64,1),box-shadow .2s ease;border-radius:6px}.swap-card-slot:active{cursor:grabbing}.swap-card-slot img{height:clamp(70px,14vh,120px);border-radius:5px;box-shadow:0 3px 8px #00000080,0 1px 2px #0000004d;transition:box-shadow .2s ease;display:block}.swap-card-slot:hover{transform:translateY(-4px) scale(1.03)}.swap-card-slot:hover img{box-shadow:0 8px 20px #0009,0 0 15px #d4a85733}.swap-card-slot.readonly{cursor:default}.swap-card-slot.readonly:hover{transform:none}.swap-card-slot.readonly:hover img{box-shadow:0 3px 8px #00000080,0 1px 2px #0000004d}.swap-card-slot.drop-target{animation:swap-slot-pulse 1.5s ease-in-out infinite}.swap-card-slot.drop-target:after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:2px dashed #d4a857;border-radius:8px;pointer-events:none;animation:swap-border-rotate 3s linear infinite}@keyframes swap-slot-pulse{0%,to{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.02);filter:brightness(1.1)}}@keyframes swap-border-rotate{0%{border-color:#d4a857}33%{border-color:#c9a050}66%{border-color:#b89045}to{border-color:#d4a857}}.swap-card-slot.drop-hover{transform:scale(1.08);animation:none}.swap-card-slot.drop-hover:after{content:"";position:absolute;top:-5px;right:-5px;bottom:-5px;left:-5px;border:3px solid var(--green);border-radius:8px;background:#5cb85c26;pointer-events:none;animation:swap-hover-glow .5s ease-out}.swap-card-slot.drop-hover img{box-shadow:0 0 25px #5cb85c80,0 8px 20px #00000080}@keyframes swap-hover-glow{0%{box-shadow:0 0 #5cb85c00}to{box-shadow:0 0 30px #5cb85c66}}.swap-card-slot.dragging{opacity:.35;transform:scale(.92);cursor:grabbing}.swap-card-slot.dragging img{box-shadow:0 1px 3px #0000004d}.swap-row .empty-slot{display:flex;align-items:center;justify-content:center;min-width:clamp(60px,11vw,90px);min-height:clamp(84px,15vh,126px);border:2px dashed rgba(255,255,255,.12);border-radius:6px;font-family:Oswald,sans-serif;font-size:clamp(.6rem,1.1vw,.8rem);color:#555;text-align:center;padding:.5rem;background:#0003}.swap-row.revealed .empty-slot{border-color:#5cb85c33;color:#5cb85c80}.swap-row.hidden .empty-slot{border-color:#d9534f33;color:#d9534f80}.swap-total{text-align:center;font-family:Oswald,sans-serif;font-size:clamp(.85rem,1.5vw,1.1rem);color:#888;padding:clamp(.4rem,.8vh,.6rem);margin-top:auto;border-top:1px solid rgba(255,255,255,.08);background:#0003;border-radius:0 0 4px 4px}.swap-view.multiplayer{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden;padding:clamp(.3rem,.6vh,.5rem) clamp(.4rem,.8vw,.6rem);gap:clamp(.3rem,.6vh,.5rem);background:radial-gradient(ellipse at 30% 20%,rgba(139,69,19,.08) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(60,45,30,.1) 0%,transparent 40%),linear-gradient(180deg,#19140ff2,#0f0c0afa)}.swap-header{display:flex;align-items:center;justify-content:space-between;padding:clamp(.3rem,.6vh,.5rem) clamp(.5rem,1vw,.8rem);background:linear-gradient(90deg,#8b000033,#140f0ae6 30%,#140f0ae6 70%,#8b000033);border:1px solid #3a3025;border-radius:4px;position:relative;flex-shrink:0}.swap-header:before,.swap-header:after{content:"☆";position:absolute;font-size:clamp(.6rem,1vw,.8rem);color:#d4a857;opacity:.6}.swap-header:before{left:clamp(.3rem,.6vw,.5rem)}.swap-header:after{right:clamp(.3rem,.6vw,.5rem)}.swap-header .view-title{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.9rem,1.8vw,1.3rem);color:#d4a857;margin:0;padding:0;border:none;text-shadow:0 2px 6px rgba(0,0,0,.6);letter-spacing:.08em;text-transform:uppercase}.swap-header .turn-indicator{font-family:Oswald,sans-serif;font-size:clamp(.75rem,1.4vw,1rem);color:#e8dcc4;padding:clamp(.15rem,.3vh,.25rem) clamp(.4rem,.8vw,.6rem);background:#c41e3a4d;border:1px solid #c41e3a;border-radius:3px;animation:turn-glow 2s ease-in-out infinite}@keyframes turn-glow{0%,to{box-shadow:0 0 8px #c41e3a4d}50%{box-shadow:0 0 15px #c41e3a80}}.swap-bots-row{display:flex;gap:clamp(.3rem,.6vw,.5rem);flex-shrink:0}.swap-bot-section{flex:1;display:flex;flex-direction:column;padding:clamp(.25rem,.5vh,.4rem);background:#14120fe6;border:2px solid #3a3025;border-radius:5px;transition:all .3s ease;position:relative;overflow:hidden}.swap-bot-section:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(-45deg,transparent 0px,transparent 8px,rgba(60,45,30,.03) 8px,rgba(60,45,30,.03) 16px);pointer-events:none}.swap-bot-section.active{border-color:#d4a857;background:linear-gradient(135deg,rgba(212,168,87,.12) 0%,transparent 60%),#191612f2;box-shadow:0 0 20px #d4a85740,inset 0 1px #d4a85726;animation:bot-active-pulse 1.5s ease-in-out infinite}@keyframes bot-active-pulse{0%,to{box-shadow:0 0 15px #d4a85733,inset 0 1px #d4a85726}50%{box-shadow:0 0 25px #d4a85759,inset 0 1px #d4a85733}}.swap-bot-section.confirmed{border-color:var(--green-dark);background:linear-gradient(135deg,rgba(76,175,80,.08) 0%,transparent 50%),#121412d9;opacity:.7}.swap-bot-section.confirmed:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:#00000026;pointer-events:none}.swap-bot-header{display:flex;align-items:center;gap:clamp(.2rem,.4vw,.35rem);padding-bottom:clamp(.15rem,.3vh,.25rem);border-bottom:1px solid rgba(255,255,255,.06);margin-bottom:clamp(.15rem,.3vh,.25rem);position:relative;z-index:1}.swap-bot-portrait{width:clamp(24px,4vw,36px);height:clamp(24px,4vw,36px);border-radius:3px;border:1px solid #4a4035;image-rendering:pixelated;flex-shrink:0;background:#1a1815}.swap-bot-section.active .swap-bot-portrait{border-color:#d4a857;box-shadow:0 0 8px #d4a85766}.swap-bot-section.confirmed .swap-bot-portrait{border-color:var(--green)}.swap-bot-name{font-family:Oswald,sans-serif;font-size:clamp(.65rem,1.2vw,.9rem);color:#a09080;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}.swap-bot-section.active .swap-bot-name{color:#d4a857;font-weight:500}.swap-bot-section.confirmed .swap-bot-name{color:var(--green)}.confirmed-check{color:var(--green);margin-left:.3em;font-size:.9em;text-shadow:0 0 6px rgba(76,175,80,.5)}.swap-bot-hand{display:flex;align-items:center;margin-left:auto;flex-shrink:0}.swap-bot-hand .swap-hand-card{height:clamp(36px,7vh,48px);border-radius:3px;margin-left:-10px;box-shadow:0 1px 4px #0006}.swap-bot-hand .swap-hand-card:first-child{margin-left:0}.swap-bot-hand .extra-cards{font-size:clamp(.5rem,.9vw,.7rem);color:#888;margin-left:.25em}.swap-bot-cards{display:flex;flex-wrap:wrap;flex:1;align-content:flex-start;min-height:clamp(36px,6vh,50px);position:relative;z-index:1;padding-left:8px}.swap-bot-cards .no-cards{color:#444;font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.8rem);width:100%;text-align:center;padding:clamp(.5rem,1vh,.8rem) 0}.swap-mini-card{height:clamp(32px,6vh,44px);border-radius:3px;box-shadow:0 1px 4px #0006;transition:transform .2s ease;margin-left:-8px}.swap-mini-card:first-child{margin-left:0}.swap-mini-card.revealed{border:1px solid rgba(92,184,92,.3)}.swap-mini-card.back{border:1px solid rgba(139,0,0,.3);opacity:.8}.swap-bot-section.active .swap-mini-card{transform:translateY(-1px)}.swap-mini-card.bot-swapped{animation:bot-swap-in .5s cubic-bezier(.34,1.56,.64,1) forwards}@keyframes bot-swap-in{0%{transform:translateY(-20px) scale(.8);opacity:0;box-shadow:0 0 20px #d4a857cc}50%{transform:translateY(4px) scale(1.1);opacity:1;box-shadow:0 0 25px #d4a857}to{transform:translateY(0) scale(1);opacity:1;box-shadow:0 1px 4px #0006}}.swap-view.requisition-mode{background:radial-gradient(ellipse at 50% 0%,rgba(196,30,58,.1) 0%,transparent 60%),linear-gradient(180deg,#14191e99,#0f1216cc)}.swap-view.requisition-mode .view-title{color:var(--soviet-red)}.requisition-status{font-size:clamp(.9rem,2vw,1.1rem);color:var(--soviet-red);margin-left:1rem;animation:pulse-red 1.5s ease-in-out infinite}@keyframes pulse-red{0%,to{opacity:1}50%{opacity:.6}}.requisition-job-indicator{display:flex;align-items:center;gap:.5rem;padding:.3rem .8rem;background:#0009;border-radius:20px;border:2px solid;animation:job-indicator-appear .3s ease-out}.requisition-job-indicator.header{border-color:var(--gold);animation:job-indicator-appear .3s ease-out,job-pulse 1s ease-in-out infinite}.requisition-job-indicator.revealing{border-color:var(--gold);background:#d4a85733}.requisition-job-indicator.exiling{border-color:var(--soviet-red);background:#c41e3a33;animation:exile-indicator-pulse .6s ease-in-out infinite}.requisition-job-indicator .suit-symbol{font-size:1.5rem}.requisition-job-indicator .job-status{font-family:Oswald,sans-serif;font-size:1rem;color:var(--cream);text-transform:uppercase;letter-spacing:.05em}@keyframes job-indicator-appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes job-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes exile-indicator-pulse{0%,to{box-shadow:0 0 10px #c41e3a66}50%{box-shadow:0 0 20px #c41e3acc}}.swap-mini-card.dimmed,.swap-card-slot.dimmed{opacity:.3;filter:saturate(.3) brightness(.6);transition:opacity .3s ease,filter .3s ease}.swap-mini-card.newly-revealed,.swap-card-slot.newly-revealed{animation:card-reveal .6s ease-out forwards;z-index:10}.swap-mini-card.newly-revealed,.swap-card-slot.newly-revealed img{box-shadow:0 0 20px #d4a857e6}@keyframes card-reveal{0%{transform:scale(.6) rotateY(180deg);opacity:0;filter:brightness(2)}40%{transform:scale(1.15) rotateY(90deg);opacity:1;filter:brightness(1.3)}to{transform:scale(1) rotateY(0);opacity:1;filter:brightness(1)}}.swap-mini-card.about-to-exile,.swap-card-slot.about-to-exile img{box-shadow:0 0 12px #c41e3acc;outline:2px solid rgba(196,30,58,.9);outline-offset:1px}.swap-mini-card.exiling,.swap-card-slot.exiling{animation:exile-pulse .5s ease-in-out infinite;z-index:20}.swap-mini-card.exiling,.swap-card-slot.exiling img{box-shadow:0 0 25px #c41e3a}@keyframes exile-pulse{0%,to{transform:scale(1);filter:brightness(1);box-shadow:0 0 15px #c41e3acc}50%{transform:scale(1.1);filter:brightness(1.2);box-shadow:0 0 30px #c41e3a}}.swap-player-section{display:flex;gap:clamp(.3rem,.6vw,.5rem);flex:1;min-height:0;transition:opacity .3s ease,filter .3s ease}.swap-player-section.disabled{opacity:.5;filter:saturate(.6);pointer-events:none}.swap-player-section.disabled:after{content:"Ожидание...";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:Russo One,Oswald,sans-serif;font-size:clamp(.9rem,1.8vw,1.2rem);color:#d4a857;text-shadow:0 2px 10px rgba(0,0,0,.8);letter-spacing:.1em;z-index:10;animation:waiting-pulse 1.5s ease-in-out infinite}@keyframes waiting-pulse{0%,to{opacity:.6}50%{opacity:1}}.swap-player-box{flex:1;display:flex;flex-direction:column;padding:clamp(.25rem,.5vh,.4rem);background:#0f0c0ae6;border:2px solid #3a3025;border-radius:5px;min-height:0;overflow:hidden;position:relative}.swap-player-box:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(90deg,transparent 0px,transparent 3px,rgba(60,45,30,.02) 3px,rgba(60,45,30,.02) 6px);pointer-events:none}.swap-player-box.hidden{border-color:#5a2d2d;background:linear-gradient(135deg,rgba(90,45,45,.1) 0%,transparent 40%),#120e0eeb}.swap-player-box.revealed{border-color:var(--green-dark);background:linear-gradient(135deg,rgba(45,90,58,.1) 0%,transparent 40%),#0e120eeb}.swap-player-box .box-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:clamp(.15rem,.3vh,.25rem);border-bottom:1px solid rgba(255,255,255,.06);margin-bottom:clamp(.2rem,.4vh,.35rem);position:relative;z-index:1}.swap-player-box .box-title{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.75rem,1.4vw,1rem);letter-spacing:.04em;text-transform:uppercase}.swap-player-box.hidden .box-title{color:#d9534f;text-shadow:0 0 10px rgba(217,83,79,.3)}.swap-player-box.revealed .box-title{color:var(--green);text-shadow:0 0 10px rgba(92,184,92,.3)}.swap-player-box .box-count{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1.1vw,.8rem);color:#666;padding:.1em .4em;background:#0000004d;border-radius:3px}.swap-player-box .swap-cards{display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;align-content:flex-start;gap:clamp(.25rem,.5vw,.4rem);flex:1;min-height:0;overflow-y:auto;padding:clamp(.1rem,.2vh,.2rem);position:relative;z-index:1}.swap-card-slot.disabled{cursor:not-allowed;opacity:.6}.swap-card-slot.disabled:hover{transform:none}.swap-card-slot.disabled img{filter:grayscale(30%)}.swap-player-box .empty-slot{display:flex;align-items:center;justify-content:center;width:100%;flex:1;min-height:clamp(50px,10vh,80px);border:2px dashed rgba(255,255,255,.08);border-radius:5px;font-family:Oswald,sans-serif;font-size:clamp(.9rem,1.8vw,1.2rem);color:#333;background:#00000026}.swap-status-bar{display:flex;align-items:center;justify-content:space-between;padding:clamp(.3rem,.6vh,.5rem) clamp(.5rem,1vw,.8rem);background:linear-gradient(90deg,#8b000026,#140f0ad9 20%,#140f0ad9 80%,#8b000026);border:1px solid #3a3025;border-radius:4px;flex-shrink:0}.swap-status-bar .swap-total{font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1rem);color:#a09080;margin:0;padding:0;border:none;background:none;border-radius:0}.swap-status-bar .confirmed-badge{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,.9rem);color:var(--green);padding:clamp(.1rem,.2vh,.15rem) clamp(.4rem,.8vw,.6rem);background:#4caf5026;border:1px solid rgba(76,175,80,.4);border-radius:3px;text-shadow:0 0 8px rgba(76,175,80,.4);animation:confirmed-shine 2s ease-in-out infinite}@keyframes confirmed-shine{0%,to{box-shadow:0 0 5px #4caf5033}50%{box-shadow:0 0 12px #4caf5066}}.swap-status-bar .swap-confirm-btn{padding:clamp(.3rem,.6vh,.45rem) clamp(.8rem,1.6vw,1.2rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:2px solid #d4a857;border-radius:3px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.7rem,1.3vw,.95rem);letter-spacing:.08em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 2px 8px #0006}.swap-status-bar .swap-confirm-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 15px #c41e3a80,0 0 25px #d4a85733;transform:scale(1.05);border-color:gold}.swap-status-bar .swap-confirm-btn:active{transform:scale(.98);box-shadow:0 1px 4px #0006}*{-webkit-tap-highlight-color:transparent}html,body{touch-action:manipulation;overscroll-behavior:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}:root{--bg-primary: #0a0a0a;--bg-secondary: #141414;--bg-card: #1a1a1a;--gold: #d4a857;--gold-bright: #ffd700;--gold-dark: #b8860b;--red: #c41e3a;--red-dark: #8b0000;--red-bright: #dc143c;--cream: #e8dcc4;--cream-dark: #c4b89a;--text-primary: #e8dcc4;--text-secondary: #a09080;--border-gold: #d4a857;--border-dark: #333;--soviet-red: var(--red);--green: #4CAF50;--green-dark: #2d5a3a;--border-brown: #3a3025;--font-display: "Russo One", "Oswald", sans-serif;--font-body: "Oswald", sans-serif}.lobby{display:flex;flex-direction:row;align-items:stretch;justify-content:center;gap:clamp(2rem,4vw,4rem);min-height:100vh;min-height:100dvh;height:100vh;height:100dvh;padding:clamp(1rem,3vw,3rem);background:var(--bg-primary);background-image:radial-gradient(ellipse at top,rgba(212,168,87,.03) 0%,transparent 50%),radial-gradient(ellipse at bottom,rgba(196,30,58,.03) 0%,transparent 50%);overflow:hidden}.lobby-left{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;max-width:300px;gap:2rem}.lobby-title{display:flex;flex-direction:column;align-items:center;text-align:center}.lobby h1{font-family:Russo One,Oswald,sans-serif;font-size:clamp(2.5rem,6vw,5rem);color:var(--red);margin-bottom:.25rem;text-shadow:3px 3px 0 var(--gold-dark),0 0 30px rgba(196,30,58,.3);letter-spacing:.1em;text-transform:uppercase;line-height:1}.lobby h2{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.8rem,2vw,1.5rem);color:var(--gold);margin:0;letter-spacing:.2em;text-transform:uppercase}.lobby-right-panel{flex:2;max-width:500px;display:flex;align-items:stretch}.variant-options,.rules-panel{background:var(--bg-secondary);padding:clamp(1rem,2vh,2rem);border-radius:4px;border:1px solid var(--border-gold);box-shadow:0 0 20px #d4a8571a;max-height:80vh;overflow-y:auto;width:100%}.rules-panel h3{margin-bottom:clamp(.5rem,1vh,1rem);margin-top:0;color:var(--cream);font-family:Russo One,Oswald,sans-serif;letter-spacing:.1em;font-size:clamp(.9rem,1.5vw,1.1rem)}.rules-panel .rules-text h4{color:var(--gold);margin:clamp(.6rem,1vh,1rem) 0 .3rem 0;font-size:clamp(.8rem,1.3vw,.95rem);font-family:Russo One,Oswald,sans-serif}.rules-panel .rules-text h4:first-child{margin-top:0}.rules-panel .rules-text p{color:var(--cream-dark);margin:.3rem 0;font-size:clamp(.75rem,1.2vw,.9rem);line-height:1.4}.rules-panel .rules-text strong{color:var(--cream)}.variant-options h3{margin-bottom:clamp(.4rem,1vh,.75rem);margin-top:.5rem;color:var(--cream);font-family:Russo One,Oswald,sans-serif;letter-spacing:.1em;font-size:clamp(.85rem,1.5vw,1rem)}.variant-options h3:first-child{margin-top:0}.variant-options label{display:block;margin:clamp(.2rem,.4vh,.4rem) 0;cursor:pointer;color:var(--cream-dark);font-weight:400;font-size:clamp(.75rem,1.2vw,.9rem)}.variant-options label:hover{color:var(--gold)}.variant-options input{margin-right:.4rem;accent-color:var(--red)}.preset-cards{display:flex;gap:clamp(.75rem,1.5vw,1.25rem);margin-bottom:clamp(1rem,2vh,1.5rem);flex-wrap:wrap;justify-content:center}.preset-card{flex:1;min-width:120px;max-width:160px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;transform-origin:center bottom}.preset-card:hover{transform:translateY(-4px) scale(1.02)}.preset-card:active{transform:translateY(-2px) scale(1.01)}.preset-badge{position:relative;background:linear-gradient(135deg,#1a1a1a,#0d0d0d,#1a1a1a);border:3px solid var(--border-dark);border-radius:8px;padding:clamp(1rem,2vh,1.5rem) clamp(.5rem,1vw,.75rem);text-align:center;overflow:hidden;transition:all .3s ease}.preset-badge:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent 0%,var(--red) 20%,var(--red) 80%,transparent 100%);opacity:.6;transition:opacity .3s ease}.preset-card:hover .preset-badge:before,.preset-card.selected .preset-badge:before{opacity:1}.preset-badge:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:60%;height:2px;background:linear-gradient(90deg,transparent,var(--gold-dark),transparent);opacity:.3}.preset-card:hover .preset-badge,.preset-card.selected .preset-badge{border-color:var(--gold);box-shadow:0 0 20px #d4a85733,inset 0 0 30px #d4a8570d}.preset-card.selected .preset-badge{background:linear-gradient(135deg,#1f1a14,#0d0d0d,#1f1a14);border-color:var(--gold-bright);box-shadow:0 0 25px #d4a8574d,0 4px 15px #0006,inset 0 0 40px #d4a85714}.preset-star{font-size:clamp(1.2rem,2.5vw,1.6rem);color:var(--red);text-shadow:0 0 10px rgba(196,30,58,.3);margin-bottom:.25rem;transition:all .3s ease;opacity:.7}.preset-card:hover .preset-star{opacity:1;transform:scale(1.1);text-shadow:0 0 15px rgba(196,30,58,.5)}.preset-card.selected .preset-star{color:var(--gold);opacity:1;text-shadow:0 0 20px rgba(212,168,87,.6);animation:star-pulse 2s ease-in-out infinite}@keyframes star-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}.preset-name{font-family:var(--font-display);color:var(--cream);font-size:clamp(.9rem,1.5vw,1.1rem);letter-spacing:.05em;text-transform:uppercase;transition:color .3s ease}.preset-card:hover .preset-name{color:var(--cream)}.preset-card.selected .preset-name{color:var(--gold);text-shadow:0 0 10px rgba(212,168,87,.3)}.preset-ribbon{position:relative;background:linear-gradient(180deg,var(--red-dark) 0%,var(--red) 50%,var(--red-dark) 100%);margin:-2px -4px 0;padding:clamp(.3rem,.6vh,.5rem) clamp(.5rem,1vw,.75rem);text-align:center;clip-path:polygon(0% 0%,100% 0%,100% calc(100% - 6px),50% 100%,0% calc(100% - 6px));transition:all .3s ease}.preset-ribbon:before,.preset-ribbon:after{content:"";position:absolute;bottom:0;width:8px;height:8px;background:var(--red-dark)}.preset-ribbon:before{left:0;clip-path:polygon(0 0,100% 100%,0 100%)}.preset-ribbon:after{right:0;clip-path:polygon(100% 0,100% 100%,0 100%)}.preset-card:hover .preset-ribbon,.preset-card.selected .preset-ribbon{background:linear-gradient(180deg,var(--red) 0%,var(--red-bright) 50%,var(--red) 100%);box-shadow:0 4px 12px #c41e3a4d}.preset-description{color:var(--cream);font-size:clamp(.6rem,1vw,.7rem);font-family:var(--font-body);text-transform:uppercase;letter-spacing:.1em;opacity:.9}.custom-options{border-top:1px solid var(--border-dark);padding-top:clamp(.75rem,1.5vh,1rem);margin-top:clamp(.5rem,1vh,.75rem)}.custom-options h3{margin-bottom:clamp(.4rem,1vh,.75rem);margin-top:.5rem;color:var(--cream);font-family:Russo One,Oswald,sans-serif;letter-spacing:.1em;font-size:clamp(.85rem,1.5vw,1rem)}.custom-options h3:first-child{margin-top:0}.custom-options label{display:block;margin:clamp(.2rem,.4vh,.4rem) 0;cursor:pointer;color:var(--cream-dark);font-weight:400;font-size:clamp(.75rem,1.2vw,.9rem)}.custom-options label:hover{color:var(--gold)}.custom-options input{margin-right:.4rem;accent-color:var(--red)}.lobby-buttons{display:flex;flex-direction:column;gap:1rem;width:100%}.lobby button{padding:clamp(.75rem,1.5vh,1rem) clamp(2rem,4vw,3rem);font-size:clamp(1rem,1.8vw,1.2rem);font-family:Russo One,Oswald,sans-serif;border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer;transition:all .2s;letter-spacing:.1em;text-transform:uppercase}.lobby button.start-btn{background:var(--red);color:var(--cream);box-shadow:0 4px 15px #c41e3a4d}.lobby button.start-btn:hover{background:var(--red-dark);border-color:var(--gold);transform:scale(1.05);box-shadow:0 6px 20px #c41e3a80}.lobby button.rules-btn{background:var(--bg-secondary);color:var(--cream)}.lobby button.rules-btn:hover{background:var(--gold-dark);color:var(--bg-primary);border-color:var(--gold)}.lobby-rules-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.lobby-rules{background:var(--bg-primary);border:2px solid var(--gold);border-radius:8px;padding:2rem;max-width:500px;max-height:80vh;overflow-y:auto;position:relative}.lobby-rules .close-btn{position:absolute;top:10px;right:10px;background:none;border:none;color:var(--cream);font-size:1.5rem;cursor:pointer;padding:.25rem .5rem}.lobby-rules h3{font-family:Russo One,Oswald,sans-serif;color:var(--gold);margin-bottom:1rem;text-align:center}.game-board{display:flex;flex-direction:row;width:100vw;height:100vh;height:100dvh;background:var(--bg-primary);background-image:radial-gradient(ellipse at center,rgba(212,168,87,.02) 0%,transparent 70%);overflow:hidden}.game-content{display:flex;flex-direction:column;flex:1;min-width:0;height:100vh;height:100dvh}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.player-hand-area{position:fixed;bottom:0;left:0;right:0;display:flex;align-items:flex-end;justify-content:center;gap:clamp(8px,1vw,16px);padding:0 clamp(16px,3vw,40px);padding-left:calc(100px + clamp(16px,3vw,40px));background:transparent;z-index:50;overflow:visible;transform:translateY(50%)}.player-hand-area .plot-cards-section{display:flex;align-items:flex-end}.player-hand-area .plot-card{position:relative;width:var(--card-width, clamp(50px, 10vw, 120px));cursor:pointer;transition:transform .2s ease,z-index .2s;transform-origin:bottom center;margin-left:calc(var(--card-width, clamp(50px, 10vw, 120px)) * -.7);z-index:calc(var(--index, 0) + 1)}.player-hand-area .plot-card:first-child{margin-left:0}.player-hand-area .plot-card:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .plot-card.dimmed{opacity:.4;filter:saturate(.3) brightness(.7);transition:opacity .2s ease,filter .2s ease,transform .2s ease}.player-hand-area .plot-card.dimmed:hover{opacity:1;filter:none}.player-hand-area .plot-card img{width:100%;border-radius:6px;box-shadow:0 4px 8px #0000004d}.player-hand-area .hand-divider{width:3px;height:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .7);background:linear-gradient(to bottom,transparent,#d4a857 20%,#d4a857 80%,transparent);flex-shrink:0;align-self:flex-end;margin-bottom:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .75);box-shadow:0 0 8px #d4a85780}.player-hand-area .assign-cards-section{display:flex;align-items:flex-end;gap:clamp(8px,1vw,16px)}.player-hand-area .hand-card.assign-draggable{cursor:grab}.player-hand-area .hand-card.assign-draggable:active{cursor:grabbing}.player-hand-area .hand-card.assign-draggable:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .hand-card.assign-draggable:before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:8px;border:2px solid var(--gold);box-shadow:0 0 10px #d4a85780;pointer-events:none;animation:pulse-gold 1.5s ease-in-out infinite}.player-hand-area .hand-card.assign-draggable.assigned{opacity:.7}.player-hand-area .hand-card.assign-draggable.assigned:before{border-color:var(--green);box-shadow:0 0 10px #4caf5080;animation:none}.player-hand-area .hand-card .assigned-badge{position:absolute;bottom:-4px;right:-4px;width:clamp(20px,3vw,28px);height:clamp(20px,3vw,28px);background:#0a0a0a;border:2px solid #d4a857;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:clamp(12px,1.8vw,16px);font-weight:700;box-shadow:0 2px 6px #0009;z-index:10}.player-hand-area .hand-card .assigned-badge.hearts,.player-hand-area .hand-card .assigned-badge.diamonds{color:#c41e3a}.player-hand-area .hand-card .assigned-badge.clubs,.player-hand-area .hand-card .assigned-badge.spades{color:#e8dcc4}.player-hand-area .confirm-assign-btn{padding:clamp(1rem,2vh,1.6rem) clamp(2rem,5vw,3rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:3px solid #d4a857;border-radius:8px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(1.2rem,2.5vw,1.8rem);letter-spacing:.1em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 4px 15px #00000080;display:flex;align-items:center;justify-content:center;animation:confirm-appear .3s ease-out;margin-left:auto;margin-right:clamp(16px,3vw,32px);align-self:flex-start;margin-bottom:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .5)}@keyframes confirm-appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.player-hand-area .confirm-assign-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 20px #c41e3a80,0 0 30px #d4a85733;transform:scale(1.05)}.player-hand-area .hand-cards-section{display:flex;align-items:flex-end;justify-content:center;gap:clamp(8px,1vw,16px);padding-left:6px}.player-hand-area.assignment-mode .hand-cards-section{gap:0}.player-hand-area.assignment-mode .hand-cards-section .hand-card{margin-left:calc(var(--card-width, clamp(50px, 10vw, 120px)) * -.6)}.player-hand-area.assignment-mode .hand-cards-section .hand-card:first-child{margin-left:0}.player-hand-area.assignment-mode .hand-cards-section .hand-card:hover{z-index:50}.player-hand-area .hand-card{position:relative;transition:transform .2s ease,z-index 0s;transform-origin:bottom center;cursor:default}.player-hand-area .hand-card img{width:var(--card-width, clamp(50px, 10vw, 120px));border-radius:6px;box-shadow:0 4px 8px #0000004d}.player-hand-area .hand-card.playable{cursor:grab}.player-hand-area .hand-card.playable:active{cursor:grabbing}.player-hand-area .hand-card.playable:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .hand-card.playable:before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:8px;border:2px solid var(--gold);box-shadow:0 0 10px #d4a85780;pointer-events:none;animation:pulse-gold 1.5s ease-in-out infinite}.player-hand-area .hand-card.invalid{opacity:.4;cursor:not-allowed;filter:saturate(.3) brightness(.7)}.player-hand-area .hand-card.dragging{opacity:.3;pointer-events:none}.swap-controls{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 clamp(8px,1vw,16px)}.swap-confirm-btn{padding:.5rem 1rem;background:var(--red);color:var(--cream);border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer;font-size:.8rem;font-family:Russo One,Oswald,sans-serif;letter-spacing:.05em;text-transform:uppercase;transition:all .2s ease;white-space:nowrap}.swap-confirm-btn:hover{background:var(--red-dark);border-color:var(--gold);box-shadow:0 0 15px #c41e3a66}.player-hand-area .confirm-swap-btn{padding:clamp(.5rem,1vh,.8rem) clamp(1rem,2vw,1.5rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:2px solid #d4a857;border-radius:6px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.9rem,1.8vw,1.2rem);letter-spacing:.05em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 3px 10px #0006;display:flex;align-items:center;justify-content:center;animation:confirm-appear .3s ease-out;flex-shrink:0}.player-hand-area .confirm-swap-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 20px #c41e3a80,0 0 30px #d4a85733;transform:scale(1.05)}.swap-buttons{display:flex;gap:.5rem;align-items:center;flex-shrink:0;margin-left:auto;margin-right:clamp(8px,1.5vw,16px);align-self:flex-start;margin-bottom:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .5)}.player-hand-area .undo-swap-btn{padding:clamp(.4rem,.8vh,.6rem) clamp(.8rem,1.5vw,1.2rem);background:linear-gradient(135deg,#333,#555,#333);color:#e8dcc4;border:2px solid #888;border-radius:6px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.75rem,1.4vw,1rem);letter-spacing:.05em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 2px 6px #0000004d}.player-hand-area .undo-swap-btn:hover{background:linear-gradient(135deg,#444,#666,#444);box-shadow:0 0 15px #8886;transform:scale(1.05)}.swap-waiting{display:flex;align-items:center;padding:0 clamp(8px,1vw,16px)}.swap-waiting span{font-family:Russo One,Oswald,sans-serif;color:var(--gold);font-size:.75rem;letter-spacing:.05em;animation:pulse 1.5s ease-in-out infinite}.player-hand-area.swap-mode{background:linear-gradient(to top,rgba(212,168,87,.08) 0%,transparent 60%)}.player-hand-area.swap-mode .hand-card.swappable{cursor:grab;position:relative}.player-hand-area.swap-mode .hand-card.swappable:before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:8px;border:2px solid var(--gold);opacity:.6;pointer-events:none;animation:swap-ready-pulse 1.5s ease-in-out infinite}.player-hand-area.swap-mode .hand-card.swappable:hover{transform:translateY(-18px) scale(1.1);z-index:100}.player-hand-area.swap-mode .hand-card.swappable:hover:before{opacity:1;border-color:var(--gold-bright);box-shadow:0 0 20px #d4a85780;animation:none}.player-hand-area.swap-mode .hand-card.swappable:hover img{box-shadow:0 12px 30px #00000080,0 0 20px #d4a8574d}.player-hand-area.swap-mode .hand-card.swappable:active{cursor:grabbing}.player-hand-area.swap-mode .hand-card.swap-dragging{opacity:.3;transform:scale(.9);cursor:grabbing}.player-hand-area.swap-mode .hand-card.swap-dragging:before{display:none}@keyframes swap-ready-pulse{0%,to{box-shadow:0 0 8px #d4a85733;border-color:var(--gold)}50%{box-shadow:0 0 16px #d4a85766;border-color:var(--gold-bright)}}.plot-card.swappable,.hand-card.swappable{cursor:grab}.plot-card.swappable:hover,.hand-card.swappable:hover{transform:translateY(-4px) scale(1.02);z-index:10}.plot-card.swap-dragging,.hand-card.swap-dragging{opacity:.4;transform:scale(.95);cursor:grabbing}.plot-card.swap-target,.hand-card.swap-target{animation:swap-target-pulse 1s ease-in-out infinite}.plot-card.swap-target:after,.hand-card.swap-target:after{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:2px dashed var(--gold);border-radius:10px;pointer-events:none}.plot-card.swap-hover,.hand-card.swap-hover{transform:scale(1.08);z-index:20}.plot-card.swap-hover:after,.hand-card.swap-hover:after{border:3px solid var(--gold-bright);background:#4caf5040;animation:none}.plot-card.swap-hover img,.hand-card.swap-hover img{box-shadow:0 0 25px #4caf5080,0 0 50px #d4a8574d}@keyframes swap-target-pulse{0%,to{box-shadow:0 0 #d4a85700}50%{box-shadow:0 0 15px 3px #d4a85766}}.card-html{border-radius:8px;box-shadow:0 4px 8px #0000004d;transition:transform .2s,box-shadow .2s}.card-html.highlight{box-shadow:0 0 15px 5px #d4a85780}.card-html.dimmed{opacity:.4}.card-html img{border-radius:8px}.drag-ghost{position:fixed;pointer-events:none;z-index:1000;transform:translate(-50%,-50%) scale(1.1) rotate(3deg);filter:drop-shadow(0 15px 25px rgba(0,0,0,.5))}.ai-play-card{position:fixed;left:0;top:0;pointer-events:none;z-index:999;width:clamp(50px,8vw,100px);will-change:transform;transform-origin:top left;transition:transform .6s ease-out}.ai-play-card img{width:100%;border-radius:8px;box-shadow:0 8px 25px #00000080,0 0 15px #c41e3a66}@keyframes pulse-gold{0%,to{box-shadow:0 0 12px #d4a85799,0 0 24px #d4a8574d;border-color:var(--gold)}50%{box-shadow:0 0 18px #d4a857cc,0 0 32px #d4a85780;border-color:var(--gold-bright)}}.flying-card-html{position:fixed;pointer-events:none;z-index:999;width:clamp(50px,8vw,100px);filter:drop-shadow(0 8px 25px rgba(0,0,0,.5)) drop-shadow(0 0 15px rgba(212,168,87,.4));display:flex;align-items:center;justify-content:center}.flying-card-html img{width:100%;border-radius:6px;animation:card-fade .65s ease-in-out forwards}@keyframes card-fade{0%,70%{opacity:1}to{opacity:0}}.flying-card-html .flying-value{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;font-family:Russo One,Oswald,sans-serif;font-size:clamp(5rem,12vw,9rem);font-weight:700;color:gold;text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000,0 0 6px rgba(255,215,0,.5);animation:value-pop 1.8s ease-out forwards;z-index:1000}@keyframes value-pop{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.4)}to{opacity:1;transform:scale(1)}}.flying-exile-card{position:fixed;pointer-events:none;z-index:999;width:clamp(50px,8vw,100px);filter:drop-shadow(0 8px 25px rgba(196,30,58,.6)) drop-shadow(0 0 15px rgba(196,30,58,.4))}.flying-exile-card img{width:100%;border-radius:6px}.exile-point-loss{position:fixed;pointer-events:none;z-index:1001;font-family:Russo One,Oswald,sans-serif;font-size:clamp(2rem,5vw,3rem);font-weight:700;color:#f33;text-shadow:0 0 15px rgba(255,50,50,1),0 0 30px rgba(255,50,50,.8),0 0 45px rgba(255,50,50,.5),3px 3px 6px rgba(0,0,0,.9);opacity:0}.requisition-continue-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000000bf;z-index:100;animation:fade-in .3s ease-out}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.requisition-summary{text-align:center;margin-bottom:1.5rem;color:var(--text-primary)}.requisition-summary h3{font-family:Russo One,Oswald,sans-serif;font-size:clamp(1.5rem,4vw,2rem);color:var(--gold);margin-bottom:.5rem}.requisition-summary .failed-jobs{font-size:clamp(1.2rem,3vw,1.5rem);color:var(--soviet-red);margin:.5rem 0}.requisition-summary .exiled-count{font-size:1rem;color:var(--text-secondary);margin:.25rem 0}.requisition-summary .no-exile{font-size:1.1rem;color:var(--green);margin:.5rem 0}.continue-btn{padding:.8rem 2rem;font-size:clamp(1rem,2.5vw,1.2rem);font-family:Russo One,Oswald,sans-serif;background:var(--gold);color:var(--bg-primary);border:none;border-radius:6px;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 15px #d4a8574d}.continue-btn:hover{background:var(--gold-bright);transform:translateY(-2px);box-shadow:0 6px 20px #d4a85766}.continue-btn:active{transform:translateY(0)}.game-over{position:relative;display:flex;flex-direction:row;align-items:stretch;justify-content:center;gap:clamp(2rem,4vw,4rem);min-height:100vh;min-height:100dvh;height:100vh;height:100dvh;padding:clamp(1rem,3vw,3rem);background:var(--bg-primary);overflow:hidden}.victory-burst{position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-conic-gradient(from 0deg at 50% 50%,rgba(196,30,58,.06) 0deg 10deg,transparent 10deg 20deg);animation:burst-rotate 120s linear infinite;pointer-events:none}@keyframes burst-rotate{to{transform:rotate(360deg)}}.game-over-left{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;max-width:350px;gap:1.5rem;animation:left-slide .6s ease-out}@keyframes left-slide{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.game-over-title{display:flex;flex-direction:column;align-items:center;text-align:center}.victory-star{font-size:clamp(2.5rem,6vw,4rem);color:var(--gold);text-shadow:0 0 30px rgba(255,215,0,.6),0 0 60px rgba(255,215,0,.3);animation:star-pulse 2s ease-in-out infinite;line-height:1}@keyframes star-pulse{0%,to{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.1);filter:brightness(1.2)}}.game-over h1{font-family:Russo One,Oswald,sans-serif;font-size:clamp(2rem,5vw,3.5rem);color:var(--gold);margin:.25rem 0;text-shadow:3px 3px 0 var(--gold-dark),0 0 30px rgba(212,168,87,.3);letter-spacing:.1em;text-transform:uppercase;line-height:1}.game-over h2{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.8rem,2vw,1.2rem);color:var(--cream-dark);margin:0;letter-spacing:.2em;text-transform:uppercase}.winner-spotlight{display:flex;align-items:center;gap:clamp(.75rem,2vw,1.25rem);padding:clamp(.75rem,1.5vh,1.25rem) clamp(1rem,2.5vw,2rem);background:linear-gradient(135deg,#c41e3a40,#8b000059);border:2px solid var(--gold);border-radius:8px;box-shadow:0 0 30px #c41e3a40,inset 0 0 20px #d4a85714;animation:winner-glow 3s ease-in-out infinite}@keyframes winner-glow{0%,to{box-shadow:0 0 30px #c41e3a40,inset 0 0 20px #d4a85714}50%{box-shadow:0 0 50px #c41e3a66,0 0 70px #d4a85726,inset 0 0 20px #d4a8571f}}.winner-medal{position:relative;width:clamp(50px,10vw,75px);height:clamp(50px,10vw,75px);background:linear-gradient(145deg,var(--gold-bright) 0%,var(--gold) 30%,var(--gold-dark) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #00000080,inset 0 2px 8px #ffffff4d,inset 0 -2px 8px #0000004d;flex-shrink:0}.winner-medal:before{content:"";position:absolute;top:3px;right:3px;bottom:3px;left:3px;border:2px solid rgba(139,69,19,.4);border-radius:50%}.medal-star{position:absolute;font-size:clamp(2rem,5vw,3.2rem);color:var(--red);text-shadow:0 2px 4px rgba(0,0,0,.3)}.medal-rank{position:absolute;font-family:Russo One,Oswald,sans-serif;font-size:clamp(1rem,2.5vw,1.5rem);color:var(--gold-bright);text-shadow:0 0 10px rgba(255,215,0,.8),1px 1px 2px rgba(0,0,0,.5)}.winner-info{display:flex;flex-direction:column;gap:.15rem}.winner-name{font-family:Russo One,Oswald,sans-serif;font-size:clamp(1.2rem,3vw,2rem);color:var(--cream);text-transform:uppercase;letter-spacing:.08em;line-height:1.1}.winner-score{font-family:Oswald,sans-serif;font-size:clamp(1rem,2.5vw,1.5rem);color:var(--gold-bright);font-weight:700}.game-over-buttons{display:flex;flex-direction:column;gap:1rem;width:100%}.game-over .new-game-btn{padding:clamp(.75rem,1.5vh,1rem) clamp(2rem,4vw,3rem);font-size:clamp(1rem,1.8vw,1.2rem);font-family:Russo One,Oswald,sans-serif;background:var(--red);color:var(--cream);border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer;text-transform:uppercase;letter-spacing:.1em;box-shadow:0 4px 15px #c41e3a4d;transition:all .2s ease}.game-over .new-game-btn:hover{background:var(--red-dark);border-color:var(--gold);transform:scale(1.05);box-shadow:0 6px 20px #c41e3a80}.game-over .new-game-btn:active{transform:scale(.98)}.game-over-right{position:relative;z-index:1;flex:2;max-width:500px;display:flex;align-items:center;animation:right-slide .6s ease-out}@keyframes right-slide{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}.final-standings{background:var(--bg-secondary);padding:clamp(1rem,2vh,2rem);border-radius:4px;border:1px solid var(--border-gold);box-shadow:0 0 20px #d4a8571a;width:100%}.standings-header{display:flex;align-items:center;gap:clamp(.5rem,1.5vw,1rem);padding:clamp(.4rem,.8vh,.6rem) clamp(.75rem,1.5vw,1rem);margin-bottom:clamp(.5rem,1vh,.75rem);border-bottom:1px solid var(--border-dark)}.standings-header span{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,.85rem);color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.header-rank{width:1.75rem;text-align:center}.header-name{flex:1}.header-medals{width:clamp(2rem,4vw,3rem);text-align:center}.header-score{width:clamp(2.5rem,5vw,4rem);text-align:right}.standing-row{display:flex;align-items:center;gap:clamp(.5rem,1.5vw,1rem);padding:clamp(.5rem,1vh,.75rem) clamp(.75rem,1.5vw,1rem);background:#14141499;border:1px solid var(--border-dark);border-radius:4px;margin-bottom:clamp(.3rem,.6vh,.5rem);animation:row-slide .4s ease-out backwards;animation-delay:var(--delay, 0s)}.standing-row:last-child{margin-bottom:0}.standing-row.winner{background:#d4a8571f;border-color:var(--gold-dark)}@keyframes row-slide{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.standing-rank{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.9rem,1.5vw,1.1rem);color:var(--text-secondary);width:1.75rem;text-align:center}.standing-row.winner .standing-rank{color:var(--gold)}.standing-name{flex:1;font-family:Oswald,sans-serif;font-size:clamp(.9rem,1.5vw,1.1rem);color:var(--cream-dark);text-transform:uppercase;letter-spacing:.05em}.standing-row.winner .standing-name{color:var(--cream)}.standing-medals{font-family:Oswald,sans-serif;font-size:clamp(.9rem,1.5vw,1.1rem);color:var(--text-secondary);width:clamp(2rem,4vw,3rem);text-align:center}.standing-row.winner .standing-medals{color:var(--cream)}.standing-score{font-family:Oswald,sans-serif;font-size:clamp(.9rem,1.5vw,1.1rem);color:var(--cream-dark);font-weight:700;width:clamp(2.5rem,5vw,4rem);text-align:right}.standing-row.winner .standing-score{color:var(--gold-bright)}[title],.lobby h1[title],.lobby h2[title]{cursor:help}.variant-options strong[title]{cursor:help;border-bottom:1px dotted var(--gold-dark)}@media (pointer: coarse){.lobby button{min-height:48px;padding:1rem 1.5rem}}@media (orientation: portrait) and (max-width: 900px){.portrait-warning{display:flex!important}.game-board,.lobby{filter:blur(3px);pointer-events:none}}.portrait-warning{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:#0a0a0af2;z-index:9999;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem}.portrait-warning svg{width:80px;height:80px;margin-bottom:1.5rem;fill:var(--gold);animation:rotate-phone 2s ease-in-out infinite}.portrait-warning h2{font-family:Russo One,Oswald,sans-serif;color:var(--gold);font-size:1.5rem;margin-bottom:.5rem}.portrait-warning p{color:var(--cream-dark);font-size:1rem}@keyframes rotate-phone{0%,to{transform:rotate(0)}25%{transform:rotate(-15deg)}75%{transform:rotate(90deg)}}.mobile-nav-bar{display:flex;flex-shrink:0;width:clamp(100px,13vw,150px);flex-direction:column;gap:.5vh;padding:1vh .8vw;background:var(--bg-primary);border-right:1px solid var(--border-dark);z-index:100;justify-content:flex-start}.mobile-nav-bar .nav-btn{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.5vw;padding:1.5vh 1vw;background:#1a1a1a;color:var(--cream-dark);border:2px solid #333;border-radius:.5vh;cursor:pointer;transition:all .2s;box-shadow:none}.mobile-nav-bar .nav-btn .nav-icon{font-size:clamp(14px,2vw,20px)}.mobile-nav-bar .nav-btn .nav-label{font-family:Russo One,Oswald,sans-serif;font-size:clamp(9px,1.2vw,14px);letter-spacing:.1em;text-transform:uppercase}.mobile-nav-bar .nav-btn:hover{background:#2a2a2a;border-color:var(--gold-dark);color:var(--cream)}.mobile-nav-bar .nav-btn.active{background:var(--red);color:var(--cream);border-color:var(--gold);box-shadow:0 4px 15px #c41e3a66}.mobile-nav-bar .nav-btn.lang-toggle{margin-top:auto}.mobile-panel-content{flex:1;background:var(--bg-primary);display:flex;align-items:center;justify-content:center;padding:20px;overflow-y:auto}.mobile-panel-content>div{max-width:500px;width:100%;max-height:90vh;overflow-y:auto;background:var(--bg-secondary);border:2px solid var(--gold);border-radius:8px;padding:20px}.mobile-panel-content h3{font-family:Russo One,Oswald,sans-serif;color:var(--gold);margin:0 0 15px;font-size:1.3rem}.mobile-panel-content h4{font-family:Russo One,Oswald,sans-serif;color:var(--cream);margin:15px 0 8px;font-size:1rem}.mobile-panel-content h5{color:var(--gold);margin:12px 0 6px;font-size:.9rem}.mobile-panel-content p{color:var(--cream-dark);margin:4px 0;font-size:.85rem;line-height:1.4}.options-panel{display:flex;flex-direction:column;height:100%}.options-panel .rules-section{flex:1;overflow-y:auto}.options-panel .menu-btn-action{margin-top:20px;padding:12px 24px;font-family:Russo One,Oswald,sans-serif;font-size:1rem;background:var(--red);color:var(--cream);border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer}.jobs-panel{display:flex;flex-direction:column;height:100%}.jobs-header,.gulag-header{display:flex;align-items:center;gap:15px;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #333}.jobs-header h3,.gulag-header h3{margin:0}.jobs-count,.gulag-count{color:var(--cream-dark);font-size:.9rem}.jobs-grid{display:flex;flex:1;gap:10px;overflow-x:auto}.job-column{flex:1;min-width:70px;max-width:120px;display:flex;flex-direction:column;background:#0000004d;border-radius:6px;padding:8px}.job-column.trump{background:#ffd7001a;border:1px solid var(--gold-dark)}.job-column.claimed{opacity:.6}.job-header-row{display:flex;align-items:center;gap:6px;margin-bottom:8px}.job-header-row .suit-symbol{font-size:20px}.job-header-row .suit-symbol.hearts,.job-header-row .suit-symbol.diamonds{color:var(--red)}.job-header-row .suit-symbol.clubs,.job-header-row .suit-symbol.spades{color:var(--cream)}.progress-bar-container{flex:1;height:16px;background:#222;border-radius:8px;position:relative;overflow:hidden}.progress-bar-fill{height:100%;background:#2196f3;border-radius:8px;transition:width .3s}.progress-bar-fill.complete{background:var(--green)}.progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:10px;font-weight:700;color:#fff}.job-cards-stack{display:flex;flex-direction:column;align-items:center;flex:1;overflow-y:auto}.job-cards-stack .job-card{width:55px;height:auto;border-radius:4px}.job-cards-stack .more-cards{font-size:11px;color:var(--cream-dark);margin-top:5px}.gulag-panel{display:flex;flex-direction:column;height:100%}.gulag-grid{display:flex;flex:1;gap:8px;overflow-x:auto}.year-column{flex:1;min-width:60px;max-width:100px;display:flex;flex-direction:column;align-items:center}.year-column.past{opacity:.5}.year-column.current .year-header{background:#c41e3a66;border-color:var(--red)}.year-header{display:flex;align-items:center;justify-content:center;gap:6px;padding:6px 12px;background:#1e1e1ee6;border:1px solid #333;border-radius:4px;margin-bottom:8px}.year-number{font-family:var(--font-body);font-size:14px;color:var(--cream)}.year-badge{background:var(--red);color:#fff;font-size:10px;padding:2px 6px;border-radius:10px}.year-cards{display:flex;flex-direction:column;align-items:center;flex:1;overflow-y:auto}.year-cards .gulag-card{width:50px;height:auto;border-radius:3px}.year-cards .empty-slot{width:50px;height:70px;border:1px dashed #333;border-radius:3px}.year-cards .more-cards{font-size:11px;color:var(--cream-dark);margin-top:5px}.suit-symbol.hearts,.suit-symbol.diamonds{color:var(--red)}.suit-symbol.clubs,.suit-symbol.spades{color:var(--cream)}.assigned-label{font-size:11px;color:#999;margin-bottom:4px;font-family:Oswald,sans-serif}.assigned-stack{display:flex;flex-direction:column;align-items:center}.assigned-card{width:55px;height:auto;border-radius:3px}.more-cards{font-size:11px;color:#888;margin-top:4px}.suit-icon.hearts,.suit-icon.diamonds{color:var(--red)}.suit-icon.clubs,.suit-icon.spades{color:var(--cream)}.menu-options{display:flex;flex-direction:column;gap:12px}.menu-option{padding:16px 20px;font-family:Oswald,sans-serif;font-size:18px;background:var(--bg-secondary);color:var(--cream);border:2px solid var(--border-dark);border-radius:6px;cursor:pointer;text-align:left;transition:all .2s}.menu-option:active{background:var(--gold-dark);color:var(--bg-primary);border-color:var(--gold)}.rules-panel .rules-content{max-width:500px}.rules-text{text-align:left}.rules-text h4{color:var(--gold);font-family:Russo One,Oswald,sans-serif;margin-top:15px;margin-bottom:8px;font-size:1rem}.rules-text h4:first-child{margin-top:0}.rules-text p{color:var(--cream-dark);margin-bottom:6px;font-size:14px;line-height:1.4}.rules-text strong{color:var(--gold)}.game-board:has(.mobile-panel-content) .game-content{display:none}.player-plot{display:none}
