(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pf={exports:{}},Ws={},xf={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),lm=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),$u=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var Cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nf=Object.assign,Of={};function ur(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Cf}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tf(){}Tf.prototype=ur.prototype;function da(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Cf}var ha=da.prototype=new Tf;ha.constructor=da;Nf(ha,ur.prototype);ha.isPureReactComponent=!0;var Bu=Array.isArray,If=Object.prototype.hasOwnProperty,pa={current:null},Af={key:!0,ref:!0,__self:!0,__source:!0};function Mf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)If.call(t,r)&&!Af.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vi,type:e,key:s,ref:o,props:i,_owner:pa.current}}function gm(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function wm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fu=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wm(""+e.key):t.toString(36)}function Yi(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vi:case lm:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+wo(o,0):r,Bu(i)?(n="",e!=null&&(n=e.replace(Fu,"$&/")+"/"),Yi(i,t,n,"",function(u){return u})):i!=null&&(ma(i)&&(i=gm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Bu(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+wo(s,l);o+=Yi(s,t,n,a,i)}else if(a=vm(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+wo(s,l++),o+=Yi(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pi(e,t,n){if(e==null)return e;var r=[],i=0;return Yi(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},qi={transition:null},km={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:qi,ReactCurrentOwner:pa};function Df(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Pi,forEach:function(e,t,n){Pi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pi(e,function(){t++}),t},toArray:function(e){return Pi(e,function(t){return t})||[]},only:function(e){if(!ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=ur;B.Fragment=am;B.Profiler=cm;B.PureComponent=da;B.StrictMode=um;B.Suspense=pm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;B.act=Df;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=pa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)If.call(t,a)&&!Af.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vi,type:e.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fm,_context:e},e.Consumer=e};B.createElement=Mf;B.createFactory=function(e){var t=Mf.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:hm,render:e}};B.isValidElement=ma;B.lazy=function(e){return{$$typeof:ym,_payload:{_status:-1,_result:e},_init:Sm}};B.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=qi.transition;qi.transition={};try{e()}finally{qi.transition=t}};B.unstable_act=Df;B.useCallback=function(e,t){return Ie.current.useCallback(e,t)};B.useContext=function(e){return Ie.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ie.current.useEffect(e,t)};B.useId=function(){return Ie.current.useId()};B.useImperativeHandle=function(e,t,n){return Ie.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ie.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Ie.current.useReducer(e,t,n)};B.useRef=function(e){return Ie.current.useRef(e)};B.useState=function(e){return Ie.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Ie.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Ie.current.useTransition()};B.version="18.3.1";xf.exports=B;var Qr=xf.exports;const M=Ef(Qr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=Qr,Em=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),xm=Object.prototype.hasOwnProperty,Cm=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nm={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)xm.call(t,r)&&!Nm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Em,type:e,key:s,ref:o,props:i,_owner:Cm.current}}Ws.Fragment=Pm;Ws.jsx=Rf;Ws.jsxs=Rf;Pf.exports=Ws;var E=Pf.exports,Lf={exports:{}},Qe={},jf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var z=T.length;T.push(L);e:for(;0<z;){var J=z-1>>>1,ie=T[J];if(0<i(ie,L))T[J]=L,T[z]=ie,z=J;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var L=T[0],z=T.pop();if(z!==L){T[0]=z;e:for(var J=0,ie=T.length,Mn=ie>>>1;J<Mn;){var Pt=2*(J+1)-1,$t=T[Pt],de=Pt+1,Dn=T[de];if(0>i($t,z))de<ie&&0>i(Dn,$t)?(T[J]=Dn,T[de]=z,J=de):(T[J]=$t,T[Pt]=z,J=Pt);else if(de<ie&&0>i(Dn,z))T[J]=Dn,T[de]=z,J=de;else break e}}return L}function i(T,L){var z=T.sortIndex-L.sortIndex;return z!==0?z:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,y=!1,g=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=T)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function w(T){if(k=!1,m(T),!g)if(n(a)!==null)g=!0,mr(C);else{var L=n(u);L!==null&&yr(w,L.startTime-T)}}function C(T,L){g=!1,k&&(k=!1,p(A),A=-1),y=!0;var z=h;try{for(m(L),d=n(a);d!==null&&(!(d.expirationTime>L)||T&&!Ee());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var ie=J(d.expirationTime<=L);L=e.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(a)&&r(a),m(L)}else r(a);d=n(a)}if(d!==null)var Mn=!0;else{var Pt=n(u);Pt!==null&&yr(w,Pt.startTime-L),Mn=!1}return Mn}finally{d=null,h=z,y=!1}}var N=!1,O=null,A=-1,H=5,$=-1;function Ee(){return!(e.unstable_now()-$<H)}function be(){if(O!==null){var T=e.unstable_now();$=T;var L=!0;try{L=O(!0,T)}finally{L?dt():(N=!1,O=null)}}else N=!1}var dt;if(typeof f=="function")dt=function(){f(be)};else if(typeof MessageChannel<"u"){var An=new MessageChannel,Ei=An.port2;An.port1.onmessage=be,dt=function(){Ei.postMessage(null)}}else dt=function(){x(be,0)};function mr(T){O=T,N||(N=!0,dt())}function yr(T,L){A=x(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,mr(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return L()}finally{h=z}},e.unstable_scheduleCallback=function(T,L,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,T={id:c++,callback:L,priorityLevel:T,startTime:z,expirationTime:ie,sortIndex:-1},z>J?(T.sortIndex=z,t(u,T),n(a)===null&&T===n(u)&&(k?(p(A),A=-1):k=!0,yr(w,z-J))):(T.sortIndex=ie,t(a,T),g||y||(g=!0,mr(C))),T},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(T){var L=h;return function(){var z=h;h=L;try{return T.apply(this,arguments)}finally{h=z}}}})(zf);jf.exports=zf;var Om=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=Qr,He=Om;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,Yr={};function Tn(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(Yr[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=Object.prototype.hasOwnProperty,Im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uu={},Vu={};function Am(e){return nl.call(Vu,e)?!0:nl.call(Uu,e)?!1:Im.test(e)?Vu[e]=!0:(Uu[e]=!0,!1)}function Mm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dm(e,t,n,r){if(t===null||typeof t>"u"||Mm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function va(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,va);ye[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,va);ye[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,va);ye[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function ga(e,t,n,r){var i=ye.hasOwnProperty(t)?ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dm(t,n,i,r)&&(n=null),r||i===null?Am(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),wa=Symbol.for("react.strict_mode"),rl=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),Sa=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),ka=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),Hu=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,So;function Tr(e){if(So===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);So=t&&t[1]||""}return`
`+So+e}var ko=!1;function _o(e,t){if(!e||ko)return"";ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ko=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tr(e):""}function Rm(e){switch(e.tag){case 5:return Tr(e.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 2:case 15:return e=_o(e.type,!1),e;case 11:return e=_o(e.type.render,!1),e;case 1:return e=_o(e.type,!0),e;default:return""}}function ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Ln:return"Portal";case rl:return"Profiler";case wa:return"StrictMode";case il:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bf:return(e.displayName||"Context")+".Consumer";case $f:return(e._context.displayName||"Context")+".Provider";case Sa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ka:return t=e.displayName||null,t!==null?t:ol(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return ol(e(t))}catch{}}return null}function Lm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ol(t);case 8:return t===wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jm(e){var t=Uf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ci(e){e._valueTracker||(e._valueTracker=jm(e))}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Uf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ll(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hf(e,t){t=t.checked,t!=null&&ga(e,"checked",t,!1)}function al(e,t){Hf(e,t);var n=rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ul(e,t.type,n):t.hasOwnProperty("defaultValue")&&ul(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ku(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ul(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ir=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Ir(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rn(n)}}function Wf(e,t){var n=rn(t.value),r=rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,Qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zm=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function Yf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function qf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bm=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dl(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function hl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,Yn=null,qn=null;function qu(e){if(e=Si(e)){if(typeof ml!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Js(t),ml(e.stateNode,e.type,t))}}function Jf(e){Yn?qn?qn.push(e):qn=[e]:Yn=e}function Xf(){if(Yn){var e=Yn,t=qn;if(qn=Yn=null,qu(e),t)for(e=0;e<t.length;e++)qu(t[e])}}function Zf(e,t){return e(t)}function Gf(){}var Eo=!1;function ed(e,t,n){if(Eo)return e(t,n);Eo=!0;try{return Zf(e,t,n)}finally{Eo=!1,(Yn!==null||qn!==null)&&(Gf(),Xf())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=Js(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var yl=!1;if(Mt)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){yl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{yl=!1}function $m(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zr=!1,ds=null,hs=!1,vl=null,Bm={onError:function(e){zr=!0,ds=e}};function Fm(e,t,n,r,i,s,o,l,a){zr=!1,ds=null,$m.apply(Bm,arguments)}function Um(e,t,n,r,i,s,o,l,a){if(Fm.apply(this,arguments),zr){if(zr){var u=ds;zr=!1,ds=null}else throw Error(P(198));hs||(hs=!0,vl=u)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function td(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ju(e){if(In(e)!==e)throw Error(P(188))}function Vm(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ju(i),e;if(s===r)return Ju(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function nd(e){return e=Vm(e),e!==null?rd(e):null}function rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rd(e);if(t!==null)return t;e=e.sibling}return null}var id=He.unstable_scheduleCallback,Xu=He.unstable_cancelCallback,Hm=He.unstable_shouldYield,Wm=He.unstable_requestPaint,re=He.unstable_now,Km=He.unstable_getCurrentPriorityLevel,Ea=He.unstable_ImmediatePriority,sd=He.unstable_UserBlockingPriority,ps=He.unstable_NormalPriority,Qm=He.unstable_LowPriority,od=He.unstable_IdlePriority,Ks=null,gt=null;function Ym(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ks,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Xm,qm=Math.log,Jm=Math.LN2;function Xm(e){return e>>>=0,e===0?32:31-(qm(e)/Jm|0)|0}var Oi=64,Ti=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ar(l):(s&=o,s!==0&&(r=Ar(s)))}else o=n&~i,o!==0?r=Ar(o):s!==0&&(r=Ar(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),i=1<<n,r|=e[n],t&=~i;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ut(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Zm(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ld(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function Po(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function ey(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ut(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var V=0;function ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ud,xa,cd,fd,dd,wl=!1,Ii=[],Yt=null,qt=null,Jt=null,Xr=new Map,Zr=new Map,Ht=[],ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Sr(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Si(t),t!==null&&xa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ny(e,t,n,r,i){switch(t){case"focusin":return Yt=Sr(Yt,e,t,n,r,i),!0;case"dragenter":return qt=Sr(qt,e,t,n,r,i),!0;case"mouseover":return Jt=Sr(Jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xr.set(s,Sr(Xr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zr.set(s,Sr(Zr.get(s)||null,e,t,n,r,i)),!0}return!1}function hd(e){var t=gn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=td(n),t!==null){e.blockedOn=t,dd(e.priority,function(){cd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pl=r,n.target.dispatchEvent(r),pl=null}else return t=Si(n),t!==null&&xa(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){Ji(e)&&n.delete(t)}function ry(){wl=!1,Yt!==null&&Ji(Yt)&&(Yt=null),qt!==null&&Ji(qt)&&(qt=null),Jt!==null&&Ji(Jt)&&(Jt=null),Xr.forEach(Gu),Zr.forEach(Gu)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,ry)))}function Gr(e){function t(i){return kr(i,e)}if(0<Ii.length){kr(Ii[0],e);for(var n=1;n<Ii.length;n++){var r=Ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yt!==null&&kr(Yt,e),qt!==null&&kr(qt,e),Jt!==null&&kr(Jt,e),Xr.forEach(t),Zr.forEach(t),n=0;n<Ht.length;n++)r=Ht[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)hd(n),n.blockedOn===null&&Ht.shift()}var Jn=zt.ReactCurrentBatchConfig,ys=!0;function iy(e,t,n,r){var i=V,s=Jn.transition;Jn.transition=null;try{V=1,Ca(e,t,n,r)}finally{V=i,Jn.transition=s}}function sy(e,t,n,r){var i=V,s=Jn.transition;Jn.transition=null;try{V=4,Ca(e,t,n,r)}finally{V=i,Jn.transition=s}}function Ca(e,t,n,r){if(ys){var i=Sl(e,t,n,r);if(i===null)Ro(e,t,r,vs,n),Zu(e,r);else if(ny(i,e,t,n,r))r.stopPropagation();else if(Zu(e,r),t&4&&-1<ty.indexOf(e)){for(;i!==null;){var s=Si(i);if(s!==null&&ud(s),s=Sl(e,t,n,r),s===null&&Ro(e,t,r,vs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ro(e,t,r,null,n)}}var vs=null;function Sl(e,t,n,r){if(vs=null,e=_a(r),e=gn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=td(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Km()){case Ea:return 1;case sd:return 4;case ps:case Qm:return 16;case od:return 536870912;default:return 16}default:return 16}}var Kt=null,Na=null,Xi=null;function md(){if(Xi)return Xi;var e,t=Na,n=t.length,r,i="value"in Kt?Kt.value:Kt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Xi=i.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function ec(){return!1}function Ye(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ai:ec,this.isPropagationStopped=ec,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Ye(cr),wi=G({},cr,{view:0,detail:0}),oy=Ye(wi),xo,Co,_r,Qs=G({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(xo=e.screenX-_r.screenX,Co=e.screenY-_r.screenY):Co=xo=0,_r=e),xo)},movementY:function(e){return"movementY"in e?e.movementY:Co}}),tc=Ye(Qs),ly=G({},Qs,{dataTransfer:0}),ay=Ye(ly),uy=G({},wi,{relatedTarget:0}),No=Ye(uy),cy=G({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=Ye(cy),dy=G({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hy=Ye(dy),py=G({},cr,{data:0}),nc=Ye(py),my={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vy[e])?!!t[e]:!1}function Ta(){return gy}var wy=G({},wi,{key:function(e){if(e.key){var t=my[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sy=Ye(wy),ky=G({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=Ye(ky),_y=G({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Ey=Ye(_y),Py=G({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=Ye(Py),Cy=G({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Ye(Cy),Oy=[9,13,27,32],Ia=Mt&&"CompositionEvent"in window,br=null;Mt&&"documentMode"in document&&(br=document.documentMode);var Ty=Mt&&"TextEvent"in window&&!br,yd=Mt&&(!Ia||br&&8<br&&11>=br),ic=" ",sc=!1;function vd(e,t){switch(e){case"keyup":return Oy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Iy(e,t){switch(e){case"compositionend":return gd(t);case"keypress":return t.which!==32?null:(sc=!0,ic);case"textInput":return e=t.data,e===ic&&sc?null:e;default:return null}}function Ay(e,t){if(zn)return e==="compositionend"||!Ia&&vd(e,t)?(e=md(),Xi=Na=Kt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!My[e.type]:t==="textarea"}function wd(e,t,n,r){Jf(r),t=gs(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,ei=null;function Dy(e){Id(e,0)}function Ys(e){var t=Bn(e);if(Vf(t))return e}function Ry(e,t){if(e==="change")return t}var Sd=!1;if(Mt){var Oo;if(Mt){var To="oninput"in document;if(!To){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),To=typeof lc.oninput=="function"}Oo=To}else Oo=!1;Sd=Oo&&(!document.documentMode||9<document.documentMode)}function ac(){$r&&($r.detachEvent("onpropertychange",kd),ei=$r=null)}function kd(e){if(e.propertyName==="value"&&Ys(ei)){var t=[];wd(t,ei,e,_a(e)),ed(Dy,t)}}function Ly(e,t,n){e==="focusin"?(ac(),$r=t,ei=n,$r.attachEvent("onpropertychange",kd)):e==="focusout"&&ac()}function jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ys(ei)}function zy(e,t){if(e==="click")return Ys(t)}function by(e,t){if(e==="input"||e==="change")return Ys(t)}function $y(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:$y;function ti(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nl.call(t,i)||!ft(e[i],t[i]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var n=uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uc(n)}}function _d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function Aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function By(e){var t=Ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_d(n.ownerDocument.documentElement,n)){if(r!==null&&Aa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cc(n,s);var o=cc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fy=Mt&&"documentMode"in document&&11>=document.documentMode,bn=null,kl=null,Br=null,_l=!1;function fc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||bn==null||bn!==fs(r)||(r=bn,"selectionStart"in r&&Aa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&ti(Br,r)||(Br=r,r=gs(kl,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Io={},Pd={};Mt&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function qs(e){if(Io[e])return Io[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return Io[e]=t[n];return e}var xd=qs("animationend"),Cd=qs("animationiteration"),Nd=qs("animationstart"),Od=qs("transitionend"),Td=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Td.set(e,t),Tn(t,[e])}for(var Ao=0;Ao<dc.length;Ao++){var Mo=dc[Ao],Uy=Mo.toLowerCase(),Vy=Mo[0].toUpperCase()+Mo.slice(1);an(Uy,"on"+Vy)}an(xd,"onAnimationEnd");an(Cd,"onAnimationIteration");an(Nd,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Od,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function hc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Um(r,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;hc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;hc(i,l,u),s=a}}}if(hs)throw e=vl,hs=!1,vl=null,e}function Q(e,t){var n=t[Nl];n===void 0&&(n=t[Nl]=new Set);var r=e+"__bubble";n.has(r)||(Ad(t,e,2,!1),n.add(r))}function Do(e,t,n){var r=0;t&&(r|=4),Ad(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function ni(e){if(!e[Di]){e[Di]=!0,bf.forEach(function(n){n!=="selectionchange"&&(Hy.has(n)||Do(n,!1,e),Do(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,Do("selectionchange",!1,t))}}function Ad(e,t,n,r){switch(pd(t)){case 1:var i=iy;break;case 4:i=sy;break;default:i=Ca}n=i.bind(null,t,n,e),i=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ro(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=gn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ed(function(){var u=s,c=_a(n),d=[];e:{var h=Td.get(e);if(h!==void 0){var y=Oa,g=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":y=Sy;break;case"focusin":g="focus",y=No;break;case"focusout":g="blur",y=No;break;case"beforeblur":case"afterblur":y=No;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ey;break;case xd:case Cd:case Nd:y=fy;break;case Od:y=xy;break;case"scroll":y=oy;break;case"wheel":y=Ny;break;case"copy":case"cut":case"paste":y=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rc}var k=(t&4)!==0,x=!k&&e==="scroll",p=k?h!==null?h+"Capture":null:h;k=[];for(var f=u,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=Jr(f,p),w!=null&&k.push(ri(f,w,m)))),x)break;f=f.return}0<k.length&&(h=new y(h,g,null,n,c),d.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==pl&&(g=n.relatedTarget||n.fromElement)&&(gn(g)||g[Dt]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?gn(g):null,g!==null&&(x=In(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(k=tc,w="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(k=rc,w="onPointerLeave",p="onPointerEnter",f="pointer"),x=y==null?h:Bn(y),m=g==null?h:Bn(g),h=new k(w,f+"leave",y,n,c),h.target=x,h.relatedTarget=m,w=null,gn(c)===u&&(k=new k(p,f+"enter",g,n,c),k.target=m,k.relatedTarget=x,w=k),x=w,y&&g)t:{for(k=y,p=g,f=0,m=k;m;m=Rn(m))f++;for(m=0,w=p;w;w=Rn(w))m++;for(;0<f-m;)k=Rn(k),f--;for(;0<m-f;)p=Rn(p),m--;for(;f--;){if(k===p||p!==null&&k===p.alternate)break t;k=Rn(k),p=Rn(p)}k=null}else k=null;y!==null&&pc(d,h,y,k,!1),g!==null&&x!==null&&pc(d,x,g,k,!0)}}e:{if(h=u?Bn(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var C=Ry;else if(oc(h))if(Sd)C=by;else{C=jy;var N=Ly}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=zy);if(C&&(C=C(e,u))){wd(d,C,n,c);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&ul(h,"number",h.value)}switch(N=u?Bn(u):window,e){case"focusin":(oc(N)||N.contentEditable==="true")&&(bn=N,kl=u,Br=null);break;case"focusout":Br=kl=bn=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,fc(d,n,c);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":fc(d,n,c)}var O;if(Ia)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else zn?vd(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(yd&&n.locale!=="ko"&&(zn||A!=="onCompositionStart"?A==="onCompositionEnd"&&zn&&(O=md()):(Kt=c,Na="value"in Kt?Kt.value:Kt.textContent,zn=!0)),N=gs(u,A),0<N.length&&(A=new nc(A,e,null,n,c),d.push({event:A,listeners:N}),O?A.data=O:(O=gd(n),O!==null&&(A.data=O)))),(O=Ty?Iy(e,n):Ay(e,n))&&(u=gs(u,"onBeforeInput"),0<u.length&&(c=new nc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}Id(d,t)})}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jr(e,n),s!=null&&r.unshift(ri(e,s,i)),s=Jr(e,t),s!=null&&r.push(ri(e,s,i))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Jr(n,s),a!=null&&o.unshift(ri(n,a,l))):i||(a=Jr(n,s),a!=null&&o.push(ri(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Wy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(Ky,"")}function Ri(e,t,n){if(t=mc(t),mc(e)!==t&&n)throw Error(P(425))}function ws(){}var El=null,Pl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(qy)}:Cl;function qy(e){setTimeout(function(){throw e})}function Lo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),vt="__reactFiber$"+fr,ii="__reactProps$"+fr,Dt="__reactContainer$"+fr,Nl="__reactEvents$"+fr,Jy="__reactListeners$"+fr,Xy="__reactHandles$"+fr;function gn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vc(e);e!==null;){if(n=e[vt])return n;e=vc(e)}return t}e=n,n=e.parentNode}return null}function Si(e){return e=e[vt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Js(e){return e[ii]||null}var Ol=[],Fn=-1;function un(e){return{current:e}}function Y(e){0>Fn||(e.current=Ol[Fn],Ol[Fn]=null,Fn--)}function W(e,t){Fn++,Ol[Fn]=e.current,e.current=t}var sn={},_e=un(sn),Le=un(!1),En=sn;function tr(e,t){var n=e.type.contextTypes;if(!n)return sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function je(e){return e=e.childContextTypes,e!=null}function Ss(){Y(Le),Y(_e)}function gc(e,t,n){if(_e.current!==sn)throw Error(P(168));W(_e,t),W(Le,n)}function Md(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,Lm(e)||"Unknown",i));return G({},n,r)}function ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,En=_e.current,W(_e,e),W(Le,Le.current),!0}function wc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Md(e,t,En),r.__reactInternalMemoizedMergedChildContext=e,Y(Le),Y(_e),W(_e,e)):Y(Le),W(Le,n)}var Nt=null,Xs=!1,jo=!1;function Dd(e){Nt===null?Nt=[e]:Nt.push(e)}function Zy(e){Xs=!0,Dd(e)}function cn(){if(!jo&&Nt!==null){jo=!0;var e=0,t=V;try{var n=Nt;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,Xs=!1}catch(i){throw Nt!==null&&(Nt=Nt.slice(e+1)),id(Ea,cn),i}finally{V=t,jo=!1}}return null}var Un=[],Vn=0,_s=null,Es=0,Je=[],Xe=0,Pn=null,Ot=1,Tt="";function mn(e,t){Un[Vn++]=Es,Un[Vn++]=_s,_s=e,Es=t}function Rd(e,t,n){Je[Xe++]=Ot,Je[Xe++]=Tt,Je[Xe++]=Pn,Pn=e;var r=Ot;e=Tt;var i=32-ut(r)-1;r&=~(1<<i),n+=1;var s=32-ut(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-ut(t)+i|n<<i|r,Tt=s+e}else Ot=1<<s|n<<i|r,Tt=e}function Ma(e){e.return!==null&&(mn(e,1),Rd(e,1,0))}function Da(e){for(;e===_s;)_s=Un[--Vn],Un[Vn]=null,Es=Un[--Vn],Un[Vn]=null;for(;e===Pn;)Pn=Je[--Xe],Je[Xe]=null,Tt=Je[--Xe],Je[Xe]=null,Ot=Je[--Xe],Je[Xe]=null}var Ve=null,Fe=null,q=!1,lt=null;function Ld(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,Fe=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pn!==null?{id:Ot,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,Fe=null,!0):!1;default:return!1}}function Tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(q){var t=Fe;if(t){var n=t;if(!Sc(e,t)){if(Tl(e))throw Error(P(418));t=Xt(n.nextSibling);var r=Ve;t&&Sc(e,t)?Ld(r,n):(e.flags=e.flags&-4097|2,q=!1,Ve=e)}}else{if(Tl(e))throw Error(P(418));e.flags=e.flags&-4097|2,q=!1,Ve=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Li(e){if(e!==Ve)return!1;if(!q)return kc(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Fe)){if(Tl(e))throw jd(),Error(P(418));for(;t;)Ld(e,t),t=Xt(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fe=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Ve?Xt(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=Fe;e;)e=Xt(e.nextSibling)}function nr(){Fe=Ve=null,q=!1}function Ra(e){lt===null?lt=[e]:lt.push(e)}var Gy=zt.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function zd(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=tn(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,w){return f===null||f.tag!==6?(f=Vo(m,p.mode,w),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,w){var C=m.type;return C===jn?c(p,f,m.props.children,w,m.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&_c(C)===f.type)?(w=i(f,m.props),w.ref=Er(p,f,m),w.return=p,w):(w=ss(m.type,m.key,m.props,null,p.mode,w),w.ref=Er(p,f,m),w.return=p,w)}function u(p,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ho(m,p.mode,w),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,w,C){return f===null||f.tag!==7?(f=_n(m,p.mode,w,C),f.return=p,f):(f=i(f,m),f.return=p,f)}function d(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Vo(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xi:return m=ss(f.type,f.key,f.props,null,p.mode,m),m.ref=Er(p,null,f),m.return=p,m;case Ln:return f=Ho(f,p.mode,m),f.return=p,f;case Ut:var w=f._init;return d(p,w(f._payload),m)}if(Ir(f)||gr(f))return f=_n(f,p.mode,m,null),f.return=p,f;ji(p,f)}return null}function h(p,f,m,w){var C=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(p,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case xi:return m.key===C?a(p,f,m,w):null;case Ln:return m.key===C?u(p,f,m,w):null;case Ut:return C=m._init,h(p,f,C(m._payload),w)}if(Ir(m)||gr(m))return C!==null?null:c(p,f,m,w,null);ji(p,m)}return null}function y(p,f,m,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,l(f,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xi:return p=p.get(w.key===null?m:w.key)||null,a(f,p,w,C);case Ln:return p=p.get(w.key===null?m:w.key)||null,u(f,p,w,C);case Ut:var N=w._init;return y(p,f,m,N(w._payload),C)}if(Ir(w)||gr(w))return p=p.get(m)||null,c(f,p,w,C,null);ji(f,w)}return null}function g(p,f,m,w){for(var C=null,N=null,O=f,A=f=0,H=null;O!==null&&A<m.length;A++){O.index>A?(H=O,O=null):H=O.sibling;var $=h(p,O,m[A],w);if($===null){O===null&&(O=H);break}e&&O&&$.alternate===null&&t(p,O),f=s($,f,A),N===null?C=$:N.sibling=$,N=$,O=H}if(A===m.length)return n(p,O),q&&mn(p,A),C;if(O===null){for(;A<m.length;A++)O=d(p,m[A],w),O!==null&&(f=s(O,f,A),N===null?C=O:N.sibling=O,N=O);return q&&mn(p,A),C}for(O=r(p,O);A<m.length;A++)H=y(O,p,A,m[A],w),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?A:H.key),f=s(H,f,A),N===null?C=H:N.sibling=H,N=H);return e&&O.forEach(function(Ee){return t(p,Ee)}),q&&mn(p,A),C}function k(p,f,m,w){var C=gr(m);if(typeof C!="function")throw Error(P(150));if(m=C.call(m),m==null)throw Error(P(151));for(var N=C=null,O=f,A=f=0,H=null,$=m.next();O!==null&&!$.done;A++,$=m.next()){O.index>A?(H=O,O=null):H=O.sibling;var Ee=h(p,O,$.value,w);if(Ee===null){O===null&&(O=H);break}e&&O&&Ee.alternate===null&&t(p,O),f=s(Ee,f,A),N===null?C=Ee:N.sibling=Ee,N=Ee,O=H}if($.done)return n(p,O),q&&mn(p,A),C;if(O===null){for(;!$.done;A++,$=m.next())$=d(p,$.value,w),$!==null&&(f=s($,f,A),N===null?C=$:N.sibling=$,N=$);return q&&mn(p,A),C}for(O=r(p,O);!$.done;A++,$=m.next())$=y(O,p,A,$.value,w),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?A:$.key),f=s($,f,A),N===null?C=$:N.sibling=$,N=$);return e&&O.forEach(function(be){return t(p,be)}),q&&mn(p,A),C}function x(p,f,m,w){if(typeof m=="object"&&m!==null&&m.type===jn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case xi:e:{for(var C=m.key,N=f;N!==null;){if(N.key===C){if(C=m.type,C===jn){if(N.tag===7){n(p,N.sibling),f=i(N,m.props.children),f.return=p,p=f;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&_c(C)===N.type){n(p,N.sibling),f=i(N,m.props),f.ref=Er(p,N,m),f.return=p,p=f;break e}n(p,N);break}else t(p,N);N=N.sibling}m.type===jn?(f=_n(m.props.children,p.mode,w,m.key),f.return=p,p=f):(w=ss(m.type,m.key,m.props,null,p.mode,w),w.ref=Er(p,f,m),w.return=p,p=w)}return o(p);case Ln:e:{for(N=m.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ho(m,p.mode,w),f.return=p,p=f}return o(p);case Ut:return N=m._init,x(p,f,N(m._payload),w)}if(Ir(m))return g(p,f,m,w);if(gr(m))return k(p,f,m,w);ji(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Vo(m,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return x}var rr=zd(!0),bd=zd(!1),Ps=un(null),xs=null,Hn=null,La=null;function ja(){La=Hn=xs=null}function za(e){var t=Ps.current;Y(Ps),e._currentValue=t}function Al(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){xs=e,La=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(La!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(xs===null)throw Error(P(308));Hn=e,xs.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var wn=null;function ba(e){wn===null?wn=[e]:wn.push(e)}function $d(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ba(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rt(e,n)}return i=r.interleaved,i===null?(t.next=t,ba(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rt(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}function Ec(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cs(e,t,n,r){var i=e.updateQueue;Vt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,y=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,k=l;switch(h=t,y=n,k.tag){case 1:if(g=k.payload,typeof g=="function"){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=k.payload,h=typeof g=="function"?g.call(y,d,h):g,h==null)break e;d=G({},d,h);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=d):c=c.next=y,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=d}}function Pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var ki={},wt=un(ki),si=un(ki),oi=un(ki);function Sn(e){if(e===ki)throw Error(P(174));return e}function Ba(e,t){switch(W(oi,t),W(si,e),W(wt,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}Y(wt),W(wt,t)}function ir(){Y(wt),Y(si),Y(oi)}function Fd(e){Sn(oi.current);var t=Sn(wt.current),n=fl(t,e.type);t!==n&&(W(si,e),W(wt,n))}function Fa(e){si.current===e&&(Y(wt),Y(si))}var X=un(0);function Ns(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=[];function Ua(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var es=zt.ReactCurrentDispatcher,bo=zt.ReactCurrentBatchConfig,xn=0,Z=null,ae=null,ce=null,Os=!1,Fr=!1,li=0,ev=0;function ve(){throw Error(P(321))}function Va(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ha(e,t,n,r,i,s){if(xn=s,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?iv:sv,e=n(r,i),Fr){s=0;do{if(Fr=!1,li=0,25<=s)throw Error(P(301));s+=1,ce=ae=null,t.updateQueue=null,es.current=ov,e=n(r,i)}while(Fr)}if(es.current=Ts,t=ae!==null&&ae.next!==null,xn=0,ce=ae=Z=null,Os=!1,t)throw Error(P(300));return e}function Wa(){var e=li!==0;return li=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=e:ce=ce.next=e,ce}function nt(){if(ae===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ce===null?Z.memoizedState:ce.next;if(t!==null)ce=t,ae=e;else{if(e===null)throw Error(P(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?Z.memoizedState=ce=e:ce=ce.next=e}return ce}function ai(e,t){return typeof t=="function"?t(e):t}function $o(e){var t=nt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ae,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((xn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Z.lanes|=c,Cn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,ft(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Z.lanes|=s,Cn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=nt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ft(s,t.memoizedState)||(Re=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ud(){}function Vd(e,t){var n=Z,r=nt(),i=t(),s=!ft(r.memoizedState,i);if(s&&(r.memoizedState=i,Re=!0),r=r.queue,Ka(Kd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,ui(9,Wd.bind(null,n,r,i,t),void 0,null),fe===null)throw Error(P(349));xn&30||Hd(n,t,i)}return i}function Hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wd(e,t,n,r){t.value=n,t.getSnapshot=r,Qd(t)&&Yd(e)}function Kd(e,t,n){return n(function(){Qd(t)&&Yd(e)})}function Qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Yd(e){var t=Rt(e,1);t!==null&&ct(t,e,1,-1)}function xc(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=rv.bind(null,Z,e),[t.memoizedState,e]}function ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qd(){return nt().memoizedState}function ts(e,t,n,r){var i=mt();Z.flags|=e,i.memoizedState=ui(1|t,n,void 0,r===void 0?null:r)}function Zs(e,t,n,r){var i=nt();r=r===void 0?null:r;var s=void 0;if(ae!==null){var o=ae.memoizedState;if(s=o.destroy,r!==null&&Va(r,o.deps)){i.memoizedState=ui(t,n,s,r);return}}Z.flags|=e,i.memoizedState=ui(1|t,n,s,r)}function Cc(e,t){return ts(8390656,8,e,t)}function Ka(e,t){return Zs(2048,8,e,t)}function Jd(e,t){return Zs(4,2,e,t)}function Xd(e,t){return Zs(4,4,e,t)}function Zd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){return n=n!=null?n.concat([e]):null,Zs(4,4,Zd.bind(null,t,e),n)}function Qa(){}function eh(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function th(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nh(e,t,n){return xn&21?(ft(n,t)||(n=ld(),Z.lanes|=n,Cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function tv(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=bo.transition;bo.transition={};try{e(!1),t()}finally{V=n,bo.transition=r}}function rh(){return nt().memoizedState}function nv(e,t,n){var r=en(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))sh(t,n);else if(n=$d(e,t,n,r),n!==null){var i=Oe();ct(n,e,r,i),oh(n,t,r)}}function rv(e,t,n){var r=en(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))sh(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ft(l,o)){var a=t.interleaved;a===null?(i.next=i,ba(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=$d(e,t,i,r),n!==null&&(i=Oe(),ct(n,e,r,i),oh(n,t,r))}}function ih(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function sh(e,t){Fr=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}var Ts={readContext:tt,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},iv={readContext:tt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Cc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,Zd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nv.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:xc,useDebugValue:Qa,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=xc(!1),t=e[0];return e=tv.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,i=mt();if(q){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),fe===null)throw Error(P(349));xn&30||Hd(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Cc(Kd.bind(null,r,s,e),[e]),r.flags|=2048,ui(9,Wd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mt(),t=fe.identifierPrefix;if(q){var n=Tt,r=Ot;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ev++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sv={readContext:tt,useCallback:eh,useContext:tt,useEffect:Ka,useImperativeHandle:Gd,useInsertionEffect:Jd,useLayoutEffect:Xd,useMemo:th,useReducer:$o,useRef:qd,useState:function(){return $o(ai)},useDebugValue:Qa,useDeferredValue:function(e){var t=nt();return nh(t,ae.memoizedState,e)},useTransition:function(){var e=$o(ai)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:Vd,useId:rh,unstable_isNewReconciler:!1},ov={readContext:tt,useCallback:eh,useContext:tt,useEffect:Ka,useImperativeHandle:Gd,useInsertionEffect:Jd,useLayoutEffect:Xd,useMemo:th,useReducer:Bo,useRef:qd,useState:function(){return Bo(ai)},useDebugValue:Qa,useDeferredValue:function(e){var t=nt();return ae===null?t.memoizedState=e:nh(t,ae.memoizedState,e)},useTransition:function(){var e=Bo(ai)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:Vd,useId:rh,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ml(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gs={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),i=en(e),s=It(r,i);s.payload=t,n!=null&&(s.callback=n),t=Zt(e,s,i),t!==null&&(ct(t,e,i,r),Gi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),i=en(e),s=It(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zt(e,s,i),t!==null&&(ct(t,e,i,r),Gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=en(e),i=It(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zt(e,i,r),t!==null&&(ct(t,e,r,n),Gi(t,e,r))}};function Nc(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ti(n,r)||!ti(i,s):!0}function lh(e,t,n){var r=!1,i=sn,s=t.contextType;return typeof s=="object"&&s!==null?s=tt(s):(i=je(t)?En:_e.current,r=t.contextTypes,s=(r=r!=null)?tr(e,i):sn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function Dl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$a(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=tt(s):(s=je(t)?En:_e.current,i.context=tr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ml(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gs.enqueueReplaceState(i,i.state,null),Cs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",r=t;do n+=Rm(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Fo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lv=typeof WeakMap=="function"?WeakMap:Map;function ah(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Hl=r),Rl(e,t)},n}function uh(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rl(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kv.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var av=zt.ReactCurrentOwner,Re=!1;function Ce(e,t,n,r){t.child=e===null?bd(t,null,n,r):rr(t,e.child,n,r)}function Mc(e,t,n,r,i){n=n.render;var s=t.ref;return Xn(t,i),r=Ha(e,t,n,r,s,i),n=Wa(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lt(e,t,i)):(q&&n&&Ma(t),t.flags|=1,Ce(e,t,r,i),t.child)}function Dc(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!tu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ch(e,t,s,r,i)):(e=ss(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ti,n(o,r)&&e.ref===t.ref)return Lt(e,t,i)}return t.flags|=1,e=tn(s,r),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ti(s,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,Lt(e,t,i)}return Ll(e,t,n,r,i)}function fh(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Kn,Be),Be|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Kn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,W(Kn,Be),Be|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,W(Kn,Be),Be|=r;return Ce(e,t,i,n),t.child}function dh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,i){var s=je(n)?En:_e.current;return s=tr(t,s),Xn(t,i),n=Ha(e,t,n,r,s,i),r=Wa(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lt(e,t,i)):(q&&r&&Ma(t),t.flags|=1,Ce(e,t,n,i),t.child)}function Rc(e,t,n,r,i){if(je(n)){var s=!0;ks(t)}else s=!1;if(Xn(t,i),t.stateNode===null)ns(e,t),lh(t,n,r),Dl(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=je(n)?En:_e.current,u=tr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Oc(t,o,r,u),Vt=!1;var h=t.memoizedState;o.state=h,Cs(t,r,o,i),a=t.memoizedState,l!==r||h!==a||Le.current||Vt?(typeof c=="function"&&(Ml(t,n,c,r),a=t.memoizedState),(l=Vt||Nc(t,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:it(t.type,l),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=tt(a):(a=je(n)?En:_e.current,a=tr(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&Oc(t,o,r,a),Vt=!1,h=t.memoizedState,o.state=h,Cs(t,r,o,i);var g=t.memoizedState;l!==d||h!==g||Le.current||Vt?(typeof y=="function"&&(Ml(t,n,y,r),g=t.memoizedState),(u=Vt||Nc(t,n,u,r,h,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,s,i)}function jl(e,t,n,r,i,s){dh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&wc(t,n,!1),Lt(e,t,s);r=t.stateNode,av.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rr(t,e.child,null,s),t.child=rr(t,null,l,s)):Ce(e,t,l,s),t.memoizedState=r.state,i&&wc(t,n,!0),t.child}function hh(e){var t=e.stateNode;t.pendingContext?gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gc(e,t.context,!1),Ba(e,t.containerInfo)}function Lc(e,t,n,r,i){return nr(),Ra(i),t.flags|=256,Ce(e,t,n,r),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ph(e,t,n){var r=t.pendingProps,i=X.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),W(X,i&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=no(o,r,0,null),e=_n(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bl(n),t.memoizedState=zl,e):Ya(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return uv(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=tn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=tn(l,s):(s=_n(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?bl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=zl,r}return s=e.child,e=s.sibling,r=tn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ya(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&Ra(r),rr(t,e.child,null,n),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uv(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Fo(Error(P(422))),zi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=no({mode:"visible",children:r.children},i,0,null),s=_n(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&rr(t,e.child,null,o),t.child.memoizedState=bl(o),t.memoizedState=zl,s);if(!(t.mode&1))return zi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Fo(s,r,void 0),zi(e,t,o,r)}if(l=(o&e.childLanes)!==0,Re||l){if(r=fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rt(e,i),ct(r,e,i,-1))}return eu(),r=Fo(Error(P(421))),zi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_v.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Fe=Xt(i.nextSibling),Ve=t,q=!0,lt=null,e!==null&&(Je[Xe++]=Ot,Je[Xe++]=Tt,Je[Xe++]=Pn,Ot=e.id,Tt=e.overflow,Pn=t),t=Ya(t,r.children),t.flags|=4096,t)}function jc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Al(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mh(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ce(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jc(e,n,t);else if(e.tag===19)jc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(W(X,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ns(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ns(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cv(e,t,n){switch(t.tag){case 3:hh(t),nr();break;case 5:Fd(t);break;case 1:je(t.type)&&ks(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;W(Ps,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(W(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?ph(e,t,n):(W(X,X.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);W(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,n)}return Lt(e,t,n)}var yh,$l,vh,gh;yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$l=function(){};vh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sn(wt.current);var s=null;switch(n){case"input":i=ll(e,i),r=ll(e,r),s=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),s=[];break;case"textarea":i=cl(e,i),r=cl(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}dl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Q("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};gh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pr(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fv(e,t,n){var r=t.pendingProps;switch(Da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return je(t.type)&&Ss(),ge(t),null;case 3:return r=t.stateNode,ir(),Y(Le),Y(_e),Ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(Ql(lt),lt=null))),$l(e,t),ge(t),null;case 5:Fa(t);var i=Sn(oi.current);if(n=t.type,e!==null&&t.stateNode!=null)vh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return ge(t),null}if(e=Sn(wt.current),Li(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vt]=t,r[ii]=s,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Q(Mr[i],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Wu(r,s),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Q("invalid",r);break;case"textarea":Qu(r,s),Q("invalid",r)}dl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",""+l]):Yr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Ci(r),Ku(r,s,!0);break;case"textarea":Ci(r),Yu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ws)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[vt]=t,e[ii]=r,yh(e,t,!1,!1),t.stateNode=e;e:{switch(o=hl(n,r),n){case"dialog":Q("cancel",e),Q("close",e),i=r;break;case"iframe":case"object":case"embed":Q("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Q(Mr[i],e);i=r;break;case"source":Q("error",e),i=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),i=r;break;case"details":Q("toggle",e),i=r;break;case"input":Wu(e,r),i=ll(e,r),Q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Qu(e,r),i=cl(e,r),Q("invalid",e);break;default:i=r}dl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?qf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Qf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&qr(e,a):typeof a=="number"&&qr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Q("scroll",e):a!=null&&ga(e,s,a,o))}switch(n){case"input":Ci(e),Ku(e,r,!1);break;case"textarea":Ci(e),Yu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Qn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)gh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Sn(oi.current),Sn(wt.current),Li(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(s=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return ge(t),null;case 13:if(Y(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Fe!==null&&t.mode&1&&!(t.flags&128))jd(),nr(),t.flags|=98560,s=!1;else if(s=Li(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[vt]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),s=!1}else lt!==null&&(Ql(lt),lt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ue===0&&(ue=3):eu())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return ir(),$l(e,t),e===null&&ni(t.stateNode.containerInfo),ge(t),null;case 10:return za(t.type._context),ge(t),null;case 17:return je(t.type)&&Ss(),ge(t),null;case 19:if(Y(X),s=t.memoizedState,s===null)return ge(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Pr(s,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ns(e),o!==null){for(t.flags|=128,Pr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return W(X,X.current&1|2),t.child}e=e.sibling}s.tail!==null&&re()>or&&(t.flags|=128,r=!0,Pr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ns(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!q)return ge(t),null}else 2*re()-s.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,Pr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=re(),t.sibling=null,n=X.current,W(X,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return Ga(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function dv(e,t){switch(Da(t),t.tag){case 1:return je(t.type)&&Ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ir(),Y(Le),Y(_e),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fa(t),null;case 13:if(Y(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(X),null;case 4:return ir(),null;case 10:return za(t.type._context),null;case 22:case 23:return Ga(),null;case 24:return null;default:return null}}var bi=!1,ke=!1,hv=typeof WeakSet=="function"?WeakSet:Set,I=null;function Wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function Bl(e,t,n){try{n()}catch(r){ne(e,t,r)}}var zc=!1;function pv(e,t){if(El=ys,e=Ed(),Aa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pl={focusedElem:e,selectionRange:n},ys=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var k=g.memoizedProps,x=g.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:it(t.type,k),x);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ne(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return g=zc,zc=!1,g}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bl(t,n,s)}i=i.next}while(i!==r)}}function eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[ii],delete t[Nl],delete t[Jy],delete t[Xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var pe=null,st=!1;function Ft(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 5:ke||Wn(n,t);case 6:var r=pe,i=st;pe=null,Ft(e,t,n),pe=r,st=i,pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?Lo(e.parentNode,n):e.nodeType===1&&Lo(e,n),Gr(e)):Lo(pe,n.stateNode));break;case 4:r=pe,i=st,pe=n.stateNode.containerInfo,st=!0,Ft(e,t,n),pe=r,st=i;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bl(n,t,o),i=i.next}while(i!==r)}Ft(e,t,n);break;case 1:if(!ke&&(Wn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,t,l)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Ft(e,t,n),ke=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hv),t.forEach(function(r){var i=Ev.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,st=!1;break e;case 3:pe=l.stateNode.containerInfo,st=!0;break e;case 4:pe=l.stateNode.containerInfo,st=!0;break e}l=l.return}if(pe===null)throw Error(P(160));kh(s,o,i),pe=null,st=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ne(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_h(t,e),t=t.sibling}function _h(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),pt(e),r&4){try{Ur(3,e,e.return),eo(3,e)}catch(k){ne(e,e.return,k)}try{Ur(5,e,e.return)}catch(k){ne(e,e.return,k)}}break;case 1:rt(t,e),pt(e),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(rt(t,e),pt(e),r&512&&n!==null&&Wn(n,n.return),e.flags&32){var i=e.stateNode;try{qr(i,"")}catch(k){ne(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Hf(i,s),hl(l,o);var u=hl(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?qf(i,d):c==="dangerouslySetInnerHTML"?Qf(i,d):c==="children"?qr(i,d):ga(i,c,d,u)}switch(l){case"input":al(i,s);break;case"textarea":Wf(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Qn(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qn(i,!!s.multiple,s.defaultValue,!0):Qn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ii]=s}catch(k){ne(e,e.return,k)}}break;case 6:if(rt(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){ne(e,e.return,k)}}break;case 3:if(rt(t,e),pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(k){ne(e,e.return,k)}break;case 4:rt(t,e),pt(e);break;case 13:rt(t,e),pt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xa=re())),r&4&&$c(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(u=ke)||c,rt(t,e),ke=u):rt(t,e),pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(I=e,c=e.child;c!==null;){for(d=I=c;I!==null;){switch(h=I,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ur(4,h,h.return);break;case 1:Wn(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(k){ne(r,n,k)}}break;case 5:Wn(h,h.return);break;case 22:if(h.memoizedState!==null){Fc(d);continue}}y!==null?(y.return=h,I=y):Fc(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Yf("display",o))}catch(k){ne(e,e.return,k)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(k){ne(e,e.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rt(t,e),pt(e),r&4&&$c(e);break;case 21:break;default:rt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qr(i,""),r.flags&=-33);var s=bc(e);Vl(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bc(e);Ul(e,l,o);break;default:throw Error(P(161))}}catch(a){ne(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mv(e,t,n){I=e,Eh(e)}function Eh(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ke;l=bi;var u=ke;if(bi=o,(ke=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Uc(i):a!==null?(a.return=o,I=a):Uc(i);for(;s!==null;)I=s,Eh(s),s=s.sibling;I=i,bi=l,ke=u}Bc(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Bc(e)}}function Bc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||eo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Pc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ke||t.flags&512&&Fl(t)}catch(h){ne(t,t.return,h)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Fc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Uc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eo(4,t)}catch(a){ne(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ne(t,i,a)}}var s=t.return;try{Fl(t)}catch(a){ne(t,s,a)}break;case 5:var o=t.return;try{Fl(t)}catch(a){ne(t,o,a)}}}catch(a){ne(t,t.return,a)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var yv=Math.ceil,Is=zt.ReactCurrentDispatcher,qa=zt.ReactCurrentOwner,et=zt.ReactCurrentBatchConfig,F=0,fe=null,oe=null,me=0,Be=0,Kn=un(0),ue=0,ci=null,Cn=0,to=0,Ja=0,Vr=null,De=null,Xa=0,or=1/0,xt=null,As=!1,Hl=null,Gt=null,$i=!1,Qt=null,Ms=0,Hr=0,Wl=null,rs=-1,is=0;function Oe(){return F&6?re():rs!==-1?rs:rs=re()}function en(e){return e.mode&1?F&2&&me!==0?me&-me:Gy.transition!==null?(is===0&&(is=ld()),is):(e=V,e!==0||(e=window.event,e=e===void 0?16:pd(e.type)),e):1}function ct(e,t,n,r){if(50<Hr)throw Hr=0,Wl=null,Error(P(185));gi(e,n,r),(!(F&2)||e!==fe)&&(e===fe&&(!(F&2)&&(to|=n),ue===4&&Wt(e,me)),ze(e,r),n===1&&F===0&&!(t.mode&1)&&(or=re()+500,Xs&&cn()))}function ze(e,t){var n=e.callbackNode;Gm(e,t);var r=ms(e,e===fe?me:0);if(r===0)n!==null&&Xu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xu(n),t===1)e.tag===0?Zy(Vc.bind(null,e)):Dd(Vc.bind(null,e)),Yy(function(){!(F&6)&&cn()}),n=null;else{switch(ad(r)){case 1:n=Ea;break;case 4:n=sd;break;case 16:n=ps;break;case 536870912:n=od;break;default:n=ps}n=Ah(n,Ph.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ph(e,t){if(rs=-1,is=0,F&6)throw Error(P(327));var n=e.callbackNode;if(Zn()&&e.callbackNode!==n)return null;var r=ms(e,e===fe?me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ds(e,r);else{t=r;var i=F;F|=2;var s=Ch();(fe!==e||me!==t)&&(xt=null,or=re()+500,kn(e,t));do try{wv();break}catch(l){xh(e,l)}while(!0);ja(),Is.current=s,F=i,oe!==null?t=0:(fe=null,me=0,t=ue)}if(t!==0){if(t===2&&(i=gl(e),i!==0&&(r=i,t=Kl(e,i))),t===1)throw n=ci,kn(e,0),Wt(e,r),ze(e,re()),n;if(t===6)Wt(e,r);else{if(i=e.current.alternate,!(r&30)&&!vv(i)&&(t=Ds(e,r),t===2&&(s=gl(e),s!==0&&(r=s,t=Kl(e,s))),t===1))throw n=ci,kn(e,0),Wt(e,r),ze(e,re()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:yn(e,De,xt);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=Xa+500-re(),10<t)){if(ms(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Cl(yn.bind(null,e,De,xt),t);break}yn(e,De,xt);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ut(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yv(r/1960))-r,10<r){e.timeoutHandle=Cl(yn.bind(null,e,De,xt),r);break}yn(e,De,xt);break;case 5:yn(e,De,xt);break;default:throw Error(P(329))}}}return ze(e,re()),e.callbackNode===n?Ph.bind(null,e):null}function Kl(e,t){var n=Vr;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=Ds(e,t),e!==2&&(t=De,De=n,t!==null&&Ql(t)),e}function Ql(e){De===null?De=e:De.push.apply(De,e)}function vv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ft(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Ja,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Vc(e){if(F&6)throw Error(P(327));Zn();var t=ms(e,0);if(!(t&1))return ze(e,re()),null;var n=Ds(e,t);if(e.tag!==0&&n===2){var r=gl(e);r!==0&&(t=r,n=Kl(e,r))}if(n===1)throw n=ci,kn(e,0),Wt(e,t),ze(e,re()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,De,xt),ze(e,re()),null}function Za(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(or=re()+500,Xs&&cn())}}function Nn(e){Qt!==null&&Qt.tag===0&&!(F&6)&&Zn();var t=F;F|=1;var n=et.transition,r=V;try{if(et.transition=null,V=1,e)return e()}finally{V=r,et.transition=n,F=t,!(F&6)&&cn()}}function Ga(){Be=Kn.current,Y(Kn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qy(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Da(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ss();break;case 3:ir(),Y(Le),Y(_e),Ua();break;case 5:Fa(r);break;case 4:ir();break;case 13:Y(X);break;case 19:Y(X);break;case 10:za(r.type._context);break;case 22:case 23:Ga()}n=n.return}if(fe=e,oe=e=tn(e.current,null),me=Be=t,ue=0,ci=null,Ja=to=Cn=0,De=Vr=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wn=null}return e}function xh(e,t){do{var n=oe;try{if(ja(),es.current=Ts,Os){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Os=!1}if(xn=0,ce=ae=Z=null,Fr=!1,li=0,qa.current=null,n===null||n.return===null){ue=1,ci=t,oe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ic(o);if(y!==null){y.flags&=-257,Ac(y,o,l,s,t),y.mode&1&&Tc(s,u,t),t=y,a=u;var g=t.updateQueue;if(g===null){var k=new Set;k.add(a),t.updateQueue=k}else g.add(a);break e}else{if(!(t&1)){Tc(s,u,t),eu();break e}a=Error(P(426))}}else if(q&&l.mode&1){var x=Ic(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ac(x,o,l,s,t),Ra(sr(a,l));break e}}s=a=sr(a,l),ue!==4&&(ue=2),Vr===null?Vr=[s]:Vr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=ah(s,a,t);Ec(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gt===null||!Gt.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=uh(s,l,t);Ec(s,w);break e}}s=s.return}while(s!==null)}Oh(n)}catch(C){t=C,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Ch(){var e=Is.current;return Is.current=Ts,e===null?Ts:e}function eu(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(Cn&268435455)&&!(to&268435455)||Wt(fe,me)}function Ds(e,t){var n=F;F|=2;var r=Ch();(fe!==e||me!==t)&&(xt=null,kn(e,t));do try{gv();break}catch(i){xh(e,i)}while(!0);if(ja(),F=n,Is.current=r,oe!==null)throw Error(P(261));return fe=null,me=0,ue}function gv(){for(;oe!==null;)Nh(oe)}function wv(){for(;oe!==null&&!Hm();)Nh(oe)}function Nh(e){var t=Ih(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Oh(e):oe=t,qa.current=null}function Oh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dv(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,oe=null;return}}else if(n=fv(n,t,Be),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ue===0&&(ue=5)}function yn(e,t,n){var r=V,i=et.transition;try{et.transition=null,V=1,Sv(e,t,n,r)}finally{et.transition=i,V=r}return null}function Sv(e,t,n,r){do Zn();while(Qt!==null);if(F&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ey(e,s),e===fe&&(oe=fe=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Ah(ps,function(){return Zn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=et.transition,et.transition=null;var o=V;V=1;var l=F;F|=4,qa.current=null,pv(e,n),_h(n,e),By(Pl),ys=!!El,Pl=El=null,e.current=n,mv(n),Wm(),F=l,V=o,et.transition=s}else e.current=n;if($i&&($i=!1,Qt=e,Ms=i),s=e.pendingLanes,s===0&&(Gt=null),Ym(n.stateNode),ze(e,re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(As)throw As=!1,e=Hl,Hl=null,e;return Ms&1&&e.tag!==0&&Zn(),s=e.pendingLanes,s&1?e===Wl?Hr++:(Hr=0,Wl=e):Hr=0,cn(),null}function Zn(){if(Qt!==null){var e=ad(Ms),t=et.transition,n=V;try{if(et.transition=null,V=16>e?16:e,Qt===null)var r=!1;else{if(e=Qt,Qt=null,Ms=0,F&6)throw Error(P(331));var i=F;for(F|=4,I=e.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Ur(8,c,s)}var d=c.child;if(d!==null)d.return=c,I=d;else for(;I!==null;){c=I;var h=c.sibling,y=c.return;if(wh(c),c===u){I=null;break}if(h!==null){h.return=y,I=h;break}I=y}}}var g=s.alternate;if(g!==null){var k=g.child;if(k!==null){g.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ur(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,I=p;break e}I=s.return}}var f=e.current;for(I=f;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eo(9,l)}}catch(C){ne(l,l.return,C)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(F=i,cn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ks,e)}catch{}r=!0}return r}finally{V=n,et.transition=t}}return!1}function Hc(e,t,n){t=sr(n,t),t=ah(e,t,1),e=Zt(e,t,1),t=Oe(),e!==null&&(gi(e,1,t),ze(e,t))}function ne(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=sr(n,e),e=uh(t,e,1),t=Zt(t,e,1),e=Oe(),t!==null&&(gi(t,1,e),ze(t,e));break}}t=t.return}}function kv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(me&n)===n&&(ue===4||ue===3&&(me&130023424)===me&&500>re()-Xa?kn(e,0):Ja|=n),ze(e,t)}function Th(e,t){t===0&&(e.mode&1?(t=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):t=1);var n=Oe();e=Rt(e,t),e!==null&&(gi(e,t,n),ze(e,n))}function _v(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Th(e,n)}function Ev(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Th(e,n)}var Ih;Ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,cv(e,t,n);Re=!!(e.flags&131072)}else Re=!1,q&&t.flags&1048576&&Rd(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var i=tr(t,_e.current);Xn(t,n),i=Ha(null,t,r,e,i,n);var s=Wa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(r)?(s=!0,ks(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$a(t),i.updater=Gs,t.stateNode=i,i._reactInternals=t,Dl(t,r,e,n),t=jl(null,t,r,!0,s,n)):(t.tag=0,q&&s&&Ma(t),Ce(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xv(r),e=it(r,e),i){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=Rc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Dc(null,t,r,it(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),Ll(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),Rc(e,t,r,i,n);case 3:e:{if(hh(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Bd(e,t),Cs(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=sr(Error(P(423)),t),t=Lc(e,t,r,n,i);break e}else if(r!==i){i=sr(Error(P(424)),t),t=Lc(e,t,r,n,i);break e}else for(Fe=Xt(t.stateNode.containerInfo.firstChild),Ve=t,q=!0,lt=null,n=bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),r===i){t=Lt(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return Fd(t),e===null&&Il(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,xl(r,i)?o=null:s!==null&&xl(r,s)&&(t.flags|=32),dh(e,t),Ce(e,t,o,n),t.child;case 6:return e===null&&Il(t),null;case 13:return ph(e,t,n);case 4:return Ba(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rr(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),Mc(e,t,r,i,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,W(Ps,r._currentValue),r._currentValue=o,s!==null)if(ft(s.value,o)){if(s.children===i.children&&!Le.current){t=Lt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=It(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Al(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Al(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ce(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xn(t,n),i=tt(i),r=r(i),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,i=it(r,t.pendingProps),i=it(r.type,i),Dc(e,t,r,i,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),ns(e,t),t.tag=1,je(r)?(e=!0,ks(t)):e=!1,Xn(t,n),lh(t,r,i),Dl(t,r,i,n),jl(null,t,r,!0,e,n);case 19:return mh(e,t,n);case 22:return fh(e,t,n)}throw Error(P(156,t.tag))};function Ah(e,t){return id(e,t)}function Pv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new Pv(e,t,n,r)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xv(e){if(typeof e=="function")return tu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sa)return 11;if(e===ka)return 14}return 2}function tn(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")tu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jn:return _n(n.children,i,s,t);case wa:o=8,i|=8;break;case rl:return e=Ge(12,n,t,i|2),e.elementType=rl,e.lanes=s,e;case il:return e=Ge(13,n,t,i),e.elementType=il,e.lanes=s,e;case sl:return e=Ge(19,n,t,i),e.elementType=sl,e.lanes=s,e;case Ff:return no(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $f:o=10;break e;case Bf:o=9;break e;case Sa:o=11;break e;case ka:o=14;break e;case Ut:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ge(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function _n(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function no(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Ff,e.lanes=n,e.stateNode={isHidden:!1},e}function Vo(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nu(e,t,n,r,i,s,o,l,a){return e=new Cv(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ge(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(s),e}function Nv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mh(e){if(!e)return sn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(je(n))return Md(e,n,t)}return t}function Dh(e,t,n,r,i,s,o,l,a){return e=nu(n,r,!0,e,i,s,o,l,a),e.context=Mh(null),n=e.current,r=Oe(),i=en(n),s=It(r,i),s.callback=t??null,Zt(n,s,i),e.current.lanes=i,gi(e,i,r),ze(e,r),e}function ro(e,t,n,r){var i=t.current,s=Oe(),o=en(i);return n=Mh(n),t.context===null?t.context=n:t.pendingContext=n,t=It(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(i,t,o),e!==null&&(ct(e,i,o,s),Gi(e,i,o)),o}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ru(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}function Ov(){return null}var Rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}io.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));ro(e,t,null,null)};io.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){ro(null,e,null,null)}),t[Dt]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=fd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&hd(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function Tv(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rs(o);s.call(u)}}var o=Dh(t,r,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=o,e[Dt]=o.current,ni(e.nodeType===8?e.parentNode:e),Nn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rs(a);l.call(u)}}var a=nu(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=a,e[Dt]=a.current,ni(e.nodeType===8?e.parentNode:e),Nn(function(){ro(t,a,n,r)}),a}function oo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Rs(o);l.call(a)}}ro(t,o,e,i)}else o=Tv(n,t,e,i,r);return Rs(o)}ud=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(Pa(t,n|1),ze(t,re()),!(F&6)&&(or=re()+500,cn()))}break;case 13:Nn(function(){var r=Rt(e,1);if(r!==null){var i=Oe();ct(r,e,1,i)}}),ru(e,1)}};xa=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Oe();ct(t,e,134217728,n)}ru(e,134217728)}};cd=function(e){if(e.tag===13){var t=en(e),n=Rt(e,t);if(n!==null){var r=Oe();ct(n,e,t,r)}ru(e,t)}};fd=function(){return V};dd=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};ml=function(e,t,n){switch(t){case"input":if(al(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Js(r);if(!i)throw Error(P(90));Vf(r),al(r,i)}}}break;case"textarea":Wf(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};Zf=Za;Gf=Nn;var Iv={usingClientEntryPoint:!1,Events:[Si,Bn,Js,Jf,Xf,Za]},xr={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Av={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nd(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{Ks=Bi.inject(Av),gt=Bi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(P(200));return Nv(e,t,null,n)};Qe.createRoot=function(e,t){if(!su(e))throw Error(P(299));var n=!1,r="",i=Rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nu(e,1,!1,null,null,n,!1,r,i),e[Dt]=t.current,ni(e.nodeType===8?e.parentNode:e),new iu(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=nd(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Nn(e)};Qe.hydrate=function(e,t,n){if(!so(t))throw Error(P(200));return oo(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!su(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Rh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Dh(t,null,e,1,n??null,i,!1,s,o),e[Dt]=t.current,ni(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new io(t)};Qe.render=function(e,t,n){if(!so(t))throw Error(P(200));return oo(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!so(e))throw Error(P(40));return e._reactRootContainer?(Nn(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Za;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!so(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return oo(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),Lf.exports=Qe;var Mv=Lf.exports,jh,Qc=Mv;jh=Qc.createRoot,Qc.hydrateRoot;let Dv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Rv=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Dv[Math.random()*64|0];return t};function at(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lr(e){return!!e&&!!e[We]}function On(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Uv}(e)||Array.isArray(e)||!!e[tf]||!!(!((t=e.constructor)===null||t===void 0)&&t[tf])||ou(e)||lu(e))}function fi(e,t,n){n===void 0&&(n=!1),dr(e)===0?(n?Object.keys:du)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function dr(e){var t=e[We];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ou(e)?2:lu(e)?3:0}function Yl(e,t){return dr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lv(e,t){return dr(e)===2?e.get(t):e[t]}function zh(e,t,n){var r=dr(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jv(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ou(e){return Bv&&e instanceof Map}function lu(e){return Fv&&e instanceof Set}function vn(e){return e.o||e.t}function au(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Vv(e);delete t[We];for(var n=du(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function uu(e,t){return t===void 0&&(t=!1),cu(e)||lr(e)||!On(e)||(dr(e)>1&&(e.set=e.add=e.clear=e.delete=zv),Object.freeze(e),t&&fi(e,function(n,r){return uu(r,!0)},!0)),e}function zv(){at(2)}function cu(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function St(e){var t=Hv[e];return t||at(18,e),t}function Yc(){return di}function Wo(e,t){t&&(St("Patches"),e.u=[],e.s=[],e.v=t)}function Ls(e){ql(e),e.p.forEach(bv),e.p=null}function ql(e){e===di&&(di=e.l)}function qc(e){return di={p:[],l:di,h:e,m:!0,_:0}}function bv(e){var t=e[We];t.i===0||t.i===1?t.j():t.g=!0}function Ko(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||St("ES5").S(t,e,r),r?(n[We].P&&(Ls(t),at(4)),On(e)&&(e=js(t,e),t.l||zs(t,e)),t.u&&St("Patches").M(n[We].t,e,t.u,t.s)):e=js(t,n,[]),Ls(t),t.u&&t.v(t.u,t.s),e!==bh?e:void 0}function js(e,t,n){if(cu(t))return t;var r=t[We];if(!r)return fi(t,function(l,a){return Jc(e,r,t,l,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return zs(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=au(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),fi(s,function(l,a){return Jc(e,r,i,l,a,n,o)}),zs(e,i,!1),n&&e.u&&St("Patches").N(r,n,e.u,e.s)}return r.o}function Jc(e,t,n,r,i,s,o){if(lr(i)){var l=js(e,i,s&&t&&t.i!==3&&!Yl(t.R,r)?s.concat(r):void 0);if(zh(n,r,l),!lr(l))return;e.m=!1}else o&&n.add(i);if(On(i)&&!cu(i)){if(!e.h.D&&e._<1)return;js(e,i),t&&t.A.l||zs(e,i)}}function zs(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&uu(t,n)}function Qo(e,t){var n=e[We];return(n?vn(n):e)[t]}function Xc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Jl(e){e.P||(e.P=!0,e.l&&Jl(e.l))}function Yo(e){e.o||(e.o=au(e.t))}function Xl(e,t,n){var r=ou(t)?St("MapSet").F(t,n):lu(t)?St("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),l={i:o?1:0,A:s?s.A:Yc(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},a=l,u=Zl;o&&(a=[l],u=Dr);var c=Proxy.revocable(a,u),d=c.revoke,h=c.proxy;return l.k=h,l.j=d,h}(t,n):St("ES5").J(t,n);return(n?n.A:Yc()).p.push(r),r}function $v(e){return lr(e)||at(22,e),function t(n){if(!On(n))return n;var r,i=n[We],s=dr(n);if(i){if(!i.P&&(i.i<4||!St("ES5").K(i)))return i.t;i.I=!0,r=Zc(n,s),i.I=!1}else r=Zc(n,s);return fi(r,function(o,l){i&&Lv(i.t,o)===l||zh(r,o,t(l))}),s===3?new Set(r):r}(e)}function Zc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return au(e)}var Gc,di,fu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Bv=typeof Map<"u",Fv=typeof Set<"u",ef=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",bh=fu?Symbol.for("immer-nothing"):((Gc={})["immer-nothing"]=!0,Gc),tf=fu?Symbol.for("immer-draftable"):"__$immer_draftable",We=fu?Symbol.for("immer-state"):"__$immer_state",Uv=""+Object.prototype.constructor,du=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Vv=Object.getOwnPropertyDescriptors||function(e){var t={};return du(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Hv={},Zl={get:function(e,t){if(t===We)return e;var n=vn(e);if(!Yl(n,t))return function(i,s,o){var l,a=Xc(s,o);return a?"value"in a?a.value:(l=a.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!On(r)?r:r===Qo(e.t,t)?(Yo(e),e.o[t]=Xl(e.A.h,r,e)):r},has:function(e,t){return t in vn(e)},ownKeys:function(e){return Reflect.ownKeys(vn(e))},set:function(e,t,n){var r=Xc(vn(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Qo(vn(e),t),s=i==null?void 0:i[We];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(jv(n,i)&&(n!==void 0||Yl(e.t,t)))return!0;Yo(e),Jl(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Qo(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Yo(e),Jl(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=vn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){at(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){at(12)}},Dr={};fi(Zl,function(e,t){Dr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Dr.deleteProperty=function(e,t){return Dr.set.call(this,e,t,void 0)},Dr.set=function(e,t,n){return Zl.set.call(this,e[0],t,n,e[0])};var Wv=function(){function e(n){var r=this;this.O=ef,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var a=r;return function(k){var x=this;k===void 0&&(k=l);for(var p=arguments.length,f=Array(p>1?p-1:0),m=1;m<p;m++)f[m-1]=arguments[m];return a.produce(k,function(w){var C;return(C=s).call.apply(C,[x,w].concat(f))})}}var u;if(typeof s!="function"&&at(6),o!==void 0&&typeof o!="function"&&at(7),On(i)){var c=qc(r),d=Xl(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?Ls(c):ql(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(k){return Wo(c,o),Ko(k,c)},function(k){throw Ls(c),k}):(Wo(c,o),Ko(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===bh&&(u=void 0),r.D&&uu(u,!0),o){var y=[],g=[];St("Patches").M(i,u,y,g),o(y,g)}return u}at(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(y){return i.apply(void 0,[y].concat(d))})};var o,l,a=r.produce(i,s,function(u,c){o=u,l=c});return typeof Promise<"u"&&a instanceof Promise?a.then(function(u){return[u,o,l]}):[a,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){On(n)||at(8),lr(n)&&(n=$v(n));var r=qc(this),i=Xl(this,n,void 0);return i[We].C=!0,ql(r),i},t.finishDraft=function(n,r){var i=n&&n[We],s=i.A;return Wo(s,r),Ko(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!ef&&at(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=St("Patches").$;return lr(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},e}(),Ke=new Wv,Kv=Ke.produce;Ke.produceWithPatches.bind(Ke);Ke.setAutoFreeze.bind(Ke);Ke.setUseProxies.bind(Ke);Ke.applyPatches.bind(Ke);Ke.createDraft.bind(Ke);Ke.finishDraft.bind(Ke);class Qv{constructor(t){const n=Yv();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=Math.trunc(t))}}function Yv(){let e=4022871197;return function(n){const r=n.toString();for(let i=0;i<r.length;i++){e+=r.charCodeAt(i);let s=.02519603282416938*e;e=s>>>0,s-=e,s*=e,e=s>>>0,s-=e,e+=s*4294967296}return(e>>>0)*23283064365386963e-26}}function nf(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function $h(e,t){const n=new Qv(e),r=n.next.bind(n);return t&&nf(t,n),r.state=()=>nf(n,{}),r}class rf{constructor(t){this.state=t||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const t=this.state,n=t.prngstate?"":t.seed,r=$h(n,t.prngstate),i=r();return this.state={...t,prngstate:r.state()},i}api(){const t=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},r={};for(const s in n){const o=n[s];r[s]=l=>l===void 0?Math.floor(t()*o)+1:Array.from({length:l}).map(()=>Math.floor(t()*o)+1)}function i(s=6,o){return o===void 0?Math.floor(t()*s)+1:Array.from({length:o}).map(()=>Math.floor(t()*s)+1)}return{...r,Die:i,Number:()=>t(),Shuffle:s=>{const o=[...s];let l=s.length,a=0;const u=Array.from({length:l});for(;l;){const c=Math.trunc(l*t());u[a++]=o[c],o[c]=o[--l]}return u},_private:this}}}const qv={name:"random",noClient:({api:e})=>e._private.isUsed(),flush:({api:e})=>e._private.getState(),api:({data:e})=>new rf(e).api(),setup:({game:e})=>{let{seed:t}=e;return t===void 0&&(t=rf.seed()),{seed:t}},playerView:()=>{}};var Jv=Function.prototype,Xv=Jv.toString;Xv.call(Object);const hi="MAKE_MOVE",lo="GAME_EVENT",ao="REDO",hu="RESET",pu="SYNC",uo="UNDO",mu="UPDATE",yu="PATCH",Bh="PLUGIN",co="STRIP_TRANSIENTS",Fh=(e,t,n,r)=>({type:hi,payload:{type:e,args:t,playerID:n,credentials:r}}),Wr=(e,t,n,r)=>({type:lo,payload:{type:e,args:t,playerID:n,credentials:r}}),Uh=(e,t,n,r)=>({type:lo,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),Vh=e=>({type:pu,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),Hh=(e,t,n,r)=>({type:yu,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),Wh=(e,t)=>({type:mu,state:e,deltalog:t,clientOnly:!0}),Kh=e=>({type:hu,state:e,clientOnly:!0}),Qh=(e,t)=>({type:uo,payload:{type:null,args:null,playerID:e,credentials:t}}),Yh=(e,t)=>({type:ao,payload:{type:null,args:null,playerID:e,credentials:t}}),Zv=(e,t,n,r)=>({type:Bh,payload:{type:e,args:t,playerID:n,credentials:r}}),qh=()=>({type:co});var Gv=Object.freeze({__proto__:null,makeMove:Fh,gameEvent:Wr,automaticGameEvent:Uh,sync:Vh,patch:Hh,update:Wh,reset:Kh,undo:Qh,redo:Yh,plugin:Zv,stripTransients:qh});const on="INVALID_MOVE",eg={name:"plugin-immer",fnWrap:e=>(t,...n)=>{let r=!1;const i=Kv(t.G,s=>{const o=e({...t,G:s},...n);if(o===on){r=!0;return}return o});return r?on:i}};var Se;(function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"})(Se||(Se={}));var Ct;(function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",e.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Ct||(Ct={}));class tg{constructor(t,n,r){this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const t={_private:this};for(const n of this.flow.eventNames)t[n]=(...r)=>{this.dispatch.push({type:n,args:r,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(t,n){this.currentPhase=t.phase,this.currentTurn=t.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(t){const n=t,r=({stack:i},s)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:s+`
`+i}}}});e:for(let i=0;i<this.dispatch.length;i++){const s=this.dispatch[i],o=s.turn!==t.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return r(s.error,Ct.MaxTurnEndings);if(s.calledFrom===void 0)return r(s.error,Ct.CalledOutsideHook);if(t.ctx.gameover)break e;switch(s.type){case"endStage":case"setStage":case"setActivePlayers":{switch(s.calledFrom){case Se.TURN_ON_END:case Se.PHASE_ON_END:return r(s.error,Ct.StageEventInOnEnd);case Se.PHASE_ON_BEGIN:return r(s.error,Ct.StageEventInPhaseBegin);case Se.TURN_ON_BEGIN:if(s.type==="setActivePlayers")break;return r(s.error,Ct.StageEventInTurnBegin)}if(o)continue e;break}case"endTurn":{if(s.calledFrom===Se.TURN_ON_END||s.calledFrom===Se.PHASE_ON_END)return r(s.error,Ct.EndTurnInOnEnd);if(o)continue e;break}case"endPhase":case"setPhase":{if(s.calledFrom===Se.PHASE_ON_END)return r(s.error,Ct.PhaseEventInOnEnd);if(s.phase!==t.ctx.phase)continue e;break}}const a=Uh(s.type,s.args,this.playerID);t=this.flow.processEvent(t,a)}return t}}const vu={name:"events",noClient:({api:e})=>e._private.isUsed(),isInvalid:({data:e})=>e.error||!1,fnWrap:(e,t)=>(n,...r)=>{const i=n.events;i&&i._private.updateTurnContext(n.ctx,t);const s=e(n,...r);return i&&i._private.unsetCurrentMethod(),s},dangerouslyFlushRawState:({state:e,api:t})=>t._private.update(e),api:({game:e,ctx:t,playerID:n})=>new tg(e.flow,t,n).api()},ng={name:"log",flush:()=>({}),api:({data:e})=>({setMetadata:t=>{e.metadata=t}}),setup:()=>({})},rg={name:"plugin-serializable",fnWrap:e=>(t,...n)=>e(t,...n)},ig=(...e)=>console.error(...e);function U(e){ig("ERROR:",e)}const gu=[eg,qv,ng,rg],_i=[...gu,vu],sg=(e,t,n)=>(n.game.plugins.filter(r=>r.action!==void 0).filter(r=>r.name===t.payload.type).forEach(r=>{const i=r.name,s=e.plugins[i]||{data:{}},o=r.action(s.data,t.payload);e={...e,plugins:{...e.plugins,[i]:{...s,data:o}}}}),e),ar=({plugins:e})=>Object.entries(e||{}).reduce((t,[n,{api:r}])=>(t[n]=r,t),{}),Jh=(e,t,n)=>[...gu,...n,vu].filter(r=>r.fnWrap!==void 0).reduce((r,{fnWrap:i})=>i(r,t),e),og=(e,t)=>([..._i,...t.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const r=n.name,i=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:i}}}}),e),Gl=(e,t)=>([..._i,...t.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}},s=n.api({G:e.G,ctx:e.ctx,data:i.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...i,api:s}}}}),e),lg=(e,t)=>([...gu,...t.game.plugins,vu].reverse().forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}};if(n.flush){const s=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data});e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}else if(n.dangerouslyFlushRawState){e=n.dangerouslyFlushRawState({state:e,game:t.game,api:i.api,data:i.data});const s=e.plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}}),e),ag=(e,t)=>[..._i,...t.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const r=n.name,i=e.plugins[r];return i?n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data}):!1}).includes(!0),ug=(e,t)=>[..._i,...t.game.plugins].filter(r=>r.isInvalid!==void 0).map(r=>{const{name:i}=r,s=e.plugins[i],o=r.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:s&&s.data});return o?{plugin:i,message:o}:!1}).find(r=>r)||!1,Xh=(e,t)=>{const n=lg(e,t),r=ug(n,t);if(!r)return[n];const{plugin:i,message:s}=r;return U(`${i} plugin declared action invalid:
${s}`),[e,r]},Zh=({G:e,ctx:t,plugins:n={}},{game:r,playerID:i})=>([..._i,...r.plugins].forEach(({name:s,playerView:o})=>{if(!o)return;const{data:l}=n[s]||{data:{}},a=o({G:e,ctx:t,game:r,data:l,playerID:i});n={...n,[s]:{data:a}}}),n);function bs(e,t=!1){e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function $s(e,t){let n={},r=[],i=null,s={},o={};if(Array.isArray(t)){const a={};t.forEach(u=>a[u]=Bs.NULL),n=a}else{if(bs(t),t.next&&(i=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),t.currentPlayer!==void 0&&Fi(n,s,o,e.currentPlayer,t.currentPlayer),t.others!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];u!==e.currentPlayer&&Fi(n,s,o,u,t.others)}if(t.all!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];Fi(n,s,o,u,t.all)}if(t.value)for(const a in t.value)Fi(n,s,o,a,t.value[a]);if(t.minMoves)for(const a in n)s[a]===void 0&&(s[a]=t.minMoves);if(t.maxMoves)for(const a in n)o[a]===void 0&&(o[a]=t.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(s).length===0&&(s=null),Object.keys(o).length===0&&(o=null);const l={};for(const a in n)l[a]=0;return{...e,activePlayers:n,_activePlayersMinMoves:s,_activePlayersMaxMoves:o,_activePlayersNumMoves:l,_prevActivePlayers:r,_nextActivePlayers:i}}function cg(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s,_nextActivePlayers:o}=e;if(t&&Object.keys(t).length===0)if(o)e=$s(e,o),{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}=e;else if(s.length>0){const l=s.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i}=s[l]),s=s.slice(0,l)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}}function Fi(e,t,n,r,i){(typeof i!="object"||i===Bs.NULL)&&(i={stage:i}),i.stage!==void 0&&(bs(i),e[r]=i.stage,i.minMoves&&(t[r]=i.minMoves),i.maxMoves&&(n[r]=i.maxMoves))}function ea(e,t){return e[t]+""}function fg(e,t){let{G:n,ctx:r}=e;const{numPlayers:i}=r,o={...ar(e),G:n,ctx:r},l=t.order;let a=[...Array.from({length:i})].map((h,y)=>y+"");l.playOrder!==void 0&&(a=l.playOrder(o));const u=l.first(o),c=typeof u;c!=="number"&&U(`invalid value returned by turn.order.first  expected number got ${c} ${u}.`);const d=ea(a,u);return r={...r,currentPlayer:d,playOrderPos:u,playOrder:a},r=$s(r,t.activePlayers||{}),r}function dg(e,t,n,r){const i=n.order;let{G:s,ctx:o}=e,l=o.playOrderPos,a=!1;if(r&&r!==!0)typeof r!="object"&&U(`invalid argument to endTurn: ${r}`),Object.keys(r).forEach(u=>{switch(u){case"remove":t=ea(o.playOrder,l);break;case"next":l=o.playOrder.indexOf(r.next),t=r.next;break;default:U(`invalid argument to endTurn: ${u}`)}});else{const c={...ar(e),G:s,ctx:o},d=i.next(c),h=typeof d;d!==void 0&&h!=="number"&&U(`invalid value returned by turn.order.next  expected number or undefined got ${h} ${d}.`),d===void 0?a=!0:(l=d,t=ea(o.playOrder,l))}return o={...o,playOrderPos:l,currentPlayer:t},{endPhase:a,ctx:o}}const hg={DEFAULT:{first:({ctx:e})=>e.turn===0?e.playOrderPos:(e.playOrderPos+1)%e.playOrder.length,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length}},Bs={NULL:null};var wu={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.Pointer=At.escapeToken=At.unescapeToken=void 0;function Gh(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}At.unescapeToken=Gh;function ep(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}At.escapeToken=ep;var pg=function(){function e(t){t===void 0&&(t=[""]),this.tokens=t}return e.fromJSON=function(t){var n=t.split("/").map(Gh);if(n[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(t));return new e(n)},e.prototype.toString=function(){return this.tokens.map(ep).join("/")},e.prototype.evaluate=function(t){for(var n=null,r="",i=t,s=1,o=this.tokens.length;s<o;s++)n=i,r=this.tokens[s],!(r=="__proto__"||r=="constructor"||r=="prototype")&&(i=(n||{})[r]);return{parent:n,key:r,value:i}},e.prototype.get=function(t){return this.evaluate(t).value},e.prototype.set=function(t,n){var r=this.evaluate(t);r.parent&&(r.parent[r.key]=n)},e.prototype.push=function(t){this.tokens.push(t)},e.prototype.add=function(t){var n=this.tokens.concat(String(t));return new e(n)},e}();At.Pointer=pg;var te={},Su={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(i){return i===void 0?"undefined":i===null?"null":Array.isArray(i)?"array":typeof i}e.objectType=t;function n(i){return i!=null&&typeof i=="object"}function r(i){if(!n(i))return i;if(i.constructor==Array){for(var s=i.length,o=new Array(s),l=0;l<s;l++)o[l]=r(i[l]);return o}if(i.constructor==Date){var a=new Date(+i);return a}var u={};for(var c in i)e.hasOwnProperty.call(i,c)&&(u[c]=r(i[c]));return u}e.clone=r})(Su);var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.diffAny=Ne.diffObjects=Ne.diffArrays=Ne.intersection=Ne.subtract=Ne.isDestructive=void 0;var pi=Su;function mg(e){var t=e.op;return t==="remove"||t==="replace"||t==="copy"||t==="move"}Ne.isDestructive=mg;function ta(e,t){var n={};for(var r in e)pi.hasOwnProperty.call(e,r)&&e[r]!==void 0&&(n[r]=1);for(var i in t)pi.hasOwnProperty.call(t,i)&&t[i]!==void 0&&delete n[i];return Object.keys(n)}Ne.subtract=ta;function tp(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var s in i)pi.hasOwnProperty.call(i,s)&&i[s]!==void 0&&(n[s]=(n[s]||0)+1)}for(var s in n)n[s]<t&&delete n[s];return Object.keys(n)}Ne.intersection=tp;function yg(e){return e.op==="add"}function vg(e){return e.op==="remove"}function qo(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function np(e,t,n,r){r===void 0&&(r=fo);var i={"0,0":{operations:[],cost:0}};function s(c,d){var h="".concat(c,",").concat(d),y=i[h];if(y===void 0){if(c>0&&d>0&&!r(e[c-1],t[d-1],n.add(String(c-1))).length)y=s(c-1,d-1);else{var g=[];if(c>0){var k=s(c-1,d),x={op:"remove",index:c-1};g.push(qo(k,x))}if(d>0){var p=s(c,d-1),f={op:"add",index:c-1,value:t[d-1]};g.push(qo(p,f))}if(c>0&&d>0){var m=s(c-1,d-1),w={op:"replace",index:c-1,original:e[c-1],value:t[d-1]};g.push(qo(m,w))}var C=g.sort(function(N,O){return N.cost-O.cost})[0];y=C}i[h]=y}return y}var o=isNaN(e.length)||e.length<=0?0:e.length,l=isNaN(t.length)||t.length<=0?0:t.length,a=s(o,l).operations,u=a.reduce(function(c,d){var h=c[0],y=c[1];if(yg(d)){var g=d.index+1+y,k=g<o+y?String(g):"-",x={op:d.op,path:n.add(k).toString(),value:d.value};return[h.concat(x),y+1]}else if(vg(d)){var x={op:d.op,path:n.add(String(d.index+y)).toString()};return[h.concat(x),y-1]}else{var p=n.add(String(d.index+y)),f=r(d.original,d.value,p);return[h.concat.apply(h,f),y]}},[[],0])[0];return u}Ne.diffArrays=np;function rp(e,t,n,r){r===void 0&&(r=fo);var i=[];return ta(e,t).forEach(function(s){i.push({op:"remove",path:n.add(s).toString()})}),ta(t,e).forEach(function(s){i.push({op:"add",path:n.add(s).toString(),value:t[s]})}),tp([e,t]).forEach(function(s){i.push.apply(i,r(e[s],t[s],n.add(s)))}),i}Ne.diffObjects=rp;function fo(e,t,n,r){if(r===void 0&&(r=fo),e===t)return[];var i=(0,pi.objectType)(e),s=(0,pi.objectType)(t);return i=="array"&&s=="array"?np(e,t,n,r):i=="object"&&s=="object"?rp(e,t,n,r):[{op:"replace",path:n.toString(),value:t}]}Ne.diffAny=fo;var ku=Lr&&Lr.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(te,"__esModule",{value:!0});te.apply=te.InvalidOperationError=te.test=te.copy=te.move=te.replace=te.remove=te.add=te.TestError=te.MissingError=void 0;var jt=At,_u=Su,gg=Ne,kt=function(e){ku(t,e);function t(n){var r=e.call(this,"Value required at path: ".concat(n))||this;return r.path=n,r.name="MissingError",r}return t}(Error);te.MissingError=kt;var ip=function(e){ku(t,e);function t(n,r){var i=e.call(this,"Test failed: ".concat(n," != ").concat(r))||this;return i.actual=n,i.expected=r,i.name="TestError",i}return t}(Error);te.TestError=ip;function Eu(e,t,n){if(Array.isArray(e))if(t=="-")e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function sp(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function op(e,t){var n=jt.Pointer.fromJSON(t.path).evaluate(e);return n.parent===void 0?new kt(t.path):(Eu(n.parent,n.key,(0,_u.clone)(t.value)),null)}te.add=op;function lp(e,t){var n=jt.Pointer.fromJSON(t.path).evaluate(e);return n.value===void 0?new kt(t.path):(sp(n.parent,n.key),null)}te.remove=lp;function ap(e,t){var n=jt.Pointer.fromJSON(t.path).evaluate(e);if(n.parent===null)return new kt(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new kt(t.path)}else if(n.value===void 0)return new kt(t.path);return n.parent[n.key]=(0,_u.clone)(t.value),null}te.replace=ap;function up(e,t){var n=jt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new kt(t.from);var r=jt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new kt(t.path):(sp(n.parent,n.key),Eu(r.parent,r.key,n.value),null)}te.move=up;function cp(e,t){var n=jt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new kt(t.from);var r=jt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new kt(t.path):(Eu(r.parent,r.key,(0,_u.clone)(n.value)),null)}te.copy=cp;function fp(e,t){var n=jt.Pointer.fromJSON(t.path).evaluate(e);return(0,gg.diffAny)(n.value,t.value,new jt.Pointer).length?new ip(n.value,t.value):null}te.test=fp;var dp=function(e){ku(t,e);function t(n){var r=e.call(this,"Invalid operation: ".concat(n.op))||this;return r.operation=n,r.name="InvalidOperationError",r}return t}(Error);te.InvalidOperationError=dp;function wg(e,t){switch(t.op){case"add":return op(e,t);case"remove":return lp(e,t);case"replace":return ap(e,t);case"move":return up(e,t);case"copy":return cp(e,t);case"test":return fp(e,t)}return new dp(t)}te.apply=wg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=At;Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=te,r=Ne;function i(u,c){return c.map(function(d){return(0,n.apply)(u,d)})}e.applyPatch=i;function s(u){function c(d,h,y){var g=u(d,h,y);return Array.isArray(g)?g:(0,r.diffAny)(d,h,y,c)}return c}function o(u,c,d){var h=new t.Pointer;return(d?s(d):r.diffAny)(u,c,h)}e.createPatch=o;function l(u,c){var d=t.Pointer.fromJSON(c).evaluate(u);if(d!==void 0)return{op:"test",path:c,value:d.value}}function a(u,c){var d=new Array;return c.filter(r.isDestructive).forEach(function(h){var y=l(u,h.path);if(y&&d.push(y),"from"in h){var g=l(u,h.from);g&&d.push(g)}}),d}e.createTests=a})(wu);function Sg({moves:e,phases:t,endIf:n,onEnd:r,turn:i,events:s,plugins:o}){e===void 0&&(e={}),s===void 0&&(s={}),o===void 0&&(o=[]),t===void 0&&(t={}),n||(n=()=>{}),r||(r=({G:v})=>v),i||(i={});const l={...t};""in l&&U("cannot specify phase with empty name"),l[""]={};const a={},u=new Set;let c=null;Object.keys(e).forEach(v=>u.add(v));const d=(v,S)=>{const _=Jh(v,S,o);return j=>{const R=ar(j);return _({...R,G:j.G,ctx:j.ctx,playerID:j.playerID})}},h=v=>S=>{const _=ar(S);return v({..._,G:S.G,ctx:S.ctx})},y={onEnd:d(r,Se.GAME_ON_END),endIf:h(n)};for(const v in l){const S=l[v];if(S.start===!0&&(c=v),S.moves!==void 0)for(const _ of Object.keys(S.moves))a[v+"."+_]=S.moves[_],u.add(_);S.endIf===void 0&&(S.endIf=()=>{}),S.onBegin===void 0&&(S.onBegin=({G:_})=>_),S.onEnd===void 0&&(S.onEnd=({G:_})=>_),S.turn===void 0&&(S.turn=i),S.turn.order===void 0&&(S.turn.order=hg.DEFAULT),S.turn.onBegin===void 0&&(S.turn.onBegin=({G:_})=>_),S.turn.onEnd===void 0&&(S.turn.onEnd=({G:_})=>_),S.turn.endIf===void 0&&(S.turn.endIf=()=>!1),S.turn.onMove===void 0&&(S.turn.onMove=({G:_})=>_),S.turn.stages===void 0&&(S.turn.stages={}),bs(S.turn,!0);for(const _ in S.turn.stages){const R=S.turn.stages[_].moves||{};for(const D of Object.keys(R)){const ee=v+"."+_+"."+D;a[ee]=R[D],u.add(D)}}if(S.wrapped={onBegin:d(S.onBegin,Se.PHASE_ON_BEGIN),onEnd:d(S.onEnd,Se.PHASE_ON_END),endIf:h(S.endIf)},S.turn.wrapped={onMove:d(S.turn.onMove,Se.TURN_ON_MOVE),onBegin:d(S.turn.onBegin,Se.TURN_ON_BEGIN),onEnd:d(S.turn.onEnd,Se.TURN_ON_END),endIf:h(S.turn.endIf)},typeof S.next!="function"){const{next:_}=S;S.next=()=>_||null}S.wrapped.next=h(S.next)}function g(v){return v.phase?l[v.phase]:l[""]}function k(v){return v}function x(v,S){const _=new Set,j=new Set;for(let R=0;R<S.length;R++){const{fn:D,arg:ee,...K}=S[R];if(D===be){j.clear();const Pe=v.ctx.phase;if(_.has(Pe)){const ht={...v.ctx,phase:null};return{...v,ctx:ht}}_.add(Pe)}const qe=[];if(v=D(v,{...K,arg:ee,next:qe}),D===Ee)break;const se=A(v);if(se){S.push({fn:Ee,arg:se,turn:v.ctx.turn,phase:v.ctx.phase,automatic:!0});continue}const he=H(v);if(he){S.push({fn:be,arg:he,turn:v.ctx.turn,phase:v.ctx.phase,automatic:!0});continue}if([k,N,O].includes(D)){const Pe=$(v);if(Pe){S.push({fn:dt,arg:Pe,turn:v.ctx.turn,phase:v.ctx.phase,automatic:!0});continue}}S.push(...qe)}return v}function p(v,{next:S}){return S.push({fn:f}),v}function f(v,{next:S}){let{G:_,ctx:j}=v;return _=g(j).wrapped.onBegin(v),S.push({fn:m}),{...v,G:_,ctx:j}}function m(v,{currentPlayer:S}){let{ctx:_}=v;const j=g(_);S?(_={..._,currentPlayer:S},j.turn.activePlayers&&(_=$s(_,j.turn.activePlayers))):_=fg(v,j.turn);const R=_.turn+1;_={..._,turn:R,numMoves:0,_prevActivePlayers:[]};const D=j.turn.wrapped.onBegin({...v,ctx:_});return{...v,G:D,ctx:_,_undo:[],_redo:[]}}function w(v,{arg:S,next:_,phase:j}){const R=g({phase:j});let{ctx:D}=v;if(S&&S.next)if(S.next in l)D={...D,phase:S.next};else return U("invalid phase: "+S.next),v;else D={...D,phase:R.wrapped.next(v)||null};return v={...v,ctx:D},_.push({fn:f}),v}function C(v,{arg:S,currentPlayer:_,next:j}){let{G:R,ctx:D}=v;const ee=g(D),{endPhase:K,ctx:qe}=dg(v,_,ee.turn,S);return D=qe,v={...v,G:R,ctx:D},K?j.push({fn:be,turn:D.turn,phase:D.phase}):j.push({fn:m,currentPlayer:D.currentPlayer}),v}function N(v,{arg:S,playerID:_}){if((typeof S=="string"||S===Bs.NULL)&&(S={stage:S}),typeof S!="object")return v;bs(S);let{ctx:j}=v,{activePlayers:R,_activePlayersMinMoves:D,_activePlayersMaxMoves:ee,_activePlayersNumMoves:K}=j;return S.stage!==void 0&&(R===null&&(R={}),R[_]=S.stage,K[_]=0,S.minMoves&&(D===null&&(D={}),D[_]=S.minMoves),S.maxMoves&&(ee===null&&(ee={}),ee[_]=S.maxMoves)),j={...j,activePlayers:R,_activePlayersMinMoves:D,_activePlayersMaxMoves:ee,_activePlayersNumMoves:K},{...v,ctx:j}}function O(v,{arg:S}){return{...v,ctx:$s(v.ctx,S)}}function A(v){return y.endIf(v)}function H(v){return g(v.ctx).wrapped.endIf(v)}function $(v){const S=g(v.ctx),_=v.ctx.numMoves||0;return S.turn.maxMoves&&_>=S.turn.maxMoves?!0:S.turn.wrapped.endIf(v)}function Ee(v,{arg:S,phase:_}){v=be(v,{}),S===void 0&&(S=!0),v={...v,ctx:{...v.ctx,gameover:S}};const j=y.onEnd(v);return{...v,G:j}}function be(v,{arg:S,next:_,turn:j,automatic:R}){v=dt(v,{turn:j,force:!0,automatic:!0});const{phase:D,turn:ee}=v.ctx;if(_&&_.push({fn:w,arg:S,phase:D}),D===null)return v;const qe=g(v.ctx).wrapped.onEnd(v),se={...v.ctx,phase:null},he=Wr("endPhase",S),{_stateID:Pe}=v,ht={action:he,_stateID:Pe,turn:ee,phase:D};R&&(ht.automatic=!0);const fn=[...v.deltalog||[],ht];return{...v,G:qe,ctx:se,deltalog:fn}}function dt(v,{arg:S,next:_,turn:j,force:R,automatic:D,playerID:ee}){if(j!==v.ctx.turn)return v;const{currentPlayer:K,numMoves:qe,phase:se,turn:he}=v.ctx,Pe=g(v.ctx),ht=qe||0;if(!R&&Pe.turn.minMoves&&ht<Pe.turn.minMoves)return`${Pe.turn.minMoves}`,v;const fn=Pe.turn.wrapped.onEnd(v);_&&_.push({fn:C,arg:S,currentPlayer:K});let Bt={...v.ctx,activePlayers:null};if(S&&S.remove){ee=ee||K;const dn=Bt.playOrder.filter(om=>om!=ee),sm=Bt.playOrderPos>dn.length-1?0:Bt.playOrderPos;if(Bt={...Bt,playOrder:dn,playOrderPos:sm},dn.length===0)return _.push({fn:be,turn:he,phase:se}),v}const vo=Wr("endTurn",S),{_stateID:bu}=v,vr={action:vo,_stateID:bu,turn:he,phase:se};D&&(vr.automatic=!0);const go=[...v.deltalog||[],vr];return{...v,G:fn,ctx:Bt,deltalog:go,_undo:[],_redo:[]}}function An(v,{arg:S,next:_,automatic:j,playerID:R}){R=R||v.ctx.currentPlayer;let{ctx:D,_stateID:ee}=v,{activePlayers:K,_activePlayersNumMoves:qe,_activePlayersMinMoves:se,_activePlayersMaxMoves:he,phase:Pe,turn:ht}=D;const fn=K!==null&&R in K,Bt=g(D);if(!S&&fn){const dn=Bt.turn.stages[K[R]];dn&&dn.next&&(S=dn.next)}if(_&&_.push({fn:N,arg:S,playerID:R}),!fn)return v;const vo=qe[R]||0;if(se&&se[R]&&vo<se[R])return`${se[R]}`,v;K={...K},delete K[R],se&&(se={...se},delete se[R]),he&&(he={...he},delete he[R]),D=cg({...D,activePlayers:K,_activePlayersMinMoves:se,_activePlayersMaxMoves:he});const vr={action:Wr("endStage",S),_stateID:ee,turn:ht,phase:Pe};j&&(vr.automatic=!0);const go=[...v.deltalog||[],vr];return{...v,ctx:D,deltalog:go}}function Ei(v,S,_){const j=g(v),R=j.turn.stages,{activePlayers:D}=v;if(D&&D[_]!==void 0&&D[_]!==Bs.NULL&&R[D[_]]!==void 0&&R[D[_]].moves!==void 0){const K=R[D[_]].moves;if(S in K)return K[S]}else if(j.moves){if(S in j.moves)return j.moves[S]}else if(S in e)return e[S];return null}function mr(v,S){const{playerID:_,type:j}=S,{currentPlayer:R,activePlayers:D,_activePlayersMaxMoves:ee}=v.ctx,K=Ei(v.ctx,j,_),qe=!K||typeof K=="function"||K.noLimit!==!0;let{numMoves:se,_activePlayersNumMoves:he}=v.ctx;qe&&(_===R&&se++,D&&he[_]++),v={...v,ctx:{...v.ctx,numMoves:se,_activePlayersNumMoves:he}},ee&&he[_]>=ee[_]&&(v=An(v,{playerID:_,automatic:!0}));const ht=g(v.ctx).turn.wrapped.onMove({...v,playerID:_});return v={...v,G:ht},x(v,[{fn:k}])}function yr(v,S,_){return x(v,[{fn:An,arg:_,playerID:S}])}function T(v,S){return x(v,[{fn:An,playerID:S}])}function L(v,S,_){return x(v,[{fn:O,arg:_}])}function z(v,S,_){return x(v,[{fn:be,phase:v.ctx.phase,turn:v.ctx.turn,arg:{next:_}}])}function J(v){return x(v,[{fn:be,phase:v.ctx.phase,turn:v.ctx.turn}])}function ie(v,S,_){return x(v,[{fn:dt,turn:v.ctx.turn,phase:v.ctx.phase,arg:_}])}function Mn(v,S,_){return x(v,[{fn:dt,turn:v.ctx.turn,phase:v.ctx.phase,force:!0,arg:_}])}function Pt(v,S,_){return x(v,[{fn:Ee,turn:v.ctx.turn,phase:v.ctx.phase,arg:_}])}const $t={endStage:T,setStage:yr,endTurn:ie,pass:Mn,endPhase:J,setPhase:z,endGame:Pt,setActivePlayers:L},de=[];s.endTurn!==!1&&de.push("endTurn"),s.pass!==!1&&de.push("pass"),s.endPhase!==!1&&de.push("endPhase"),s.setPhase!==!1&&de.push("setPhase"),s.endGame!==!1&&de.push("endGame"),s.setActivePlayers!==!1&&de.push("setActivePlayers"),s.endStage!==!1&&de.push("endStage"),s.setStage!==!1&&de.push("setStage");function Dn(v,S){const{type:_,playerID:j,args:R}=S.payload;return typeof $t[_]!="function"?v:$t[_](v,j,...Array.isArray(R)?R:[R])}function im(v,S,_){return S.activePlayers?_ in S.activePlayers:S.currentPlayer===_}return{ctx:v=>({numPlayers:v,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:v})].map((S,_)=>_+""),playOrderPos:0,phase:c,activePlayers:null}),init:v=>x(v,[{fn:p}]),isPlayerActive:im,eventHandlers:$t,eventNames:Object.keys($t),enabledEventNames:de,moveMap:a,moveNames:[...u.values()],processMove:mr,processEvent:Dn,getMove:Ei}}function kg(e){return e.processMove!==void 0}function ho(e){if(kg(e))return e;if(e.name===void 0&&(e.name="default"),e.deltaState===void 0&&(e.deltaState=!1),e.disableUndo===void 0&&(e.disableUndo=!1),e.setup===void 0&&(e.setup=()=>({})),e.moves===void 0&&(e.moves={}),e.playerView===void 0&&(e.playerView=({G:n})=>n),e.plugins===void 0&&(e.plugins=[]),e.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=Sg(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map(n=>n.name),processMove:(n,r)=>{let i=t.getMove(n.ctx,r.type,r.playerID);if(hp(i)&&(i=i.move),i instanceof Function){const s=Jh(i,Se.MOVE,e.plugins);let o=[];r.args!==void 0&&(o=Array.isArray(r.args)?r.args:[r.args]);const l={...ar(n),G:n.G,ctx:n.ctx,playerID:r.playerID};return s(l,...o)}return U(`invalid move object: ${r.type}`),n.G}}}function hp(e){return e instanceof Object&&e.move!==void 0}var na;(function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"})(na||(na={}));var we;(function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"})(we||(we={}));const Ui=e=>e.payload.playerID!==null&&e.payload.playerID!==void 0,_g=(e,t,n)=>{function r(s){return s.undoable!==void 0}function i(s){return s instanceof Function}return r(n)?i(n.undoable)?n.undoable({G:e,ctx:t}):n.undoable:!0};function sf(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return t.action.type==="MAKE_MOVE"&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function Jo(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},i=e.plugins.log.data.metadata;return i!==void 0&&(r.metadata=i),typeof n=="object"&&n.redact===!0?r.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(r.redact=n.redact({G:e.G,ctx:e.ctx})),{...e,deltalog:[r]}}function Xo(e,t,n){const[r,i]=Xh(e,n);return i?[r,xe(t,we.PluginActionInvalid,i)]:[r]}function pp(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function xe(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const mp=e=>t=>n=>{const r=t(n);switch(n.type){case co:return r;default:{const[,i]=pp(e.getState());return typeof i<"u"?(e.dispatch(qh()),{...r,transients:i}):r}}};function Pu({game:e,isClient:t}){return e=ho(e),(n=null,r)=>{let[i]=pp(n);switch(r.type){case co:return i;case lo:{if(i={...i,deltalog:[]},t)return i;if(i.ctx.gameover!==void 0)return U("cannot call event after game end"),xe(i,we.GameOver);if(Ui(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return U(`disallowed event: ${r.payload.type}`),xe(i,we.InactivePlayer);i=Gl(i,{game:e,playerID:r.payload.playerID});let s=e.flow.processEvent(i,r),o;return[s,o]=Xo(s,i,{game:e}),o||(s=sf(s,{game:e,action:r}),{...s,_stateID:i._stateID+1})}case hi:{const s=i={...i,deltalog:[]},o=e.flow.getMove(i.ctx,r.payload.type,r.payload.playerID||i.ctx.currentPlayer);if(o===null)return U(`disallowed move: ${r.payload.type}`),xe(i,we.UnavailableMove);if(t&&o.client===!1)return i;if(i.ctx.gameover!==void 0)return U("cannot make move after game end"),xe(i,we.GameOver);if(Ui(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return U(`disallowed move: ${r.payload.type}`),xe(i,we.InactivePlayer);i=Gl(i,{game:e,playerID:r.payload.playerID});const l=e.processMove(i,r.payload);if(l===on)return U(`invalid move: ${r.payload.type} args: ${r.payload.args}`),xe(i,we.InvalidMove);const a={...i,G:l};if(t&&ag(a,{game:e}))return i;if(i=a,t){let c;return[i,c]=Xo(i,s,{game:e}),c||{...i,_stateID:i._stateID+1}}i=Jo(i,r,o),i=e.flow.processMove(i,r.payload);let u;return[i,u]=Xo(i,s,{game:e}),u||(i=sf(i,{game:e,action:r}),{...i,_stateID:i._stateID+1})}case hu:case mu:case pu:return r.state;case uo:{if(i={...i,deltalog:[]},e.disableUndo)return U("Undo is not enabled"),xe(i,we.ActionDisabled);const{G:s,ctx:o,_undo:l,_redo:a,_stateID:u}=i;if(l.length<2)return U("No moves to undo"),xe(i,we.ActionInvalid);const c=l[l.length-1],d=l[l.length-2];if(Ui(r)&&r.payload.playerID!==c.playerID)return U("Cannot undo other players' moves"),xe(i,we.ActionInvalid);if(c.moveType){const h=e.flow.getMove(d.ctx,c.moveType,c.playerID);if(!_g(s,o,h))return U("Move cannot be undone"),xe(i,we.ActionInvalid)}return i=Jo(i,r),{...i,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:u+1,_undo:l.slice(0,-1),_redo:[c,...a]}}case ao:{if(i={...i,deltalog:[]},e.disableUndo)return U("Redo is not enabled"),xe(i,we.ActionDisabled);const{_undo:s,_redo:o,_stateID:l}=i;if(o.length===0)return U("No moves to redo"),xe(i,we.ActionInvalid);const a=o[0];return Ui(r)&&r.payload.playerID!==a.playerID?(U("Cannot redo other players' moves"),xe(i,we.ActionInvalid)):(i=Jo(i,r),{...i,G:a.G,ctx:a.ctx,plugins:a.plugins,_stateID:l+1,_undo:[...s,a],_redo:o.slice(1)})}case Bh:return sg(i,r,{game:e});case yu:{const s=i,o=JSON.parse(JSON.stringify(s)),l=wu.applyPatch(o,r.patch);return l.some(u=>u!==null)?(U(`Patch ${JSON.stringify(r.patch)} apply failed`),xe(s,na.PatchFailed,l)):o}default:return i}}}(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,s=e.document,o;function l(f){typeof f!="function"&&(f=new Function(""+f));for(var m=new Array(arguments.length-1),w=0;w<m.length;w++)m[w]=arguments[w+1];var C={callback:f,args:m};return r[n]=C,o(n),n++}function a(f){delete r[f]}function u(f){var m=f.callback,w=f.args;switch(w.length){case 0:m();break;case 1:m(w[0]);break;case 2:m(w[0],w[1]);break;case 3:m(w[0],w[1],w[2]);break;default:m.apply(t,w);break}}function c(f){if(i)setTimeout(c,0,f);else{var m=r[f];if(m){i=!0;try{u(m)}finally{a(f),i=!1}}}}function d(){o=function(f){process.nextTick(function(){c(f)})}}function h(){if(e.postMessage&&!e.importScripts){var f=!0,m=e.onmessage;return e.onmessage=function(){f=!1},e.postMessage("","*"),e.onmessage=m,f}}function y(){var f="setImmediate$"+Math.random()+"$",m=function(w){w.source===e&&typeof w.data=="string"&&w.data.indexOf(f)===0&&c(+w.data.slice(f.length))};e.addEventListener?e.addEventListener("message",m,!1):e.attachEvent("onmessage",m),o=function(w){e.postMessage(f+w,"*")}}function g(){var f=new MessageChannel;f.port1.onmessage=function(m){var w=m.data;c(w)},o=function(m){f.port2.postMessage(m)}}function k(){var f=s.documentElement;o=function(m){var w=s.createElement("script");w.onreadystatechange=function(){c(m),w.onreadystatechange=null,f.removeChild(w),w=null},f.appendChild(w)}}function x(){o=function(f){setTimeout(c,0,f)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?d():h()?y():e.MessageChannel?g():s&&"onreadystatechange"in s.createElement("script")?k():x(),p.setImmediate=l,p.clearImmediate=a})(typeof self>"u"?Lr:self);class Eg{constructor({enumerate:t,seed:n}){this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:t,range:n,initial:r}){this._opts[t]={range:n,value:r}}getOpt(t){return this._opts[t].value}setOpt(t,n){t in this._opts&&(this._opts[t].value=n)}opts(){return this._opts}enumerate(t,n,r){return this.enumerateFn(t,n,r).map(s=>{if("payload"in s)return s;if("move"in s)return Fh(s.move,s.args,r);if("event"in s)return Wr(s.event,s.args,r)})}random(t){let n;if(this.seed!==void 0){const r=this.prngstate?"":this.seed,i=$h(r,this.prngstate);n=i(),this.prngstate=i.state()}else n=Math.random();if(t)if(Array.isArray(t)){const r=Math.floor(n*t.length);return t[r]}else return Math.floor(n*t);return n}}const Pg=25;class os extends Eg{constructor({enumerate:t,seed:n,objectives:r,game:i,iterations:s,playoutDepth:o,iterationCallback:l}){super({enumerate:t,seed:n}),r===void 0&&(r=()=>({})),this.objectives=r,this.iterationCallback=l||(()=>{}),this.reducer=Pu({game:i}),this.iterations=s,this.playoutDepth=o,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof s=="number"?s:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof o=="number"?o:50,range:{min:1,max:100}})}createNode({state:t,parentAction:n,parent:r,playerID:i}){const{G:s,ctx:o}=t;let l=[],a=[];if(i!==void 0)l=this.enumerate(s,o,i),a=this.objectives(s,o,i);else if(o.activePlayers)for(const u in o.activePlayers)l.push(...this.enumerate(s,o,u)),a.push(this.objectives(s,o,u));else l=this.enumerate(s,o,o.currentPlayer),a=this.objectives(s,o,o.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:a,children:[],visits:0,value:0}}select(t){if(t.actions.length>0||t.children.length===0)return t;let n=null,r=0;for(const i of t.children){const s=i.visits+Number.EPSILON,o=i.value/s+Math.sqrt(2*Math.log(t.visits)/s);(n==null||o>r)&&(r=o,n=i)}return this.select(n)}expand(t){const n=t.actions;if(n.length===0||t.state.ctx.gameover!==void 0)return t;const r=this.random(n.length),i=n[r];t.actions.splice(r,1);const s=this.reducer(t.state,i),o=this.createNode({state:s,parentAction:i,parent:t});return t.children.push(o),o}playout({state:t}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&t.ctx.gameover===void 0;r++){const{G:i,ctx:s}=t;let o=s.currentPlayer;s.activePlayers&&(o=Object.keys(s.activePlayers)[0]);const l=this.enumerate(i,s,o),a=this.objectives(i,s,o),u=Object.keys(a).reduce((h,y)=>{const g=a[y];return g.checker(i,s)?h+g.weight:h},0);if(u>0)return{score:u};if(!l||l.length===0)return;const c=this.random(l.length);t=this.reducer(t,l[c])}return t.ctx.gameover}backpropagate(t,n={}){t.visits++,n.score!==void 0&&(t.value+=n.score),n.draw===!0&&(t.value+=.5),t.parentAction&&n.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,n)}play(t,n){const r=this.createNode({state:t,playerID:n});let i=this.getOpt("iterations");typeof this.iterations=="function"&&(i=this.iterations(t.G,t.ctx));const s=()=>{let o=null;for(const u of r.children)(o==null||u.visits>o.visits)&&(o=u);return{action:o&&o.parentAction,metadata:r}};return new Promise(o=>{const l=()=>{for(let a=0;a<Pg&&this.iterationCounter<i;a++){const u=this.select(r),c=this.expand(u),d=this.playout(c);this.backpropagate(c,d),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:i,metadata:r})};if(this.iterationCounter=0,this.getOpt("async")){const a=()=>{this.iterationCounter<i?(l(),setImmediate(a)):o(s())};a()}else{for(;this.iterationCounter<i;)l();o(s())}})}}function mi(e){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}function xg(e,t){if(mi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cg(e){var t=xg(e,"string");return mi(t)=="symbol"?t:t+""}function Ng(e,t,n){return(t=Cg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?of(Object(n),!0).forEach(function(r){Ng(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var af=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uf=function(){return Math.random().toString(36).substring(7).split("").join(".")},cf={INIT:"@@redux/INIT"+uf(),REPLACE:"@@redux/REPLACE"+uf()};function Og(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xu(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($e(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($e(1));return n(xu)(e,t)}if(typeof e!="function")throw new Error($e(2));var i=e,s=t,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function c(){if(a)throw new Error($e(3));return s}function d(k){if(typeof k!="function")throw new Error($e(4));if(a)throw new Error($e(5));var x=!0;return u(),l.push(k),function(){if(x){if(a)throw new Error($e(6));x=!1,u();var f=l.indexOf(k);l.splice(f,1),o=null}}}function h(k){if(!Og(k))throw new Error($e(7));if(typeof k.type>"u")throw new Error($e(8));if(a)throw new Error($e(9));try{a=!0,s=i(s,k)}finally{a=!1}for(var x=o=l,p=0;p<x.length;p++){var f=x[p];f()}return k}function y(k){if(typeof k!="function")throw new Error($e(10));i=k,h({type:cf.REPLACE})}function g(){var k,x=d;return k={subscribe:function(f){if(typeof f!="object"||f===null)throw new Error($e(11));function m(){f.next&&f.next(c())}m();var w=x(m);return{unsubscribe:w}}},k[af]=function(){return this},k}return h({type:cf.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:y},r[af]=g,r}function yp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function vp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error($e(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(a){return a(o)});return s=yp.apply(void 0,l)(i.dispatch),lf(lf({},i),{},{dispatch:s})}}}function gp({game:e,numPlayers:t,setupData:n}){e=ho(e),t||(t=2);const r=e.flow.ctx(t);let i={G:{},ctx:r,plugins:{}};i=og(i,{game:e}),i=Gl(i,{game:e,playerID:void 0});const s=ar(i);i.G=e.setup({...s,ctx:i.ctx},n);let o={...i,_undo:[],_redo:[],_stateID:0};return o=e.flow.init(o),[o]=Xh(o,{game:e}),e.disableUndo||(o._undo=[{G:o.G,ctx:o.ctx,plugins:o.plugins}]),o}let Cu=class{constructor({transportDataCallback:t,gameName:n,playerID:r,matchID:i,credentials:s,numPlayers:o}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=i||"default",this.credentials=s,this.numPlayers=o||2}subscribeToConnectionStatus(t){this.connectionStatusCallback=t}setConnectionStatus(t){this.isConnected=t,this.connectionStatusCallback()}notifyClient(t){this.transportDataCallback(t)}};class Tg extends Cu{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Ig=e=>new Tg(e);class Ag{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(t){this.clients.set(t,t),this.mountDebug(t),this.notifySubscribers()}unregister(t){if(this.clients.delete(t),this.currentClient===t){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(t){const n=Symbol();return this.subscribers.set(n,t),t(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(t){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===t&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(t),this.notifySubscribers()}switchToClient(t){t!==this.currentClient&&(this.unmountDebug(),this.mountDebug(t),this.notifySubscribers())}notifySubscribers(){const t=this.getState();this.subscribers.forEach(n=>{n(t)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(t=>t.debugOpt!==!1)}mountDebug(t){if(t.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,r=document.body;t.debugOpt&&t.debugOpt!==!0&&(n=t.debugOpt.impl||n,r=t.debugOpt.target||r),n&&(this.currentClient=t,this.debugPanel=new n({target:r,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const Mg=new Ag;function ra(e,t,n){return!n&&e==null&&(e=t.getState().ctx.currentPlayer),e}function Nu(e,t,n,r,i,s){const o={};for(const l of t)o[l]=(...a)=>{const u=Gv[e](l,a,ra(r,n,s),i);n.dispatch(u)};return o}const Dg=Nu.bind(null,"makeMove"),Rg=Nu.bind(null,"gameEvent"),Lg=Nu.bind(null,"plugin");class jg{constructor({game:t,debug:n,numPlayers:r,multiplayer:i,matchID:s,playerID:o,credentials:l,enhancer:a}){this.game=ho(t),this.playerID=o,this.matchID=s||"default",this.credentials=l,this.multiplayer=i,this.debugOpt=n,this.manager=Mg,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Pu({game:this.game,isClient:i!==void 0}),this.initialState=null,i||(this.initialState=gp({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(Kh(this.initialState))},this.undo=()=>{const y=Qh(ra(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(y)},this.redo=()=>{const y=Yh(ra(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(y)},this.log=[];const h=vp(mp,()=>y=>g=>{const k=y(g);return this.notifySubscribers(),k},y=>g=>k=>{const x=y.getState(),p=g(k);return!("clientOnly"in k)&&k.type!==co&&this.transport.sendAction(x,k),p},y=>g=>k=>{const x=g(k),p=y.getState();switch(k.type){case hi:case lo:case uo:case ao:{const f=p.deltalog;this.log=[...this.log,...f];break}case hu:{this.log=[];break}case yu:case mu:{let f=-1;this.log.length>0&&(f=this.log[this.log.length-1]._stateID);let m=k.deltalog||[];m=m.filter(w=>w._stateID>f),this.log=[...this.log,...m];break}case pu:{this.initialState=k.initialState,this.log=k.log||[];break}}return x});a=a!==void 0?yp(h,a):h,this.store=xu(this.reducer,this.initialState,a),i||(i=Ig),this.transport=i({transportDataCallback:y=>this.receiveTransportData(y),gameKey:t,game:this.game,matchID:s,playerID:o,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=y=>{this.transport.sendChatMessage(this.matchID,{id:Rv(7),sender:this.playerID,payload:y})}}receiveMatchData(t){this.matchData=t,this.notifySubscribers()}receiveChatMessage(t){this.chatMessages=[...this.chatMessages,t],this.notifySubscribers()}receiveTransportData(t){const[n]=t.args;if(n===this.matchID)switch(t.type){case"sync":{const[,r]=t.args,i=Vh(r);this.receiveMatchData(r.filteredMetadata),this.store.dispatch(i);break}case"update":{const[,r,i]=t.args,s=this.store.getState();if(r._stateID>=s._stateID){const o=Wh(r,i);this.store.dispatch(o)}break}case"patch":{const[,r,i,s,o]=t.args,l=this.store.getState()._stateID;if(r!==l)break;const a=Hh(r,i,s,o);this.store.dispatch(a),this.store.getState()._stateID===l&&this.transport.requestSync();break}case"matchData":{const[,r]=t.args;this.receiveMatchData(r);break}case"chat":{const[,r]=t.args;this.receiveChatMessage(r);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(t=>t(this.getState()))}overrideGameState(t){this.gameStateOverride=t,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(t){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=t,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&t(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let t=this.store.getState();if(this.gameStateOverride!==null&&(t=this.gameStateOverride),t===null)return t;let n=!0;const r=this.game.flow.isPlayerActive(t.G,t.ctx,this.playerID);return this.multiplayer&&!r&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!r&&(n=!1),t.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(t={...t,G:this.game.playerView({G:t.G,ctx:t.ctx,playerID:this.playerID}),plugins:Zh(t,this)}),{...t,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=Dg(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=Rg(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=Lg(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(t){this.playerID=t,this.createDispatchers(),this.transport.updatePlayerID(t),this.notifySubscribers()}updateMatchID(t){this.matchID=t,this.createDispatchers(),this.transport.updateMatchID(t),this.notifySubscribers()}updateCredentials(t){this.credentials=t,this.createDispatchers(),this.transport.updateCredentials(t),this.notifySubscribers()}}function zg(e){return new jg(e)}const wp=(e,t)=>{if(!e||typeof e!="string")throw new Error(`Expected ${t} string, got "${e}".`)},hn=e=>wp(e,"game name"),Cr=e=>wp(e,"match ID"),Nr=(e,t)=>{if(!e)throw new Error(`Expected body, got ${e}.`);for(const n in t){const r=t[n],i=Array.isArray(r)?r:[r],s=e[n];if(!i.includes(typeof s)){const o=i.join("|");throw new TypeError(`Expected body.${n} to be of type ${o}, got ${s}.`)}}};class bg extends Error{constructor(t,n){super(t),this.details=n}}class $g{constructor({server:t=""}={}){this.server=t.replace(/\/$/,"")}async request(t,n){const r=await fetch(this.server+t,n);if(!r.ok){let i;try{i=await r.clone().json()}catch{try{i=await r.text()}catch(s){i=s.message}}throw new bg(`HTTP status ${r.status}`,i)}return r.json()}async post(t,n){let r={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(r={...r,...n.init,headers:{...r.headers,...n.init.headers}}),this.request(t,r)}async listGames(t){return this.request("/games",t)}async listMatches(t,n,r){hn(t);let i="";if(n){const s=[],{isGameover:o,updatedBefore:l,updatedAfter:a}=n;o!==void 0&&s.push(`isGameover=${o}`),l&&s.push(`updatedBefore=${l}`),a&&s.push(`updatedAfter=${a}`),s.length>0&&(i="?"+s.join("&"))}return this.request(`/games/${t}${i}`,r)}async getMatch(t,n,r){return hn(t),Cr(n),this.request(`/games/${t}/${n}`,r)}async createMatch(t,n,r){return hn(t),Nr(n,{numPlayers:"number"}),this.post(`/games/${t}/create`,{body:n,init:r})}async joinMatch(t,n,r,i){return hn(t),Cr(n),Nr(r,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${t}/${n}/join`,{body:r,init:i})}async leaveMatch(t,n,r,i){hn(t),Cr(n),Nr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/leave`,{body:r,init:i})}async updatePlayer(t,n,r,i){hn(t),Cr(n),Nr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/update`,{body:r,init:i})}async playAgain(t,n,r,i){return hn(t),Cr(n),Nr(r,{playerID:"string",credentials:"string"}),this.post(`/games/${t}/${n}/playAgain`,{body:r,init:i})}}var Sp={exports:{}},Bg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fg=Bg,Ug=Fg;function kp(){}function _p(){}_p.resetWarningCache=kp;var Vg=function(){function e(r,i,s,o,l,a){if(a!==Ug){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_p,resetWarningCache:kp};return n.PropTypes=n,n};Sp.exports=Vg();var Hg=Sp.exports;const yt=Ef(Hg);var bt={},Ou={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */Ou.parse=Yg;Ou.serialize=qg;var Wg=decodeURIComponent,Kg=encodeURIComponent,Qg=/; */,Vi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Yg(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(Qg),s=r.decode||Wg,o=0;o<i.length;o++){var l=i[o],a=l.indexOf("=");if(!(a<0)){var u=l.substr(0,a).trim(),c=l.substr(++a,l.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),n[u]==null&&(n[u]=Jg(c,s))}}return n}function qg(e,t,n){var r=n||{},i=r.encode||Kg;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Vi.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!Vi.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Vi.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Vi.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var a=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(a){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Jg(e,t){try{return t(e)}catch{return e}}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ff=Object.getOwnPropertySymbols,Xg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable;function Gg(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function e0(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var t0=e0()?Object.assign:function(e,t){for(var n,r=Gg(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Xg.call(n,o)&&(r[o]=n[o]);if(ff){i=ff(n);for(var l=0;l<i.length;l++)Zg.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},n0={};Object.defineProperty(bt,"__esModule",{value:!0});var r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};bt.load=Cp;bt.loadAll=Np;bt.select=Op;bt.save=Tp;bt.remove=Ip;bt.setRawCookie=Tu;bt.plugToRequest=Ap;var i0=Ou,hr=Pp(i0),s0=t0,Ep=Pp(s0);function Pp(e){return e&&e.__esModule?e:{default:e}}var po=typeof document>"u"||typeof process<"u"&&n0&&!1,Ue={},ln=void 0;function xp(){return ln&&!ln.headersSent}function Cp(e,t){var n=po?Ue:hr.default.parse(document.cookie),r=n&&n[e];if(typeof t>"u"&&(t=!r||r[0]!=="{"&&r[0]!=="["),!t)try{r=JSON.parse(r)}catch{}return r}function Np(e){var t=po?Ue:hr.default.parse(document.cookie),n=t;if(typeof e>"u"&&(e=!n||n[0]!=="{"&&n[0]!=="["),!e)try{n=JSON.parse(n)}catch{}return n}function Op(e){var t=po?Ue:hr.default.parse(document.cookie);return t?e?Object.keys(t).reduce(function(n,r){if(!e.test(r))return n;var i={};return i[r]=t[r],(0,Ep.default)({},n,i)},{}):t:{}}function Tp(e,t,n){Ue[e]=t,(typeof t>"u"?"undefined":r0(t))==="object"&&(Ue[e]=JSON.stringify(t)),po||(document.cookie=hr.default.serialize(e,Ue[e],n)),xp()&&ln.cookie&&ln.cookie(e,t,n)}function Ip(e,t){delete Ue[e],typeof t>"u"?t={}:typeof t=="string"?t={path:t}:t=(0,Ep.default)({},t),typeof document<"u"&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=hr.default.serialize(e,"",t)),xp()&&ln.clearCookie&&ln.clearCookie(e,t)}function Tu(e){e?Ue=hr.default.parse(e):Ue={}}function Ap(e,t){return e.cookie?Ue=e.cookie:e.cookies?Ue=e.cookies:e.headers&&e.headers.cookie?Tu(e.headers.cookie):Ue={},ln=t,function(){ln=null,Ue={}}}var df=bt.default={setRawCookie:Tu,load:Cp,loadAll:Np,select:Op,save:Tp,remove:Ip,plugToRequest:Ap},Fs;(function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"})(Fs||(Fs={}));function pn(e){return e.type()===Fs.SYNC}class o0{type(){return Fs.SYNC}connect(){}createMatch(t,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(t,n);console.error("The database connector does not implement a createMatch method.")}listMatches(t){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(t);console.error("The database connector does not implement a listMatches method.")}}const l0=({game:e,unlisted:t,setupData:n,numPlayers:r})=>{const i={gameName:e.name,unlisted:!0,players:{},createdAt:Date.now(),updatedAt:Date.now()};for(let s=0;s<r;s++)i.players[s]={id:s};return i},a0=({game:e,numPlayers:t,setupData:n,unlisted:r})=>{(!t||typeof t!="number")&&(t=2);const i=e.validateSetupData&&e.validateSetupData(n,t);if(i!==void 0)return{setupDataError:i};const s=l0({game:e,numPlayers:t,setupData:n,unlisted:r}),o=gp({game:e,numPlayers:t,setupData:n});return{metadata:s,initialState:o}},hf=e=>Object.values(e.players).map(t=>{const{credentials:n,...r}=t;return r}),u0=e=>{const{credentials:t,...n}=e.payload;return{...e,payload:n}};class c0{constructor(t,n,r,i){this.game=ho(t),this.storageAPI=n,this.transportAPI=r,this.subscribeCallback=()=>{},this.auth=i}subscribe(t){this.subscribeCallback=t}async onUpdate(t,n,r,i){if(!t||!t.payload)return{error:"missing action or action payload"};let s;if(pn(this.storageAPI)?{metadata:s}=this.storageAPI.fetch(r,{metadata:!0}):{metadata:s}=await this.storageAPI.fetch(r,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:i,credentials:t.payload.credentials,metadata:s}))return{error:"unauthorized action"};const o=u0(t),l=r;let a;if(pn(this.storageAPI)?{state:a}=this.storageAPI.fetch(l,{state:!0}):{state:a}=await this.storageAPI.fetch(l,{state:!0}),a===void 0)return U(`game not found, matchID=[${l}]`),{error:"game not found"};if(a.ctx.gameover!==void 0){U(`game over - matchID=[${l}] - playerID=[${i}] - action[${o.payload.type}]`);return}const u=Pu({game:this.game}),c=vp(mp),d=xu(u,a,c);if(o.type==uo||o.type==ao){const p=a.ctx.activePlayers!==null,f=a.ctx.currentPlayer===i;if(!p&&!f||p&&(a.ctx.activePlayers[i]===void 0||Object.keys(a.ctx.activePlayers).length>1)){U(`playerID=[${i}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(a.G,a.ctx,i)){U(`player not active - playerID=[${i}] - action[${o.payload.type}]`);return}const h=o.type==hi?this.game.flow.getMove(a.ctx,o.payload.type,i):null;if(o.type==hi&&!h){U(`move not processed - canPlayerMakeMove=false - playerID=[${i}] - action[${o.payload.type}]`);return}if(a._stateID!==n&&!(h&&hp(h)&&h.ignoreStaleStateID)){U(`invalid stateID, was=[${n}], expected=[${a._stateID}] - playerID=[${i}] - action[${o.payload.type}]`);return}const y=d.getState();d.dispatch(o),a=d.getState(),this.subscribeCallback({state:a,action:o,matchID:r}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[r,n,y,a]}):this.transportAPI.sendAll({type:"update",args:[r,a]});const{deltalog:g,...k}=a;let x;if(s&&(s.gameover===void 0||s.gameover===null)&&(x={...s,updatedAt:Date.now()},a.ctx.gameover!==void 0&&(x.gameover=a.ctx.gameover)),pn(this.storageAPI))this.storageAPI.setState(l,k,g),x&&this.storageAPI.setMetadata(l,x);else{const p=[this.storageAPI.setState(l,k,g)];x&&p.push(this.storageAPI.setMetadata(l,x)),await Promise.all(p)}}async onSync(t,n,r,i=2){const s=t,o={state:!0,metadata:!0,log:!0,initialState:!0},l=pn(this.storageAPI)?this.storageAPI.fetch(s,o):await this.storageAPI.fetch(s,o);let{state:a,initialState:u,log:c,metadata:d}=l;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:d}))return{error:"unauthorized"};if(a===void 0){const g=a0({game:this.game,unlisted:!0,numPlayers:i,setupData:void 0});if("setupDataError"in g)return{error:"game requires setupData"};u=a=g.initialState,d=g.metadata,this.subscribeCallback({state:a,matchID:t}),pn(this.storageAPI)?this.storageAPI.createMatch(s,{initialState:u,metadata:d}):await this.storageAPI.createMatch(s,{initialState:u,metadata:d})}const h=d?hf(d):void 0,y={state:a,log:c,filteredMetadata:h,initialState:u};this.transportAPI.send({playerID:n,type:"sync",args:[t,y]})}async onConnectionChange(t,n,r,i){const s=t;if(n==null)return;let o;if(pn(this.storageAPI)?{metadata:o}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:o}=await this.storageAPI.fetch(s,{metadata:!0}),o===void 0)return U(`metadata not found for matchID=[${s}]`),{error:"metadata not found"};if(o.players[n]===void 0)return U(`Player not in the match, matchID=[${s}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:o}))return{error:"unauthorized"};o.players[n].isConnected=i;const l=hf(o);this.transportAPI.sendAll({type:"matchData",args:[t,l]}),pn(this.storageAPI)?this.storageAPI.setMetadata(s,o):await this.storageAPI.setMetadata(s,o)}async onChatMessage(t,n,r){const i=t;if(this.auth){const{metadata:s}=await this.storageAPI.fetch(i,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:r,metadata:s}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[t,n]})}}const Hi=(e,t,n)=>({...n,G:e.playerView({G:n.G,ctx:n.ctx,playerID:t}),plugins:Zh(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]}),f0=e=>(t,n)=>{switch(n.type){case"patch":{const[r,i,s,o]=n.args,l=Zo(o.deltalog,t),a=Hi(e,t,o),u=o._stateID,c=Hi(e,t,s),d=wu.createPatch(c,a);return{type:"patch",args:[r,i,u,d,l]}}case"update":{const[r,i]=n.args,s=Zo(i.deltalog,t),o=Hi(e,t,i);return{type:"update",args:[r,o,s]}}case"sync":{const[r,i]=n.args,s=Hi(e,t,i.state),o=Zo(i.log,t),l={...i,state:s,log:o};return{type:"sync",args:[r,l]}}default:return n}};function Zo(e,t){return e===void 0?e:e.map(n=>{if(t!==null&&+t==+n.action.payload.playerID||n.redact!==!0)return n;const r={...n.action.payload,args:null},i={...n,action:{...n.action,payload:r}},{redact:s,...o}=i;return o})}const Et=Object.create(null);Et.open="0";Et.close="1";Et.ping="2";Et.pong="3";Et.message="4";Et.upgrade="5";Et.noop="6";const ls=Object.create(null);Object.keys(Et).forEach(e=>{ls[Et[e]]=e});const ia={type:"error",data:"parser error"},Mp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dp=typeof ArrayBuffer=="function",Rp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Iu=({type:e,data:t},n,r)=>Mp&&t instanceof Blob?n?r(t):pf(t,r):Dp&&(t instanceof ArrayBuffer||Rp(t))?n?r(t):pf(new Blob([t]),r):r(Et[e]+(t||"")),pf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Go;function d0(e,t){if(Mp&&e.data instanceof Blob)return e.data.arrayBuffer().then(mf).then(t);if(Dp&&(e.data instanceof ArrayBuffer||Rp(e.data)))return t(mf(e.data));Iu(e,!1,n=>{Go||(Go=new TextEncoder),t(Go.encode(n))})}const yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<yf.length;e++)Rr[yf.charCodeAt(e)]=e;const h0=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)s=Rr[e.charCodeAt(r)],o=Rr[e.charCodeAt(r+1)],l=Rr[e.charCodeAt(r+2)],a=Rr[e.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|l>>2,c[i++]=(l&3)<<6|a&63;return u},p0=typeof ArrayBuffer=="function",Au=(e,t)=>{if(typeof e!="string")return{type:"message",data:Lp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:m0(e.substring(1),t)}:ls[n]?e.length>1?{type:ls[n],data:e.substring(1)}:{type:ls[n]}:ia},m0=(e,t)=>{if(p0){const n=h0(e);return Lp(n,t)}else return{base64:!0,data:e}},Lp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},jp="",y0=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Iu(s,!1,l=>{r[o]=l,++i===n&&t(r.join(jp))})})},v0=(e,t)=>{const n=e.split(jp),r=[];for(let i=0;i<n.length;i++){const s=Au(n[i],t);if(r.push(s),s.type==="error")break}return r};function g0(){return new TransformStream({transform(e,t){d0(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let el;function Wi(e){return e.reduce((t,n)=>t+n.length,0)}function Ki(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function w0(e,t){el||(el=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Wi(n)<1)break;const a=Ki(n,1);s=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Wi(n)<2)break;const a=Ki(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(Wi(n)<8)break;const a=Ki(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(ia);break}i=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Wi(n)<i)break;const a=Ki(n,i);l.enqueue(Au(s?a:el.decode(a),t)),r=0}if(i===0||i>e){l.enqueue(ia);break}}}})}const zp=4;function le(e){if(e)return S0(e)}function S0(e){for(var t in le.prototype)e[t]=le.prototype[t];return e}le.prototype.on=le.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};le.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};le.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};le.prototype.emitReserved=le.prototype.emit;le.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};le.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ze=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),k0="arraybuffer";function bp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const _0=Ze.setTimeout,E0=Ze.clearTimeout;function yo(e,t){t.useNativeTimers?(e.setTimeoutFn=_0.bind(Ze),e.clearTimeoutFn=E0.bind(Ze)):(e.setTimeoutFn=Ze.setTimeout.bind(Ze),e.clearTimeoutFn=Ze.clearTimeout.bind(Ze))}const P0=1.33;function x0(e){return typeof e=="string"?C0(e):Math.ceil((e.byteLength||e.size)*P0)}function C0(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function $p(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function N0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function O0(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class T0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Mu extends le{constructor(t){super(),this.writable=!1,yo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new T0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Au(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=N0(t);return n.length?"?"+n:""}}class I0 extends Mu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};v0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,y0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=$p()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Bp=!1;try{Bp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const A0=Bp;function M0(){}class D0 extends I0{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class _t extends le{constructor(t,n,r){super(),this.createRequest=t,yo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=bp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=_t.requestsCount++,_t.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=M0,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _t.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_t.requestsCount=0;_t.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vf);else if(typeof addEventListener=="function"){const e="onpagehide"in Ze?"pagehide":"unload";addEventListener(e,vf,!1)}}function vf(){for(let e in _t.requests)_t.requests.hasOwnProperty(e)&&_t.requests[e].abort()}const R0=function(){const e=Fp({xdomain:!1});return e&&e.responseType!==null}();class L0 extends D0{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=R0&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new _t(Fp,this.uri(),t)}}function Fp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||A0))return new XMLHttpRequest}catch{}if(!t)try{return new Ze[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Up=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class j0 extends Mu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Up?{}:bp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Iu(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=$p()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const tl=Ze.WebSocket||Ze.MozWebSocket;class z0 extends j0{createSocket(t,n,r){return Up?new tl(t,n,r):n?new tl(t,n):new tl(t)}doWrite(t,n){this.ws.send(n)}}class b0 extends Mu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=w0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=g0();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const $0={websocket:z0,webtransport:b0,polling:L0},B0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,F0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sa(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=B0.exec(e||""),s={},o=14;for(;o--;)s[F0[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=U0(s,s.path),s.queryKey=V0(s,s.query),s}function U0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function V0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const oa=typeof addEventListener=="function"&&typeof removeEventListener=="function",as=[];oa&&addEventListener("offline",()=>{as.forEach(e=>e())},!1);class nn extends le{constructor(t,n){if(super(),this.binaryType=k0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=sa(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=sa(n.host).host);yo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=O0(this.opts.query)),oa&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},as.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=zp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&nn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",nn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=x0(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,mo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(nn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),oa&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=as.indexOf(this._offlineEventListener);r!==-1&&as.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}nn.protocol=zp;class H0 extends nn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;nn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;nn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){r||(r=!0,c(),n.close(),n=null)}const o=d=>{const h=new Error("probe error: "+d);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function a(){o("socket closed")}function u(d){n&&d.name!==n.name&&s()}const c=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let W0=class extends H0{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>$0[i]).filter(i=>!!i)),super(t,r)}};function K0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=sa(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Q0=typeof ArrayBuffer=="function",Y0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Vp=Object.prototype.toString,q0=typeof Blob=="function"||typeof Blob<"u"&&Vp.call(Blob)==="[object BlobConstructor]",J0=typeof File=="function"||typeof File<"u"&&Vp.call(File)==="[object FileConstructor]";function Du(e){return Q0&&(e instanceof ArrayBuffer||Y0(e))||q0&&e instanceof Blob||J0&&e instanceof File}function us(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(us(e[n]))return!0;return!1}if(Du(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return us(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&us(e[n]))return!0;return!1}function X0(e){const t=[],n=e.data,r=e;return r.data=la(n,t),r.attachments=t.length,{packet:r,buffers:t}}function la(e,t){if(!e)return e;if(Du(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=la(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=la(e[r],t));return n}return e}function Z0(e,t){return e.data=aa(e.data,t),delete e.attachments,e}function aa(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=aa(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=aa(e[n],t));return e}const Hp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],G0=5;var b;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(b||(b={}));class e1{constructor(t){this.replacer=t}encode(t){return(t.type===b.EVENT||t.type===b.ACK)&&us(t)?this.encodeAsBinary({type:t.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===b.BINARY_EVENT||t.type===b.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=X0(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Ru extends le{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===b.BINARY_EVENT;r||n.type===b.BINARY_ACK?(n.type=r?b.EVENT:b.ACK,this.reconstructor=new t1(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Du(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(b[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===b.BINARY_EVENT||r.type===b.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Ru.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case b.CONNECT:return Us(n);case b.DISCONNECT:return n===void 0;case b.CONNECT_ERROR:return typeof n=="string"||Us(n);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Hp.indexOf(n[0])===-1);case b.ACK:case b.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class t1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Z0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function n1(e){return typeof e=="string"}const r1=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function i1(e){return e===void 0||r1(e)}function Us(e){return Object.prototype.toString.call(e)==="[object Object]"}function s1(e,t){switch(e){case b.CONNECT:return t===void 0||Us(t);case b.DISCONNECT:return t===void 0;case b.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Hp.indexOf(t[0])===-1);case b.ACK:return Array.isArray(t);case b.CONNECT_ERROR:return typeof t=="string"||Us(t);default:return!1}}function o1(e){return n1(e.nsp)&&i1(e.id)&&s1(e.type,e.data)}const l1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ru,Encoder:e1,get PacketType(){return b},isPacketValid:o1,protocol:G0},Symbol.toStringTag,{value:"Module"}));function ot(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const a1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Wp extends le{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ot(t,"open",this.onopen.bind(this)),ot(t,"packet",this.onpacket.bind(this)),ot(t,"error",this.onerror.bind(this)),ot(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,s;if(a1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:b.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,d=n.pop();this._registerAckCallback(c,d),o.id=c}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>(this._queue[0],i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:b.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case b.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(t);break;case b.ACK:case b.BINARY_ACK:this.onack(t);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:b.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:b.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function pr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}pr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};pr.prototype.reset=function(){this.attempts=0};pr.prototype.setMin=function(e){this.ms=e};pr.prototype.setMax=function(e){this.max=e};pr.prototype.setJitter=function(e){this.jitter=e};class ua extends le{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,yo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new pr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||l1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new W0(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ot(n,"open",function(){r.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=ot(n,"error",s);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ot(t,"ping",this.onping.bind(this)),ot(t,"data",this.ondata.bind(this)),ot(t,"error",this.onerror.bind(this)),ot(t,"close",this.onclose.bind(this)),ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){mo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Wp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Or={};function cs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=K0(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Or[i]&&s in Or[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new ua(r,t):(Or[i]||(Or[i]=new ua(r,t)),a=Or[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(cs,{Manager:ua,Socket:Wp,io:cs,connect:cs});class Kp extends o0{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(t,n){this.initial.set(t,n.initialState),this.setState(t,n.initialState),this.setMetadata(t,n.metadata)}setMetadata(t,n){this.metadata.set(t,n)}setState(t,n,r){if(r&&r.length>0){const i=this.log.get(t)||[];this.log.set(t,[...i,...r])}this.state.set(t,n)}fetch(t,n){const r={};return n.state&&(r.state=this.state.get(t)),n.metadata&&(r.metadata=this.metadata.get(t)),n.log&&(r.log=this.log.get(t)||[]),n.initialState&&(r.initialState=this.initial.get(t)),r}wipe(t){this.state.delete(t),this.metadata.delete(t)}listMatches(t){return[...this.metadata.entries()].filter(([,n])=>t?!(t.gameName!==void 0&&n.gameName!==t.gameName||t.where!==void 0&&(t.where.isGameover!==void 0&&n.gameover!==void 0!==t.where.isGameover||t.where.updatedBefore!==void 0&&n.updatedAt>=t.where.updatedBefore||t.where.updatedAfter!==void 0&&n.updatedAt<=t.where.updatedAfter)):!0).map(([n])=>n)}}class u1 extends Map{constructor(t){super(),this.key=t,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(r=>this.set(...r))}sync(){const t=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(t))}set(t,n){return super.set(t,n),this.sync(),this}delete(t){const n=super.delete(t);return this.sync(),n}}class c1 extends Kp{constructor(t="bgio"){super();const n=r=>new u1(`${t}_${r}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function f1(e,t){if(e.ctx.gameover!==void 0)return null;if(e.ctx.activePlayers){for(const n of Object.keys(t))if(n in e.ctx.activePlayers)return n}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}class d1 extends c0{constructor({game:t,bots:n,storageKey:r,persist:i}){const s={},o={};if(t&&t.ai&&n)for(const d in n){const h=n[d];o[d]=new h({game:t,enumerate:t.ai.enumerate,seed:t.seed})}const l=({playerID:d,...h})=>{const y=s[d];y!==void 0&&y(a(d,h))},a=f0(t),u={send:l,sendAll:d=>{for(const h in s)l({playerID:h,...d})}},c=i?new c1(r):new Kp;super(t,c,u),this.connect=(d,h)=>{s[d]=h},this.subscribe(({state:d,matchID:h})=>{if(!n)return;const y=f1(d,o);y!==null&&setTimeout(async()=>{const g=await o[y].play(d,y);await this.onUpdate(g.action,d._stateID,h,g.action.payload.playerID)},100)})}}class h1 extends Cu{constructor({master:t,...n}){super(n),this.master=t}sendChatMessage(t,n){const r=[t,n,this.credentials];this.master.onChatMessage(...r)}sendAction(t,n){this.master.onUpdate(n,t._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,t=>this.notifyClient(t)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(t){this.matchID=t,this.connect()}updatePlayerID(t){this.playerID=t,this.connect()}updateCredentials(t){this.credentials=t,this.connect()}}const gf=new Map;function Qp({bots:e,persist:t,storageKey:n}={}){return r=>{const{gameKey:i,game:s}=r;let o;const l=gf.get(i);return l&&l.bots===e&&l.storageKey===n&&l.persist===t&&(o=l.master),o||(o=new d1({game:s,bots:e,persist:t,storageKey:n}),gf.set(i,{master:o,bots:e,persist:t,storageKey:n})),new h1({master:o,...r})}}const wf=cs;class p1 extends Cu{constructor({socket:t,socketOpts:n,server:r,...i}){super(i),this.server=r,this.socket=t,this.socketOpts=n}sendAction(t,n){const r=[n,t._stateID,this.matchID,this.playerID];this.socket.emit("update",...r)}sendChatMessage(t,n){const r=[t,n,this.credentials];this.socket.emit("chat",...r)}connect(){if(!this.socket)if(this.server){let t=this.server;t.search(/^https?:\/\//)==-1&&(t="http://"+this.server),t.slice(-1)!="/"&&(t=t+"/"),this.socket=wf(t+this.gameName,this.socketOpts)}else this.socket=wf("/"+this.gameName,this.socketOpts);this.socket.on("patch",(t,n,r,i,s)=>{this.notifyClient({type:"patch",args:[t,n,r,i,s]})}),this.socket.on("update",(t,n,r)=>{this.notifyClient({type:"update",args:[t,n,r]})}),this.socket.on("sync",(t,n)=>{this.notifyClient({type:"sync",args:[t,n]})}),this.socket.on("matchData",(t,n)=>{this.notifyClient({type:"matchData",args:[t,n]})}),this.socket.on("chat",(t,n)=>{this.notifyClient({type:"chat",args:[t,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const t=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...t)}}updateMatchID(t){this.matchID=t,this.requestSync()}updatePlayerID(t){this.playerID=t,this.requestSync()}updateCredentials(t){this.credentials=t,this.requestSync()}}function Sf({server:e,socketOpts:t}={}){return n=>new p1({server:e,socketOpts:t,...n})}function Yp(e){var t;const{game:n,numPlayers:r,board:i,multiplayer:s,enhancer:o}=e;let{loading:l,debug:a}=e;return l===void 0&&(l=()=>M.createElement("div",{className:"bgio-loading"},"connecting...")),t=class extends M.Component{constructor(c){super(c),a===void 0&&(a=c.debug),this.client=zg({game:n,debug:a,numPlayers:r,multiplayer:s,matchID:c.matchID,playerID:c.playerID,credentials:c.credentials,enhancer:o})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(c){this.props.matchID!=c.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=c.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=c.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const c=this.client.getState();if(c===null)return M.createElement(l);let d=null;return i&&(d=M.createElement(i,{...c,...this.props,isMultiplayer:!!s,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),M.createElement("div",{className:"bgio-client"},d)}},t.propTypes={matchID:yt.string,playerID:yt.string,credentials:yt.string,debug:yt.any},t.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},t}class m1{constructor({server:t,gameComponents:n,playerName:r,playerCredentials:i}){this.client=new $g({server:t}),this.gameComponents=n,this.playerName=r||"Visitor",this.playerCredentials=i,this.matches=[]}async refresh(){try{this.matches=[];const t=await this.client.listGames();for(const n of t){if(!this._getGameComponents(n))continue;const{matches:r}=await this.client.listMatches(n);this.matches.push(...r)}}catch(t){throw new Error("failed to retrieve list of matches ("+t+")")}}_getMatchInstance(t){for(const n of this.matches)if(n.matchID===t)return n}_getGameComponents(t){for(const n of this.gameComponents)if(n.game.name===t)return n}_findPlayer(t){for(const n of this.matches)if(n.players.some(r=>r.name===t))return n}async join(t,n,r){try{let i=this._findPlayer(this.playerName);if(i)throw new Error("player has already joined "+i.matchID);if(i=this._getMatchInstance(n),!i)throw new Error("game instance "+n+" not found");const s=await this.client.joinMatch(t,n,{playerID:r,playerName:this.playerName});i.players[Number.parseInt(r)].name=this.playerName,this.playerCredentials=s.playerCredentials}catch(i){throw new Error("failed to join match "+n+" ("+i+")")}}async leave(t,n){try{const r=this._getMatchInstance(n);if(!r)throw new Error("match instance not found");for(const i of r.players)if(i.name===this.playerName){await this.client.leaveMatch(t,n,{playerID:i.id.toString(),credentials:this.playerCredentials}),delete i.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(r){throw new Error("failed to leave match "+n+" ("+r+")")}}async disconnect(){const t=this._findPlayer(this.playerName);t&&await this.leave(t.gameName,t.matchID),this.matches=[],this.playerName="Visitor"}async create(t,n){try{const r=this._getGameComponents(t);if(!r)throw new Error("game not found");if(n<r.game.minPlayers||n>r.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(t,{numPlayers:n})}catch(r){throw new Error("failed to create match for "+t+" ("+r+")")}}}function y1(e){return new m1(e)}class qp extends M.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=t=>{t.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=t=>{const n=t.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return M.createElement("div",null,M.createElement("p",{className:"phase-title"},"Choose a player name:"),M.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),M.createElement("span",{className:"buttons"},M.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),M.createElement("br",null),M.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,M.createElement("br",null)))}}qp.defaultProps={playerName:""};class v1 extends M.Component{constructor(){super(...arguments),this._createSeat=t=>t.name||"[free]",this._createButtonJoin=(t,n)=>M.createElement("button",{key:"button-join-"+t.matchID,onClick:()=>this.props.onClickJoin(t.gameName,t.matchID,""+n)},"Join"),this._createButtonLeave=t=>M.createElement("button",{key:"button-leave-"+t.matchID,onClick:()=>this.props.onClickLeave(t.gameName,t.matchID)},"Leave"),this._createButtonPlay=(t,n)=>M.createElement("button",{key:"button-play-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,playerID:""+n,numPlayers:t.players.length})},"Play"),this._createButtonSpectate=t=>M.createElement("button",{key:"button-spectate-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,numPlayers:t.players.length})},"Spectate"),this._createInstanceButtons=t=>{const n=t.players.find(i=>i.name===this.props.playerName),r=t.players.find(i=>!i.name);return n&&r?this._createButtonLeave(t):r?this._createButtonJoin(t,r.id):n?M.createElement("div",null,[this._createButtonPlay(t,n.id),this._createButtonLeave(t)]):this._createButtonSpectate(t)}}render(){const t=this.props.match;let n="OPEN";return t.players.some(r=>!r.name)||(n="RUNNING"),M.createElement("tr",{key:"line-"+t.matchID},M.createElement("td",{key:"cell-name-"+t.matchID},t.gameName),M.createElement("td",{key:"cell-status-"+t.matchID},n),M.createElement("td",{key:"cell-seats-"+t.matchID},t.players.map(r=>this._createSeat(r)).join(", ")),M.createElement("td",{key:"cell-buttons-"+t.matchID},this._createInstanceButtons(t)))}}class g1 extends M.Component{constructor(t){super(t),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,r)=>M.createElement("option",{key:"name-option-"+r,value:r},n.game.name),this._createNumPlayersOption=n=>M.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((r,i)=>i).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const r=Number.parseInt(n.target.value);this.setState({selectedGame:r,numPlayers:this.props.games[r].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of t.games){const r=n.game;r.minPlayers||(r.minPlayers=1),r.maxPlayers||(r.maxPlayers=4),console.assert(r.maxPlayers>=r.minPlayers)}this.state={selectedGame:0,numPlayers:t.games[0].game.minPlayers}}render(){return M.createElement("div",null,M.createElement("select",{value:this.state.selectedGame,onChange:t=>this.onChangeSelectedGame(t)},this.props.games.map((t,n)=>this._createGameNameOption(t,n))),M.createElement("span",null,"Players:"),M.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(t=>this._createNumPlayersOption(t))),M.createElement("span",{className:"buttons"},M.createElement("button",{onClick:this.onClickCreate},"Create")))}}var Me;(function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"})(Me||(Me={}));class Jp extends M.Component{constructor(t){super(t),this.state={phase:Me.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const r=this.state.playerName;this.connection=y1({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:r,playerCredentials:this.state.credentialStore[r]})},this._updateCredentials=(n,r)=>{this.setState(i=>{const s=Object.assign({},i.credentialStore);return s[n]=r,{credentialStore:s}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:Me.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:Me.ENTER,errorMsg:""})},this._createMatch=async(n,r)=>{try{await this.connection.create(n,r),await this.connection.refresh(),this.setState({})}catch(i){this.setState({errorMsg:i.message})}},this._joinMatch=async(n,r,i)=>{try{await this.connection.join(n,r,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(s){this.setState({errorMsg:s.message})}},this._leaveMatch=async(n,r)=>{try{await this.connection.leave(n,r),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(i){this.setState({errorMsg:i.message})}},this._startMatch=(n,r)=>{const i=this.connection._getGameComponents(n);if(!i){this.setState({errorMsg:"game "+n+" not supported"});return}let s;if(r.numPlayers>1&&(s=this.props.gameServer?Sf({server:this.props.gameServer}):Sf()),r.numPlayers==1){const a=i.game.maxPlayers,u={};for(let c=1;c<a;c++)u[c+""]=os;s=Qp({bots:u})}const l={app:this.props.clientFactory({game:i.game,board:i.board,debug:this.props.debug,multiplayer:s}),matchID:r.matchID,playerID:r.numPlayers>1?r.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:Me.PLAY,runningMatch:l})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:Me.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,r)=>n.map(i=>{const{matchID:s,gameName:o,players:l}=i;return M.createElement(v1,{key:"instance-"+s,match:{matchID:s,gameName:o,players:Object.values(l)},playerName:r,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const t=df.load("lobbyState")||{};t.phase&&t.phase===Me.PLAY&&(t.phase=Me.LIST),t.phase&&t.phase!==Me.ENTER&&this._startRefreshInterval(),this.setState({phase:t.phase||Me.ENTER,playerName:t.playerName||"Visitor",credentialStore:t.credentialStore||{}})}componentDidUpdate(t,n){const r=this.state.playerName,i=this.state.credentialStore[r];if(n.phase!==this.state.phase||n.credentialStore[r]!==i||n.playerName!==r){this._createConnection(this.props),this._updateConnection();const s={phase:this.state.phase,playerName:r,credentialStore:this.state.credentialStore};df.save("lobbyState",s,{path:"/"})}t.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:t,renderer:n}=this.props,{errorMsg:r,playerName:i,phase:s,runningMatch:o}=this.state;return n?n({errorMsg:r,gameComponents:t,matches:this.connection.matches,phase:s,playerName:i,runningMatch:o,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):M.createElement("div",{id:"lobby-view",style:{padding:50}},M.createElement("div",{className:this._getPhaseVisibility(Me.ENTER)},M.createElement(qp,{key:i,playerName:i,onEnter:this._enterLobby})),M.createElement("div",{className:this._getPhaseVisibility(Me.LIST)},M.createElement("p",null,"Welcome, ",i),M.createElement("div",{className:"phase-title",id:"match-creation"},M.createElement("span",null,"Create a match:"),M.createElement(g1,{games:t,createMatch:this._createMatch})),M.createElement("p",{className:"phase-title"},"Join a match:"),M.createElement("div",{id:"instances"},M.createElement("table",null,M.createElement("tbody",null,this.renderMatches(this.connection.matches,i))),M.createElement("span",{className:"error-msg"},r,M.createElement("br",null))),M.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),M.createElement("div",{className:this._getPhaseVisibility(Me.PLAY)},o&&M.createElement(o.app,{matchID:o.matchID,playerID:o.playerID,credentials:o.credentials}),M.createElement("div",{className:"buttons",id:"match-exit"},M.createElement("button",{onClick:this._exitMatch},"Exit match"))),M.createElement("div",{className:"buttons",id:"lobby-exit"},M.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}Jp.propTypes={gameComponents:yt.array.isRequired,lobbyServer:yt.string,gameServer:yt.string,debug:yt.bool,clientFactory:yt.func,refreshInterval:yt.number};Jp.defaultProps={debug:!1,clientFactory:Yp,refreshInterval:2e3};const Te=["Hearts","Diamonds","Clubs","Spades"],Kr=40,Xp=5,w1=["","","","","",""],S1={Hearts:"",Diamonds:"",Clubs:"",Spades:""},k1={deckType:36,nomenclature:!0,allowSwap:!1,northernStyle:!1,miceVariant:!1,ordenNachalniku:!1,medalsCount:!1,accumulateJobs:!1};function _1(e,t){const n={};if(e.deckType===36)for(const r of Te)n[r]=[{suit:r,value:1}];else for(const r of Te){const i=Array.from({length:Xp},(s,o)=>({suit:r,value:o+1}));n[r]=t.Shuffle(i)}return n}function Zp(e,t,n){var i;const r={};for(const s of Te)if(n.deckType===36)r[s]=e[s][0];else if(n.accumulateJobs&&((i=t[s])==null?void 0:i.length)>0){const o=e[s].pop(),l=t[s]||[];r[s]=[...l,o]}else r[s]=e[s].pop();return r}function Qi(e,t){return t.deckType!==36||e<2||e>5}function Gp(e,t,n,r,i){const s=[];for(const a of Te)for(let u=6;u<=13;u++)s.push({suit:a,value:u});const o=new Set;for(const a of e){for(const u of a.hand||[])Qi(u.value,r)&&o.add(`${u.suit}-${u.value}`);for(const u of a.plot.revealed||[])Qi(u.value,r)&&o.add(`${u.suit}-${u.value}`);for(const u of a.plot.hidden||[])Qi(u.value,r)&&o.add(`${u.suit}-${u.value}`)}if(!r.ordenNachalniku)for(const a of Object.values(n||{}))for(const u of a)o.add(u);const l=s.filter(a=>Qi(a.value,r)&&!o.has(`${a.suit}-${a.value}`));return i.Shuffle(l)}function em(e,t){const n=e.length,r=5,i=n*r;for(const s of e)s.hand=[];if(t.length>=i){for(let s=0;s<r;s++)for(const o of e)o.hand.push(t.pop());return!1}else{const s=Math.floor(t.length/n);for(let o=0;o<s;o++)for(const l of e)t.length>0&&l.hand.push(t.pop());return!0}}function tm(e,t,n){const r=e.players[t];if(n<0||n>=r.hand.length)return!1;const i=r.hand[n];if(e.currentTrick.length===0)return!0;const s=e.currentTrick[0][1].suit;return r.hand.some(l=>l.suit===s)?i.suit===s:!0}function E1(e){if(e.currentTrick.length!==e.numPlayers)return null;const t=e.currentTrick[0][1].suit,n=e.currentTrick.filter(([,o])=>o.suit===e.trump),r=n.length>0?n:e.currentTrick.filter(([,o])=>o.suit===t);let i=null,s=-1;for(const[o,l]of r)l.value>s&&(s=l.value,i=o);return i}function P1(e,t){e.lastWinner=t,e.lastTrick=[...e.currentTrick],e.currentTrick=[],e.trickCount++,e.lead=t;for(const n of e.players)n.brigadeLeader=!1;return e.players[t].brigadeLeader=!0,e.players[t].hasWonTrickThisYear=!0,e.players[t].medals++,t}function x1(e){if(e.length===0)return!1;const t=e[0][1].suit;return e.every(([,n])=>n.suit===t)}function ca(e){return e===5?3:4}function nm(e,t,n){for(const[r,i]of Object.entries(t)){const[s,o]=r.split("-"),l=parseInt(o,10),a={suit:s,value:l};e.jobBuckets[i].push(a);let u=l;n.nomenclature&&s===e.trump&&l===11&&(u=0),e.workHours[i]+=u}for(const r of Object.keys(e.workHours))e.workHours[r]>=Kr&&!e.claimedJobs.includes(r)&&C1(e,r,n)}function C1(e,t,n){if(e.claimedJobs.push(t),n.deckType===36&&n.ordenNachalniku){const r=[...e.jobBuckets[t]];if(r.length===0)return;const i=r.reduce((l,a)=>a.value<l.value?a:l),s=r.filter(l=>!(l.suit===i.suit&&l.value===i.value)).sort((l,a)=>l.value-a.value),o=e.players[e.lastWinner];o.plot.stacks||(o.plot.stacks=[]),o.plot.stacks.push({revealed:[i],hidden:s}),e.jobBuckets[t]=[]}else if(n.deckType!==36){const r=e.players[e.lastWinner],i=Array.isArray(e.revealedJobs[t])?e.revealedJobs[t]:[e.revealedJobs[t]];for(const s of i)r.plot.revealed.push(s);n.accumulateJobs&&(e.accumulatedJobCards[t]=[])}}function N1(e){if(!x1(e))return null;const t=e[0][1].suit,n={};for(const[,r]of e){const i=`${r.suit}-${r.value}`;n[i]=t}return n}function O1(e,t){e.trickHistory||(e.trickHistory=[]),e.trickHistory.push({type:"jobs",year:e.year,jobs:{...e.workHours}}),e.trickHistory.push({type:"requisition",year:e.year,requisitions:[]});for(const[n,r]of Object.entries(e.jobBuckets))e.workHours[n]>=Kr||(t.miceVariant?T1(e,n,r,t):t.deckType===36?I1(e,n,r,t):A1(e,n,r,t))}function Lu(e,t,n){if(!n.nomenclature)return!1;for(const r of t)if(r.value===11&&r.suit===e.trump)return e.trickHistory[e.trickHistory.length-1].requisitions.push("   "),Vs(e,`${r.suit}-${r.value}`),!0;return!1}function ju(e,t,n){return n.nomenclature?e.some(r=>r.value===12&&r.suit===t):!1}function zu(e,t,n){return n.nomenclature?e.some(r=>r.value===13&&r.suit===t):!1}function Vs(e,t){e.exiled[e.year]||(e.exiled[e.year]=[]),e.exiled[e.year].push(t)}function yi(e){return`${{11:"J",12:"Q",13:"K"}[e.value]||e.value} of ${e.suit}`}function T1(e,t,n,r){if(Lu(e,n,r))return;const i=ju(n,e.trump,r),s=zu(n,e.trump,r),o=rm(e,t,i,null,r);o.length!==0&&(o.sort((l,a)=>a[1].value-l[1].value),Hs(e,o[0]),s&&o.length>1&&(Hs(e,o[1]),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${o[1][0].name}    ${yi(o[1][1])}`)))}function I1(e,t,n,r){if(Lu(e,n,r))return;const i=ju(n,e.trump,r),s=zu(n,e.trump,r),o=u=>{if(!r.ordenNachalniku)return!0;const c=u.plot.stacks&&u.plot.stacks.length>0;return i||c},l=rm(e,t,i,o,r);for(const u of e.players){if(!o(u))continue;const c=(u.plot.revealed||[]).filter(d=>d.suit===t);for(const d of c)l.some(([y,g])=>y===u&&g.suit===d.suit&&g.value===d.value)||l.push([u,d])}const a=new Map;for(const[u,c]of l)a.has(u)||a.set(u,[]),a.get(u).push(c);for(const[u,c]of a.entries())c.length!==0&&(c.sort((d,h)=>h.value-d.value),Hs(e,[u,c[0]]),s&&c.length>1&&(Hs(e,[u,c[1]]),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${u.name}    ${yi(c[1])}`)))}function A1(e,t,n,r){if(Lu(e,n,r))return;const i=ju(n,e.trump,r),s=zu(n,e.trump,r);for(const o of e.players){if(!(r.northernStyle||o.hasWonTrickThisYear||i))continue;const a=(o.plot.hidden||[]).filter(h=>h.suit===t);o.plot.revealed.push(...a),o.plot.hidden=(o.plot.hidden||[]).filter(h=>h.suit!==t);const u=(o.plot.revealed||[]).filter(h=>h.suit===t).sort((h,y)=>y.value-h.value);if(u.length===0)continue;const c=u[0],d=o.plot.revealed.findIndex(h=>h.suit===c.suit&&h.value===c.value);if(o.plot.revealed.splice(d,1),Vs(e,`${c.suit}-${c.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(`${o.name}    ${yi(c)}`),s&&u.length>1){const h=u[1],y=o.plot.revealed.findIndex(g=>g.suit===h.suit&&g.value===h.value);o.plot.revealed.splice(y,1),Vs(e,`${h.suit}-${h.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${o.name}    ${yi(h)}`)}}}function rm(e,t,n,r,i){const s=[];for(const o of e.players){if(r&&!r(o))continue;const l=(o.plot.hidden||[]).filter(c=>c.suit===t),a=[];if(i.ordenNachalniku&&i.deckType===36&&o.plot.stacks)for(const c of o.plot.stacks){for(const d of c.revealed||[])d.suit===t&&a.push({card:d,stack:c,location:"revealed"});for(const d of c.hidden||[])d.suit===t&&a.push({card:d,stack:c,location:"hidden"})}const u=[...l,...a.map(c=>c.card)];if(u.length!==0){if(n){for(const c of l){const d=o.plot.hidden.findIndex(h=>h.suit===c.suit&&h.value===c.value);o.plot.hidden.splice(d,1),o.plot.revealed.push(c),s.push([o,c])}for(const{card:c,stack:d,location:h}of a){const y=h==="hidden"?d.hidden:d.revealed,g=y.findIndex(k=>k.suit===c.suit&&k.value===c.value);g!==-1&&(y.splice(g,1),o.plot.revealed.push(c),s.push([o,c]))}}else{const c=u.reduce((h,y)=>y.value>h.value?y:h);if(l.some(h=>h.suit===c.suit&&h.value===c.value)){const h=o.plot.hidden.findIndex(y=>y.suit===c.suit&&y.value===c.value);o.plot.hidden.splice(h,1),o.plot.revealed.push(c),s.push([o,c])}else{const h=a.find(y=>y.card.suit===c.suit&&y.card.value===c.value);if(h){const{stack:y,location:g}=h,k=g==="hidden"?y.hidden:y.revealed,x=k.findIndex(p=>p.suit===c.suit&&p.value===c.value);x!==-1&&(k.splice(x,1),o.plot.revealed.push(c),s.push([o,c]))}}}o.plot.stacks&&(o.plot.stacks=o.plot.stacks.filter(c=>c.revealed&&c.revealed.length>0||c.hidden&&c.hidden.length>0))}}return s}function Hs(e,[t,n]){let r=(t.plot.revealed||[]).findIndex(i=>i.suit===n.suit&&i.value===n.value);if(r!==-1)t.plot.revealed.splice(r,1);else if(t.plot.stacks){for(const i of t.plot.stacks){if(r=(i.revealed||[]).findIndex(s=>s.suit===n.suit&&s.value===n.value),r!==-1){i.revealed.splice(r,1);break}if(r=(i.hidden||[]).findIndex(s=>s.suit===n.suit&&s.value===n.value),r!==-1){i.hidden.splice(r,1);break}}t.plot.stacks=t.plot.stacks.filter(i=>i.revealed&&i.revealed.length>0||i.hidden&&i.hidden.length>0)}Vs(e,`${n.suit}-${n.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(`${t.name}    ${yi(n)}`)}function M1(e,t){const n={};for(let r=0;r<e.players.length;r++){const i=e.players[r];let s=0;for(const o of i.plot.revealed||[])s+=o.value;if(t.medalsCount&&(s+=(i.plot.medals||0)+(i.medals||0)),i.plot.stacks)for(const o of i.plot.stacks)for(const l of o.revealed||[])s+=l.value;n[r]=s}return n}function D1(e,t){const n=M1(e,t);for(let r=0;r<e.players.length;r++){const i=e.players[r];for(const s of i.plot.hidden||[])n[r]+=s.value}return n}function kf(e,t){const n=D1(e,t);let r=1/0,i=0;for(const[s,o]of Object.entries(n))o<r&&(r=o,i=parseInt(s,10));return{winner:i,scores:n}}function R1(e,t,n){if(t.accumulateJobs&&t.deckType!==36&&!t.northernStyle){for(const r of Te)if(!e.claimedJobs.includes(r)){const i=Array.isArray(e.revealedJobs[r])?e.revealedJobs[r]:[e.revealedJobs[r]];e.accumulatedJobCards[r].push(...i)}}if(e.year++,e.year>Xp)return!0;e.trickCount=0,e.currentTrick=[];for(const r of Te)e.workHours[r]=0;if(e.revealedJobs=Zp(e.jobPiles,e.accumulatedJobCards,t),t.ordenNachalniku&&t.deckType===36){for(const r of e.players)if(r.plot.stacks){for(const i of r.plot.stacks)i.revealed&&i.revealed.length>0&&r.plot.revealed.push(...i.revealed);r.plot.stacks=[]}}for(const r of Te)e.jobBuckets[r]=[];e.claimedJobs=[];for(const r of e.players)r.hand=[],t.medalsCount&&r.medals>0&&(r.plot.medals=(r.plot.medals||0)+r.medals),r.medals=0,r.hasWonTrickThisYear=!1,r.brigadeLeader=!1;return e.workersDeck=Gp(e.players,e.jobBuckets,e.exiled,t,n),e.isFamine=em(e.players,e.workersDeck),!1}function fa(e,t){const n=Te.filter(r=>e.jobPiles[r].length>0);if(n.length>0){const r=t.Die(n.length)-1;e.trump=n[r]}}function _f(e,t,n){return{idx:e,isHuman:t,name:n,hand:[],plot:{revealed:[],hidden:[],medals:0,stacks:[]},brigadeLeader:!1,hasWonTrickThisYear:!1,medals:0}}function L1({ctx:e,random:t},n){const r={...k1,...(n==null?void 0:n.variants)||{}},i=e.numPlayers,s=[...w1],o=[];for(let a=0;a<i;a++)if(a===0)o.push(_f(0,!0,""));else{const u=Math.floor(t.Number()*s.length),c=s.splice(u,1)[0];o.push(_f(a,!1,c))}const l={numPlayers:i,players:o,lead:Math.floor(t.Number()*i),year:1,trump:null,jobPiles:_1(r,t),revealedJobs:{},claimedJobs:[],accumulatedJobCards:{},workHours:{},jobBuckets:{},currentTrick:[],lastTrick:[],lastWinner:null,trickHistory:[],trickCount:0,exiled:{},workersDeck:[],isFamine:!1,variants:r,pendingAssignments:{}};for(const a of Te)l.accumulatedJobCards[a]=[],l.workHours[a]=0,l.jobBuckets[a]=[];return l.revealedJobs=Zp(l.jobPiles,l.accumulatedJobCards,r),l.workersDeck=Gp(l.players,l.jobBuckets,l.exiled,r,t),l.isFamine=em(l.players,l.workersDeck),l}function j1({G:e,random:t},n){n&&Te.includes(n)?e.trump=n:fa(e,t)}function z1({G:e,ctx:t,playerID:n},r){const i=parseInt(n,10);if(!tm(e,i,r))return on;const o=e.players[i].hand.splice(r,1)[0];e.currentTrick.push([i,o])}function b1({G:e},t,n){e.pendingAssignments||(e.pendingAssignments={}),e.pendingAssignments[t]=n}function $1({G:e,events:t}){if(Object.keys(e.pendingAssignments).length!==e.lastTrick.length)return on;for(const[r,i]of Object.entries(e.pendingAssignments)){const[s]=r.split("-");if(s!==e.trump&&s!==i)return on}nm(e,e.pendingAssignments,e.variants),e.pendingAssignments={};const n=ca(e.year);e.trickCount>=n?t.endPhase():t.setPhase("trick")}function B1({G:e,ctx:t,playerID:n},r){const i=parseInt(n,10),s=e.players[i];if(r<0||r>=s.hand.length)return on;const o=s.hand.splice(r,1)[0];s.plot.hidden.push(o)}function F1({G:e,playerID:t},n,r){const i=parseInt(t,10),s=e.players[i];if(n<0||r<0)return;if(n>=s.plot.hidden.length||r>=s.hand.length)return on;const o=s.plot.hidden[n];s.plot.hidden[n]=s.hand[r],s.hand[r]=o}function U1({G:e,events:t,playerID:n}){}const V1={name:"kolkhoz",setup:L1,minPlayers:2,maxPlayers:4,phases:{planning:{start:!0,moves:{setTrump:j1},next:"trick",endIf:({G:e})=>e.trump!==null,onEnd:({G:e,random:t})=>{e.trump||fa(e,t)}},trick:{moves:{playCard:z1},turn:{order:{first:({G:e})=>e.lead,next:({G:e,ctx:t})=>(t.playOrderPos+1)%t.numPlayers},minMoves:1,maxMoves:1},endIf:({G:e,ctx:t})=>e.currentTrick.length===t.numPlayers,onEnd:({G:e,events:t})=>{const n=E1(e);if(n!==null){P1(e,n);const r=N1(e.lastTrick);if(r){nm(e,r,e.variants);const i=ca(e.year);e.trickCount>=i&&t.setPhase("plotSelection")}else t.setPhase("assignment")}}},assignment:{moves:{assignCard:b1,submitAssignments:$1},turn:{order:{first:({G:e})=>e.lastWinner,next:()=>{}}},onBegin:({G:e})=>{e.pendingAssignments={}},next:({G:e})=>{const t=ca(e.year);return e.trickCount>=t?"plotSelection":"trick"}},plotSelection:{turn:{activePlayers:{all:"selectPlot"},stages:{selectPlot:{moves:{selectPlotCard:B1}}}},endIf:({G:e})=>e.players.every(t=>t.hand.length===0),next:"requisition"},requisition:{onBegin:({G:e,events:t,random:n})=>{O1(e,e.variants),R1(e,e.variants,n)?t.endGame(kf(e,e.variants)):e.variants.allowSwap?t.setPhase("swap"):t.setPhase("planning")}},swap:{turn:{activePlayers:{all:"swapping"},stages:{swapping:{moves:{swapCard:F1,confirmSwap:U1}}}},next:"planning",onEnd:({G:e,random:t})=>{fa(e,t)}}},endIf:({G:e})=>{if(e.year>5)return kf(e,e.variants)},playerView:({G:e,ctx:t,playerID:n})=>{if(n===null)return e;const r=parseInt(n,10),i=JSON.parse(JSON.stringify(e));return i.players=e.players.map((s,o)=>{const l=o===r;return{...s,hand:l?s.hand:s.hand.map(()=>({hidden:!0})),plot:{...s.plot,hidden:l?s.plot.hidden:s.plot.hidden.map(()=>({hidden:!0}))}}}),i.workersDeck=e.workersDeck.map(()=>({hidden:!0})),i},ai:{enumerate:(e,t,n)=>{var o,l;const r=[],i=parseInt(n,10),s=e.players[i];if(t.phase==="planning")for(const a of Te)r.push({move:"setTrump",args:[a]});else if(t.phase==="trick")for(let a=0;a<s.hand.length;a++)tm(e,i,a)&&r.push({move:"playCard",args:[a]});else if(t.phase==="assignment"&&i===e.lastWinner){const a=e.pendingAssignments||{};if(Object.keys(a).length===e.lastTrick.length)r.push({move:"submitAssignments",args:[]});else for(const[,c]of e.lastTrick){const d=`${c.suit}-${c.value}`;if(!a[d]){if(c.suit===e.trump)for(const h of Te)r.push({move:"assignCard",args:[d,h]});else r.push({move:"assignCard",args:[d,c.suit]});break}}}else if(t.phase==="plotSelection"||((o=t.activePlayers)==null?void 0:o[n])==="selectPlot")for(let a=0;a<s.hand.length;a++)r.push({move:"selectPlotCard",args:[a]});else if(t.phase==="swap"||((l=t.activePlayers)==null?void 0:l[n])==="swapping"){r.push({move:"confirmSwap",args:[]});for(let a=0;a<s.plot.hidden.length;a++)for(let u=0;u<s.hand.length;u++)r.push({move:"swapCard",args:[a,u]})}return r}}};function H1(e){return`assets/cards/${{1:"ace",11:"jack",12:"queen",13:"king"}[e.value]||e.value}_of_${e.suit.toLowerCase()}.svg`}function Gn({card:e,x:t=0,y:n=0,width:r=100,rotation:i=0,faceDown:s=!1,onClick:o,highlight:l=!1,dimmed:a=!1,className:u=""}){const c=r*1.4,d=s?"assets/cards/back.svg":H1(e);return t!==0||n!==0?E.jsxs("g",{className:`card-svg ${u} ${l?"highlight":""} ${a?"dimmed":""}`,transform:`translate(${t}, ${n}) rotate(${i})`,onClick:o,style:{cursor:o?"pointer":"default"},children:[E.jsx("image",{href:d,width:r,height:c,x:-r/2,y:-c/2}),l&&E.jsx("rect",{x:-r/2-4,y:-c/2-4,width:r+8,height:c+8,fill:"none",stroke:"#4CAF50",strokeWidth:"3",rx:"8"})]}):E.jsx("div",{className:`card-html ${u} ${l?"highlight":""} ${a?"dimmed":""}`,onClick:o,style:{width:`${r}px`,height:`${c}px`,cursor:o?"pointer":"default"},children:E.jsx("img",{src:d,alt:s?"Card back":`${e.value} of ${e.suit}`,style:{width:"100%",height:"100%"}})})}function W1({cards:e,onPlayCard:t,canPlay:n,leadSuit:r,trump:i,validIndices:s}){if(!e||e.length===0)return E.jsx("div",{className:"hand empty",children:"No cards in hand"});const o=Math.min(8,60/e.length),a=-(o*(e.length-1))/2;return E.jsx("div",{className:"hand",children:e.map((u,c)=>{const d=!s||s.includes(c),h=a+c*o,y=Math.abs(h)*.5;return E.jsx("div",{className:`hand-card ${d&&n?"playable":""} ${d?"":"invalid"}`,style:{transform:`rotate(${h}deg) translateY(${y}px)`,zIndex:c},onClick:()=>{n&&d&&t(c)},children:E.jsx(Gn,{card:u,width:100,highlight:d&&n,dimmed:!d&&n})},`${u.suit}-${u.value}-${c}`)})})}function K1({trick:e,numPlayers:t,lead:n}){const o=l=>{const a=[{x:0,y:120},{x:-120,y:0},{x:0,y:-120},{x:120,y:0}];return a[l]||a[0]};return E.jsxs("g",{className:"trick-area",children:[E.jsx("circle",{cx:960,cy:450,r:200,fill:"#2d5016",stroke:"#8B4513",strokeWidth:"8"}),E.jsx("circle",{cx:960,cy:450,r:180,fill:"none",stroke:"#3d6b1e",strokeWidth:"2"}),e.length>0&&E.jsxs("text",{x:960,y:290,textAnchor:"middle",fill:"#FFD700",fontSize:"14",children:["Lead: ",e[0][1].suit]}),e.map(([l,a],u)=>{const c=o(l);return E.jsx(Gn,{card:a,x:960+c.x,y:450+c.y,width:80,rotation:l*90},`${a.suit}-${a.value}`)}),Array.from({length:t}).map((l,a)=>{if(e.some(([d])=>d===a))return null;const c=o(a);return E.jsx("rect",{x:960+c.x-40,y:450+c.y-56,width:80,height:112,fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"2",strokeDasharray:"5,5",rx:"8"},`slot-${a}`)})]})}function Q1({revealedJobs:e,workHours:t,jobBuckets:n,claimedJobs:r,trump:i,phase:s,pendingAssignments:o,onAssign:l,lastTrick:a}){const h=g=>g==="Hearts"||g==="Diamonds"?"#c41e3a":"#1a1a2e",y=g=>({Hearts:"",Diamonds:"",Clubs:"",Spades:""})[g];return E.jsx("g",{className:"job-piles-area",children:Te.map((g,k)=>{const x=360+k*400,p=t[g]||0,f=r==null?void 0:r.includes(g),m=g===i,w=n[g]||[],C=Math.min(100,p/Kr*100),N=e[g],O=Array.isArray(N)?N:N?[N]:[];return E.jsxs("g",{className:`job-pile ${f?"claimed":""}`,children:[E.jsx("rect",{x:x-70,y:100,width:140,height:200,fill:m?"rgba(255,215,0,0.1)":"rgba(0,0,0,0.3)",stroke:m?"#FFD700":"#444",strokeWidth:m?3:1,rx:"10"}),E.jsx("text",{x,y:130,textAnchor:"middle",fill:h(g),fontSize:"24",children:y(g)}),E.jsx("text",{x,y:155,textAnchor:"middle",fill:"#ccc",fontSize:"12",children:S1[g]}),E.jsx("rect",{x:x-50,y:170,width:100,height:12,fill:"#333",rx:"6"}),E.jsx("rect",{x:x-50,y:170,width:C,height:12,fill:f||p>=Kr?"#4CAF50":"#2196F3",rx:"6"}),E.jsxs("text",{x,y:180,textAnchor:"middle",fill:"white",fontSize:"10",children:[p,"/",Kr]}),O.map((A,H)=>E.jsx(Gn,{card:A,x:x+H*10,y:230,width:50},H)),w.length>0&&E.jsxs("text",{x,y:290,textAnchor:"middle",fill:"#888",fontSize:"11",children:[w.length," cards assigned"]}),m&&E.jsx("text",{x,y:115,textAnchor:"middle",fill:"#FFD700",fontSize:"10",children:"TRUMP"}),f&&E.jsx("text",{x,y:310,textAnchor:"middle",fill:"#4CAF50",fontSize:"12",fontWeight:"bold",children:"COMPLETE"})]},g)})})}function Y1({player:e,position:t,isActive:n,isBrigadeLeader:r}){var l,a,u,c,d;const{x:i,y:s}=t,o=((l=e.hand)==null?void 0:l.length)||0;return E.jsxs("g",{className:`player-area ${n?"active":""}`,children:[E.jsx("rect",{x:i-80,y:s-60,width:160,height:120,fill:n?"rgba(76, 175, 80, 0.2)":"rgba(0,0,0,0.3)",stroke:n?"#4CAF50":"#444",strokeWidth:n?2:1,rx:"10"}),E.jsxs("text",{x:i,y:s-40,textAnchor:"middle",fill:n?"#4CAF50":"#fff",fontSize:"14",fontWeight:n?"bold":"normal",children:[e.name,r&&" "]}),E.jsxs("g",{transform:`translate(${i-30}, ${s-20})`,children:[Array.from({length:Math.min(5,o)}).map((h,y)=>E.jsx("rect",{x:y*12,y:0,width:30,height:42,fill:"#1a237e",stroke:"#3949ab",strokeWidth:"1",rx:"3"},y)),E.jsxs("text",{x:30,y:55,textAnchor:"middle",fill:"#888",fontSize:"10",children:[o," cards"]})]}),E.jsxs("text",{x:i,y:s+50,textAnchor:"middle",fill:"#888",fontSize:"11",children:["Plot: ",(((u=(a=e.plot)==null?void 0:a.revealed)==null?void 0:u.length)||0)+(((d=(c=e.plot)==null?void 0:c.hidden)==null?void 0:d.length)||0)," cards"]}),e.medals>0&&E.jsxs("text",{x:i+60,y:s-40,fill:"#FFD700",fontSize:"12",children:[" ",e.medals]})]})}function q1({year:e,trump:t,phase:n,currentPlayer:r,players:i,isMyTurn:s}){var u;const o=c=>({Hearts:"",Diamonds:"",Clubs:"",Spades:""})[c]||c,l=c=>c==="Hearts"||c==="Diamonds"?"#c41e3a":"#1a1a2e",a=c=>({planning:"Planning - Select Trump",trick:"Trick Phase",assignment:"Assign Cards to Jobs",plotSelection:"Select Card for Plot",requisition:"Requisition...",swap:"Swap Cards"})[c]||c;return E.jsxs("div",{className:"game-hud",children:[E.jsxs("div",{className:"hud-section year",children:[E.jsx("span",{className:"label",children:"Year"}),E.jsxs("span",{className:"value",children:[e,"/5"]})]}),t&&E.jsxs("div",{className:"hud-section trump",children:[E.jsx("span",{className:"label",children:"Trump"}),E.jsxs("span",{className:"value",style:{color:l(t)},children:[o(t)," ",t]})]}),E.jsxs("div",{className:"hud-section phase",children:[E.jsx("span",{className:"label",children:"Phase"}),E.jsx("span",{className:"value",children:a(n)})]}),E.jsx("div",{className:"hud-section turn",children:s?E.jsx("span",{className:"your-turn",children:"Your Turn!"}):E.jsxs("span",{className:"waiting",children:["Waiting for ",(u=i[parseInt(r,10)])==null?void 0:u.name,"..."]})})]})}function J1({G:e,ctx:t,moves:n,playerID:r}){var h,y,g,k,x;const i=parseInt(r,10),s=t.currentPlayer===r,o=t.phase,l=p=>{o==="trick"&&s?n.playCard(p):o==="plotSelection"&&n.selectPlotCard(p)},a=p=>{o==="planning"&&n.setTrump(p)},u=(p,f)=>{n.assignCard(p,f)},c=()=>{n.submitAssignments()},d=(p,f)=>{const m=[{x:960,y:900},{x:100,y:500},{x:960,y:100},{x:1820,y:500}];return m[p]||m[0]};if(t.gameover){const{winner:p,scores:f}=t.gameover;return E.jsxs("div",{className:"game-over",children:[E.jsx("h1",{children:"Game Over!"}),E.jsxs("h2",{children:["Winner: ",e.players[p].name]}),E.jsx("div",{className:"final-scores",children:e.players.map((m,w)=>E.jsxs("div",{className:w===p?"winner":"",children:[m.name,": ",f[w]," points"]},w))}),E.jsx("p",{children:"(Lowest score wins)"})]})}return E.jsxs("div",{className:"game-board",children:[E.jsx(q1,{year:e.year,trump:e.trump,phase:o,currentPlayer:t.currentPlayer,players:e.players,isMyTurn:s}),o==="planning"&&!e.trump&&E.jsxs("div",{className:"trump-selection",children:[E.jsx("h3",{children:"Select Trump Suit"}),E.jsx("div",{className:"suit-buttons",children:Te.map(p=>E.jsxs("button",{onClick:()=>a(p),className:`suit-btn ${p.toLowerCase()}`,children:[X1(p)," ",p]},p))})]}),E.jsxs("svg",{viewBox:"0 0 1920 1080",className:"board-svg",children:[E.jsx(Q1,{revealedJobs:e.revealedJobs,workHours:e.workHours,jobBuckets:e.jobBuckets,claimedJobs:e.claimedJobs,trump:e.trump,phase:o,pendingAssignments:e.pendingAssignments,onAssign:u,lastTrick:e.lastTrick}),E.jsx(K1,{trick:o==="assignment"?e.lastTrick:e.currentTrick,numPlayers:e.numPlayers,lead:e.lead}),e.players.map((p,f)=>{if(f===i)return null;const m=d(f,e.numPlayers);return E.jsx(Y1,{player:p,position:m,isActive:parseInt(t.currentPlayer,10)===f,isBrigadeLeader:p.brigadeLeader},f)})]}),E.jsx(W1,{cards:((h=e.players[i])==null?void 0:h.hand)||[],onPlayCard:l,canPlay:o==="trick"&&s||o==="plotSelection",leadSuit:(g=(y=e.currentTrick[0])==null?void 0:y[1])==null?void 0:g.suit,trump:e.trump,validIndices:Z1(e,i,o)}),o==="assignment"&&e.lastWinner===i&&E.jsxs("div",{className:"assignment-ui",children:[E.jsx("h3",{children:"Assign cards to jobs"}),E.jsx("p",{children:"Drag cards to job piles or click to assign"}),E.jsx("div",{className:"assignment-cards",children:e.lastTrick.map(([p,f],m)=>{var N;const w=`${f.suit}-${f.value}`,C=(N=e.pendingAssignments)==null?void 0:N[w];return E.jsxs("div",{className:"assignment-card",children:[E.jsx(Gn,{card:f,width:80}),E.jsx("select",{value:C||f.suit,onChange:O=>u(w,O.target.value),children:f.suit===e.trump?Te.map(O=>E.jsx("option",{value:O,children:O},O)):E.jsx("option",{value:f.suit,children:f.suit})})]},m)})}),E.jsx("button",{onClick:c,disabled:Object.keys(e.pendingAssignments||{}).length!==e.lastTrick.length,children:"Submit Assignments"})]}),E.jsxs("div",{className:"player-plot",children:[E.jsx("h4",{children:"Your Plot"}),E.jsxs("div",{className:"plot-cards",children:[(k=e.players[i])==null?void 0:k.plot.revealed.map((p,f)=>E.jsx(Gn,{card:p,width:60},`r-${f}`)),(x=e.players[i])==null?void 0:x.plot.hidden.map((p,f)=>E.jsx(Gn,{card:p,width:60,faceDown:!0},`h-${f}`))]})]})]})}function X1(e){return{Hearts:"",Diamonds:"",Clubs:"",Spades:""}[e]||e}function Z1(e,t,n){if(n!=="trick")return null;const r=e.players[t];if(!r||!r.hand)return[];if(e.currentTrick.length===0)return r.hand.map((o,l)=>l);const i=e.currentTrick[0][1].suit;return r.hand.some(o=>o.suit===i)?r.hand.map((o,l)=>o.suit===i?l:-1).filter(o=>o>=0):r.hand.map((o,l)=>l)}const G1=Yp({game:V1,board:J1,numPlayers:4,multiplayer:Qp({bots:{1:os,2:os,3:os}}),debug:!1});function ew(){const[e,t]=Qr.useState(!1),[n,r]=Qr.useState({deckType:36,nomenclature:!0,ordenNachalniku:!0});return e?E.jsx(G1,{playerID:"0"}):E.jsxs("div",{className:"lobby",children:[E.jsx("h1",{children:""}),E.jsx("h2",{children:""}),E.jsxs("div",{className:"variant-options",children:[E.jsx("h3",{children:"Game Options"}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"deckType",checked:n.deckType===36,onChange:()=>r({...n,deckType:36})}),"36-card deck (Classic)"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"deckType",checked:n.deckType===52,onChange:()=>r({...n,deckType:52})}),"52-card deck (With job rewards)"]}),E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:n.nomenclature,onChange:i=>r({...n,nomenclature:i.target.checked})}),"Nomenclature (Face card special effects)"]})]}),E.jsx("button",{onClick:()=>t(!0),children:"Start Game"})]})}const tw=jh(document.getElementById("root"));tw.render(E.jsx(ew,{}));
