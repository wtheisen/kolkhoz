:root{--card-width: clamp(50px, 10vw, 120px);--visible-hand-height: calc(var(--card-width) * .85)}.trick-area-html{display:flex;flex-direction:column;flex:1;background:#1a1a1a;border:3px solid #d4a857;border-radius:10px;margin:1vh;margin-bottom:var(--visible-hand-height);position:relative;overflow:hidden}.trick-area-html:before{content:"";position:absolute;top:6px;right:6px;bottom:6px;left:6px;border:2px solid #8b0000;border-radius:6px;pointer-events:none}.info-bar{display:flex;align-items:center;justify-content:center;gap:clamp(.8rem,2.5vw,2rem);padding:2px clamp(1rem,2vw,2rem);margin:4px 8px 0;background:#0000004d;border-bottom:1px solid #333;flex-wrap:wrap}.info-bar .label{color:#888;font-family:Oswald,sans-serif;font-size:clamp(.95rem,2vw,1.45rem);margin-right:.2em}.info-bar .value{color:#d4a857;font-family:Oswald,sans-serif;font-size:clamp(1.1rem,2.4vw,1.6rem)}.info-bar .famine{color:#c41e3a;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.95rem,2vw,1.45rem)}.suit-symbol{font-size:clamp(1.3rem,2.6vw,1.75rem)}.suit-symbol.hearts,.suit-symbol.diamonds{color:#c41e3a}.suit-symbol.clubs,.suit-symbol.spades{color:#e8dcc4}.info-year,.info-trump,.info-lead{display:flex;align-items:center}.info-jobs{display:flex;gap:clamp(.5rem,1.5vw,1.5rem)}.job-indicator{display:flex;align-items:center;gap:.2em;opacity:.6;padding:0 .25em;border-radius:3px;border:2px solid transparent;transition:all .3s ease;position:relative}.job-indicator.highlighted{opacity:1;border-color:#d4a857;background:#d4a85726;box-shadow:0 0 8px #d4a85766}.job-indicator.claimed{border-color:#4caf50;background:#4caf5026}.job-indicator.claimed .progress{color:#4caf50}.job-indicator .suit-symbol{font-size:clamp(1.1rem,2vw,1.45rem);line-height:1}.job-indicator .progress{font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1.05rem);color:#888;line-height:1}.play-area{display:flex;flex-direction:column;flex:1;min-height:0;min-width:0;overflow:hidden;position:relative;padding:clamp(.25rem,.5vh,.5rem)}.player-columns{display:flex;justify-content:space-evenly;align-items:stretch;flex:1;gap:clamp(.5rem,2vw,2rem);padding:.5rem clamp(.5rem,3vw,2rem);min-height:0;overflow:hidden}.player-column{flex:1 1 0;min-width:0;max-width:clamp(160px,20vw,280px);display:flex;flex-direction:column;align-items:center;gap:.5rem}.player-panel{display:flex;align-items:center;justify-content:center;gap:clamp(.3rem,.8vw,.8rem);padding:clamp(.3rem,.8vh,.6rem) clamp(.5rem,1.2vw,1.2rem);background:#141414e6;border:1px solid #444;border-radius:6px;width:100%;min-height:clamp(36px,5vw,56px);flex-shrink:0}.player-panel.human{background:#d4a85726;border-color:#d4a857}.player-panel.human .player-name{color:#d4a857}.player-panel.active{background:#c41e3a40;border-color:#d4a857;border-width:2px}.player-panel .portrait{width:clamp(24px,4vw,48px);height:clamp(24px,4vw,48px);border-radius:4px;image-rendering:pixelated;flex-shrink:0}.player-panel .player-info{display:flex;flex-direction:column;min-width:0;flex:1}.player-panel .player-name{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,1rem);color:#e8dcc4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player-panel.active .player-name{color:#d4a857;font-weight:700}.player-panel .leader-star{color:#d4a857;margin-left:.25em}.player-panel .player-score{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.85rem);color:#888}.player-panel .player-hand-cards{display:flex;align-items:center;flex-shrink:0;margin-left:auto}.player-panel .mini-card{width:clamp(14px,2vw,24px);border-radius:2px;margin-left:-8px}.player-panel .mini-card:first-child{margin-left:0}.player-panel .extra-cards{font-size:clamp(.5rem,.8vw,.7rem);color:#888;margin-left:.25em}.card-slot{width:100%;flex:1;min-height:0;max-height:calc(100% - 3rem);aspect-ratio:5/7;border:2px dashed rgba(255,255,255,.15);border-radius:8px;display:flex;align-items:center;justify-content:center;position:relative;transition:all .2s ease}.card-slot.current-turn{border-color:#c41e3a;background:#c41e3a1a}.card-slot.human-turn{border-color:#d4a857;background:#d4a8571a;animation:turn-pulse 1.5s ease-in-out infinite}@keyframes turn-pulse{0%,to{box-shadow:0 0 #d4a85766}50%{box-shadow:0 0 20px 5px #d4a85733}}.card-slot .played-card{width:100%;height:100%;object-fit:contain;border-radius:6px}.card-slot .empty-slot{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.card-slot .turn-text{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.6rem,1.2vw,1rem);color:#d4a857;text-align:center;animation:pulse 1.5s ease-in-out infinite}.card-slot .turn-text.bot{color:#c41e3a}.jobs-view,.gulag-view,.plot-view{flex:1;display:flex;flex-direction:column;gap:clamp(.3rem,.8vh,.6rem);padding:clamp(.5rem,1vh,1rem);overflow-y:auto}.view-title{font-family:Russo One,Oswald,sans-serif;color:#d4a857;font-size:clamp(1rem,2vw,1.5rem);text-align:center;margin:0 0 .5rem}.job-row,.year-row,.plot-row{display:flex;align-items:center;gap:clamp(.5rem,1vw,1rem);padding:clamp(.4rem,.8vh,.8rem);background:#1e1e1e80;border:1px solid #444;border-radius:4px}.job-row.trump{background:#c41e3a26;border-color:#c41e3a}.job-row.claimed{border-color:#4caf50}.year-row.current{background:#c41e3a33;border-color:#c41e3a}.job-info,.year-info{display:flex;flex-direction:column;align-items:center;min-width:clamp(40px,5vw,60px)}.year-info .year-number{font-family:Russo One,Oswald,sans-serif;font-size:clamp(1rem,2vw,1.5rem);color:#e8dcc4}.year-info .card-count{background:#c41e3a;color:#fff;font-size:clamp(.6rem,1vw,.8rem);padding:.1em .4em;border-radius:10px;font-weight:700}.job-reward{flex-shrink:0}.reward-card{width:clamp(35px,5vw,55px);aspect-ratio:5/7;border-radius:4px}.reward-card.dimmed{opacity:.4}.job-cards,.year-cards,.plot-cards{flex:1;display:flex;gap:clamp(2px,.5vw,6px);overflow-x:auto;padding:2px}.bucket-card,.exiled-card,.plot-card{width:clamp(30px,4vw,50px);aspect-ratio:5/7;border-radius:3px;flex-shrink:0}.empty-bucket,.empty-year,.empty-plot{width:clamp(30px,4vw,50px);aspect-ratio:5/7;border:1px dashed rgba(255,255,255,.1);border-radius:3px}.more-cards{font-size:clamp(.6rem,1vw,.8rem);color:#888;display:flex;align-items:center}.plot-row.revealed{background:#4caf501a;border-color:#4caf50}.plot-row.hidden{background:#c41e3a1a;border-color:#c41e3a}.plot-row .row-label{display:flex;flex-direction:column;min-width:clamp(60px,8vw,100px)}.plot-row .row-label .title{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.2vw,1rem)}.plot-row.revealed .row-label .title{color:#4caf50}.plot-row.hidden .row-label .title{color:#c41e3a}.plot-row .row-label .subtitle{font-size:clamp(.5rem,.9vw,.75rem);color:#888}.plot-total{text-align:center;font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1.1rem);color:#888;margin-top:.5rem}.trump-selection{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000c;z-index:10}.selection-title{font-family:Russo One,Oswald,sans-serif;color:#d4a857;font-size:clamp(1.2rem,2.5vw,2rem);margin-bottom:clamp(1rem,3vh,2rem)}.trump-buttons{display:flex;gap:clamp(.5rem,2vw,1.5rem);flex-wrap:wrap;justify-content:center}.trump-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;width:clamp(80px,15vw,140px);padding:clamp(.5rem,1.5vh,1rem);background:#1e1e1ee6;border:2px solid #d4a857;border-radius:8px;cursor:pointer;transition:all .2s ease}.trump-btn:hover{background:#d4a85726;transform:scale(1.05);box-shadow:0 0 20px #d4a8574d}.trump-btn .suit-symbol{font-size:clamp(1.5rem,3vw,2.5rem)}.trump-btn.hearts .suit-symbol,.trump-btn.diamonds .suit-symbol{color:#c41e3a}.trump-btn.clubs .suit-symbol,.trump-btn.spades .suit-symbol{color:#e8dcc4}.trump-btn .suit-name{font-family:Oswald,sans-serif;font-size:clamp(.7rem,1.3vw,1rem);color:#e8dcc4;margin-top:.3em}.assignment-view{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden;background:linear-gradient(135deg,rgba(139,0,0,.04) 0%,transparent 50%),linear-gradient(225deg,rgba(212,168,87,.03) 0%,transparent 50%)}.assignment-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:clamp(.4rem,1vw,.8rem);flex:1;min-height:0;padding:clamp(.4rem,.8vh,.6rem) clamp(.5rem,1vw,1rem) clamp(.8rem,1.5vh,1.2rem);overflow:hidden;position:relative;z-index:1}.assign-job-tile{display:flex;flex-direction:column;padding:clamp(.4rem,.8vh,.6rem) clamp(.3rem,.6vw,.5rem);background:#141414cc;border:2px solid #d4a857;border-radius:4px;transition:all .2s ease;min-height:0;overflow:hidden}.assign-job-tile.trump{background:#d4a8571a;border-color:#d4a857;box-shadow:inset 0 0 30px #d4a8571a,0 0 15px #d4a85733}.assign-job-tile.claimed{opacity:.4;border-color:#4caf50}.assign-job-tile.invalid-target{opacity:.5;border-color:#8b0000;background:#8b00001a}.assign-job-tile.valid-target{border-color:#d4a857;border-style:dashed}.assign-job-tile.drop-target{border-color:#d4a857;box-shadow:0 0 20px #d4a85766;animation:tile-pulse 1s ease-in-out infinite}@keyframes tile-pulse{0%,to{box-shadow:0 0 15px #d4a8574d}50%{box-shadow:0 0 25px #d4a85780}}.assign-job-tile.drop-hover{border-color:#4caf50;border-style:solid;background:#4caf5026;box-shadow:0 0 25px #4caf5066;animation:none}.tile-header-row{display:flex;align-items:stretch;gap:.5rem;padding-bottom:clamp(.25rem,.5vh,.4rem);margin-bottom:clamp(.25rem,.5vh,.4rem);border-bottom:1px solid #444}.tile-header-left{display:flex;flex-direction:column;gap:.2rem;flex:1;min-width:0}.tile-header-top{display:flex;align-items:center;gap:.3rem}.tile-header-top .suit-symbol{font-size:clamp(1.4rem,2.5vw,1.8rem);flex-shrink:0}.tile-header-top .trump-badge{color:gold;font-size:clamp(.9rem,1.5vw,1.1rem);text-shadow:0 0 8px rgba(255,215,0,.5);flex-shrink:0}.tile-header-top .progress-track{flex:1;height:clamp(6px,1vh,8px);background:#1a1a1a;border:1px solid #444;border-radius:3px;overflow:hidden;min-width:0}.tile-header-top .progress-fill{height:100%;background:linear-gradient(90deg,#8b6914,#d4a857);transition:width .3s ease}.tile-header-left .progress-text-wrapper{position:relative}.tile-header-left .progress-text{font-family:Oswald,sans-serif;font-size:clamp(.8rem,1.4vw,1rem);color:#d4a857}.tile-header-left .point-popup{position:absolute;top:0;left:100%;margin-left:.5rem;font-family:Oswald,sans-serif;font-size:clamp(1.1rem,2vw,1.4rem);font-weight:700;color:#d4a857;text-shadow:0 0 8px rgba(212,168,87,.6);white-space:nowrap;animation:point-popup-float 1.2s ease-out forwards;pointer-events:none}.tile-header-left .point-popup.remove{color:#c41e3a;text-shadow:0 0 8px rgba(196,30,58,.6)}.tile-header-right{display:flex;align-items:center;flex-shrink:0}.tile-header-right .tile-reward{flex-shrink:0}.tile-header-right .reward-card{height:clamp(56px,10vh,80px);border-radius:3px;box-shadow:0 2px 6px #0006}.tile-header-right .reward-card.dimmed{opacity:.4}.tile-header-right .reward-card.claimed{opacity:1;border:2px solid #4CAF50;box-shadow:0 0 8px #4caf5066}@keyframes point-popup-float{0%{opacity:1;transform:translate(-50%) translateY(0)}to{opacity:0;transform:translate(-50%) translateY(20px)}}.tile-card-stack{display:flex;flex-direction:column;align-items:center;flex:1;min-height:0;padding:.2rem 0;overflow:hidden}.tile-card-stack .drop-hint{font-family:Oswald,sans-serif;font-size:clamp(.5rem,.85vw,.65rem);color:#666;text-transform:uppercase;letter-spacing:.02em;margin-top:auto}.tile-card-stack .drop-unavailable{font-family:Oswald,sans-serif;font-size:clamp(.6rem,1vw,.8rem);color:#444;margin:auto}.tile-card-stack .stacked-card{height:clamp(96px,17vh,132px);border-radius:4px;box-shadow:0 2px 6px #0006;flex-shrink:0}.tile-card-stack .stacked-card:not(:first-child){margin-top:clamp(-77px,-13.5vh,-105px)}.tile-card-stack .assigned-card-wrapper{cursor:grab;transition:transform .15s ease,opacity .15s ease}.tile-card-stack .assigned-card-wrapper:not(:first-child){margin-top:clamp(-77px,-13.5vh,-105px)}.tile-card-stack .assigned-card-wrapper:active{cursor:grabbing}.tile-card-stack .assigned-card-wrapper:hover{transform:scale(1.05) translateY(-2px);z-index:10}.tile-card-stack .assigned-card-wrapper.dragging{opacity:.3;transform:scale(.9)}.tile-card-stack .stacked-card.assigned{border:2px solid #d4a857;box-shadow:0 2px 8px #00000080}.assignment-controls{display:flex;align-items:center;justify-content:center;gap:clamp(.75rem,2vw,1.5rem);padding:clamp(.35rem,.8vh,.5rem);background:#00000080;border-top:2px solid #c41e3a;flex-shrink:0}.trick-cards-to-assign{display:flex;gap:clamp(.4rem,1vw,.75rem);align-items:center}.assign-card{position:relative;cursor:grab;transition:transform .15s ease,opacity .15s ease}.assign-card:active{cursor:grabbing}.assign-card img{height:clamp(45px,8vh,70px);border-radius:4px;border:2px solid rgba(212,168,87,.3);box-shadow:0 3px 10px #00000080;transition:all .15s ease}.assign-card:hover:not(.dragging){transform:translateY(-4px) rotate(-2deg)}.assign-card:hover:not(.dragging) img{border-color:#d4a857;box-shadow:0 6px 15px #0009,0 0 15px #d4a8574d}.assign-card.dragging{opacity:.3;transform:scale(.9)}.assign-card.assigned img{border-color:#4caf50}.assigned-badge{position:absolute;bottom:-4px;right:-4px;width:clamp(18px,3vw,24px);height:clamp(18px,3vw,24px);background:#0a0a0a;border:2px solid #d4a857;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:clamp(10px,1.5vw,14px);transform:rotate(-10deg);box-shadow:0 2px 4px #00000080}.assigned-badge.hearts,.assigned-badge.diamonds{color:#c41e3a}.assigned-badge.clubs,.assigned-badge.spades{color:#e8dcc4}.confirm-assignments-btn{padding:clamp(.35rem,.8vh,.5rem) clamp(.8rem,2vw,1.2rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:2px solid #d4a857;border-radius:3px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(.65rem,1.3vw,.9rem);letter-spacing:.1em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 3px 10px #0006}.confirm-assignments-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 20px #c41e3a80,0 0 30px #d4a85733;transform:scale(1.05)}*{-webkit-tap-highlight-color:transparent}html,body{touch-action:manipulation;overscroll-behavior:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}:root{--bg-primary: #0a0a0a;--bg-secondary: #141414;--bg-card: #1a1a1a;--gold: #d4a857;--gold-bright: #ffd700;--gold-dark: #b8860b;--red: #c41e3a;--red-dark: #8b0000;--red-bright: #dc143c;--cream: #e8dcc4;--cream-dark: #c4b89a;--text-primary: #e8dcc4;--text-secondary: #a09080;--border-gold: #d4a857;--border-dark: #333}.lobby{display:flex;flex-direction:row;align-items:stretch;justify-content:center;gap:clamp(2rem,4vw,4rem);min-height:100vh;height:100vh;padding:clamp(1rem,3vw,3rem);background:var(--bg-primary);background-image:radial-gradient(ellipse at top,rgba(212,168,87,.03) 0%,transparent 50%),radial-gradient(ellipse at bottom,rgba(196,30,58,.03) 0%,transparent 50%);overflow:hidden}.lobby-left{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;max-width:300px;gap:2rem}.lobby-title{display:flex;flex-direction:column;align-items:center;text-align:center}.lobby h1{font-family:Russo One,Oswald,sans-serif;font-size:clamp(2.5rem,6vw,5rem);color:var(--red);margin-bottom:.25rem;text-shadow:3px 3px 0 var(--gold-dark),0 0 30px rgba(196,30,58,.3);letter-spacing:.1em;text-transform:uppercase;line-height:1}.lobby h2{font-family:Russo One,Oswald,sans-serif;font-size:clamp(.8rem,2vw,1.5rem);color:var(--gold);margin:0;letter-spacing:.2em;text-transform:uppercase}.lobby-right-panel{flex:2;max-width:500px;display:flex;align-items:stretch}.variant-options,.rules-panel{background:var(--bg-secondary);padding:clamp(1rem,2vh,2rem);border-radius:4px;border:1px solid var(--border-gold);box-shadow:0 0 20px #d4a8571a;max-height:80vh;overflow-y:auto;width:100%}.rules-panel h3{margin-bottom:clamp(.5rem,1vh,1rem);margin-top:0;color:var(--cream);font-family:Russo One,Oswald,sans-serif;letter-spacing:.1em;font-size:clamp(.9rem,1.5vw,1.1rem)}.rules-panel .rules-text h4{color:var(--gold);margin:clamp(.6rem,1vh,1rem) 0 .3rem 0;font-size:clamp(.8rem,1.3vw,.95rem);font-family:Russo One,Oswald,sans-serif}.rules-panel .rules-text h4:first-child{margin-top:0}.rules-panel .rules-text p{color:var(--cream-dark);margin:.3rem 0;font-size:clamp(.75rem,1.2vw,.9rem);line-height:1.4}.rules-panel .rules-text strong{color:var(--cream)}.variant-options h3{margin-bottom:clamp(.4rem,1vh,.75rem);margin-top:.5rem;color:var(--cream);font-family:Russo One,Oswald,sans-serif;letter-spacing:.1em;font-size:clamp(.85rem,1.5vw,1rem)}.variant-options h3:first-child{margin-top:0}.variant-options label{display:block;margin:clamp(.2rem,.4vh,.4rem) 0;cursor:pointer;color:var(--cream-dark);font-weight:400;font-size:clamp(.75rem,1.2vw,.9rem)}.variant-options label:hover{color:var(--gold)}.variant-options input{margin-right:.4rem;accent-color:var(--red)}.lobby-buttons{display:flex;flex-direction:column;gap:1rem;width:100%}.lobby button{padding:clamp(.75rem,1.5vh,1rem) clamp(2rem,4vw,3rem);font-size:clamp(1rem,1.8vw,1.2rem);font-family:Russo One,Oswald,sans-serif;border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer;transition:all .2s;letter-spacing:.1em;text-transform:uppercase}.lobby button.start-btn{background:var(--red);color:var(--cream);box-shadow:0 4px 15px #c41e3a4d}.lobby button.start-btn:hover{background:var(--red-dark);border-color:var(--gold);transform:scale(1.05);box-shadow:0 6px 20px #c41e3a80}.lobby button.rules-btn{background:var(--bg-secondary);color:var(--cream)}.lobby button.rules-btn:hover{background:var(--gold-dark);color:var(--bg-primary);border-color:var(--gold)}.lobby-rules-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.lobby-rules{background:var(--bg-primary);border:2px solid var(--gold);border-radius:8px;padding:2rem;max-width:500px;max-height:80vh;overflow-y:auto;position:relative}.lobby-rules .close-btn{position:absolute;top:10px;right:10px;background:none;border:none;color:var(--cream);font-size:1.5rem;cursor:pointer;padding:.25rem .5rem}.lobby-rules h3{font-family:Russo One,Oswald,sans-serif;color:var(--gold);margin-bottom:1rem;text-align:center}.game-board{display:flex;flex-direction:row;width:100vw;height:100vh;background:var(--bg-primary);background-image:radial-gradient(ellipse at center,rgba(212,168,87,.02) 0%,transparent 70%);overflow:hidden}.game-content{display:flex;flex-direction:column;flex:1;min-width:0;height:100vh}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.player-hand-area{position:fixed;bottom:0;left:0;right:0;display:flex;align-items:flex-end;justify-content:center;gap:clamp(8px,1vw,16px);padding:0 clamp(16px,3vw,40px);padding-left:calc(100px + clamp(16px,3vw,40px));background:transparent;z-index:50;overflow:visible;transform:translateY(50%)}.player-hand-area .plot-cards-section{display:flex;align-items:flex-end}.player-hand-area .plot-card{position:relative;width:var(--card-width, clamp(50px, 10vw, 120px));cursor:pointer;transition:transform .2s ease,z-index .2s;transform-origin:bottom center;left:calc(var(--index, 0) * var(--card-width, clamp(50px, 10vw, 120px)) * -.7);z-index:calc(var(--index, 0) + 1)}.player-hand-area .plot-card:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .plot-card img{width:100%;border-radius:6px;box-shadow:0 4px 8px #0000004d}.player-hand-area .plot-card.revealed img{border:2px solid #4CAF50}.player-hand-area .plot-card.hidden img{border:2px solid #c41e3a}.player-hand-area .hand-divider{width:3px;height:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .5);background:linear-gradient(to bottom,transparent 10%,#d4a857 50%,transparent 90%);margin:0 clamp(4px,.5vw,8px);flex-shrink:0;align-self:flex-end;margin-bottom:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .25)}.player-hand-area .assign-cards-section{display:flex;align-items:flex-end;gap:clamp(8px,1vw,16px)}.player-hand-area .hand-card.assign-draggable{cursor:grab}.player-hand-area .hand-card.assign-draggable:active{cursor:grabbing}.player-hand-area .hand-card.assign-draggable:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .hand-card.assign-draggable:before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:8px;border:2px solid var(--gold);box-shadow:0 0 10px #d4a85780;pointer-events:none;animation:pulse-gold 1.5s ease-in-out infinite}.player-hand-area .hand-card.assign-draggable.assigned{opacity:.7}.player-hand-area .hand-card.assign-draggable.assigned:before{border-color:#4caf50;box-shadow:0 0 10px #4caf5080;animation:none}.player-hand-area .hand-card .assigned-badge{position:absolute;bottom:-4px;right:-4px;width:clamp(20px,3vw,28px);height:clamp(20px,3vw,28px);background:#0a0a0a;border:2px solid #d4a857;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:clamp(12px,1.8vw,16px);font-weight:700;box-shadow:0 2px 6px #0009;z-index:10}.player-hand-area .hand-card .assigned-badge.hearts,.player-hand-area .hand-card .assigned-badge.diamonds{color:#c41e3a}.player-hand-area .hand-card .assigned-badge.clubs,.player-hand-area .hand-card .assigned-badge.spades{color:#e8dcc4}.player-hand-area .confirm-assign-btn{padding:clamp(1rem,2vh,1.6rem) clamp(2rem,5vw,3rem);background:linear-gradient(135deg,#8b0000,#c41e3a,#8b0000);color:#e8dcc4;border:3px solid #d4a857;border-radius:8px;font-family:Russo One,Oswald,sans-serif;font-size:clamp(1.2rem,2.5vw,1.8rem);letter-spacing:.1em;cursor:pointer;transition:all .2s ease;text-transform:uppercase;box-shadow:0 4px 15px #00000080;display:flex;align-items:center;justify-content:center;animation:confirm-appear .3s ease-out;margin-left:auto;margin-right:clamp(16px,3vw,32px);align-self:flex-start;margin-bottom:calc(var(--card-width, clamp(50px, 10vw, 120px)) * .5)}@keyframes confirm-appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.player-hand-area .confirm-assign-btn:hover{background:linear-gradient(135deg,#6b0000,#a01830,#6b0000);box-shadow:0 0 20px #c41e3a80,0 0 30px #d4a85733;transform:scale(1.05)}.player-hand-area .hand-cards-section{display:flex;align-items:flex-end;justify-content:center;gap:clamp(8px,1vw,16px);padding-left:6px}.player-hand-area.assignment-mode .hand-cards-section{gap:0}.player-hand-area.assignment-mode .hand-cards-section .hand-card{margin-left:calc(var(--card-width, clamp(50px, 10vw, 120px)) * -.6)}.player-hand-area.assignment-mode .hand-cards-section .hand-card:first-child{margin-left:0}.player-hand-area.assignment-mode .hand-cards-section .hand-card:hover{z-index:50}.player-hand-area .hand-card{position:relative;transition:transform .2s ease,z-index 0s;transform-origin:bottom center;cursor:default}.player-hand-area .hand-card img{width:var(--card-width, clamp(50px, 10vw, 120px));border-radius:6px;box-shadow:0 4px 8px #0000004d}.player-hand-area .hand-card.playable{cursor:grab}.player-hand-area .hand-card.playable:active{cursor:grabbing}.player-hand-area .hand-card.playable:hover{transform:translateY(-15px) scale(1.08);z-index:100}.player-hand-area .hand-card.playable:before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:8px;border:2px solid var(--gold);box-shadow:0 0 10px #d4a85780;pointer-events:none;animation:pulse-gold 1.5s ease-in-out infinite}.player-hand-area .hand-card.invalid{opacity:.4;cursor:not-allowed;filter:saturate(.3) brightness(.7)}.player-hand-area .hand-card.dragging{opacity:.3;pointer-events:none}.swap-controls{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 clamp(8px,1vw,16px)}.swap-confirm-btn{padding:.5rem 1rem;background:var(--red);color:var(--cream);border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer;font-size:.8rem;font-family:Russo One,Oswald,sans-serif;letter-spacing:.05em;text-transform:uppercase;transition:all .2s ease;white-space:nowrap}.swap-confirm-btn:hover{background:var(--red-dark);border-color:var(--gold);box-shadow:0 0 15px #c41e3a66}.swap-waiting{display:flex;align-items:center;padding:0 clamp(8px,1vw,16px)}.swap-waiting span{font-family:Russo One,Oswald,sans-serif;color:var(--gold);font-size:.75rem;letter-spacing:.05em;animation:pulse 1.5s ease-in-out infinite}.plot-card.swappable,.hand-card.swappable{cursor:grab}.plot-card.swappable:hover,.hand-card.swappable:hover{transform:translateY(-4px) scale(1.02);z-index:10}.plot-card.swap-dragging,.hand-card.swap-dragging{opacity:.4;transform:scale(.95);cursor:grabbing}.plot-card.swap-target,.hand-card.swap-target{animation:swap-target-pulse 1s ease-in-out infinite}.plot-card.swap-target:after,.hand-card.swap-target:after{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:2px dashed var(--gold);border-radius:10px;pointer-events:none}.plot-card.swap-hover,.hand-card.swap-hover{transform:scale(1.08);z-index:20}.plot-card.swap-hover:after,.hand-card.swap-hover:after{border:3px solid var(--gold-bright);background:#4caf5040;animation:none}.plot-card.swap-hover img,.hand-card.swap-hover img{box-shadow:0 0 25px #4caf5080,0 0 50px #d4a8574d}@keyframes swap-target-pulse{0%,to{box-shadow:0 0 #d4a85700}50%{box-shadow:0 0 15px 3px #d4a85766}}.card-html{border-radius:8px;box-shadow:0 4px 8px #0000004d;transition:transform .2s,box-shadow .2s}.card-html.highlight{box-shadow:0 0 15px 5px #d4a85780}.card-html.dimmed{opacity:.4}.card-html img{border-radius:8px}.drag-ghost{position:fixed;pointer-events:none;z-index:1000;transform:translate(-50%,-50%) scale(1.1) rotate(3deg);filter:drop-shadow(0 15px 25px rgba(0,0,0,.5))}.ai-play-card{position:fixed;pointer-events:none;z-index:999;width:clamp(50px,8vw,100px)}.ai-play-card img{width:100%;border-radius:8px;box-shadow:0 8px 25px #00000080,0 0 15px #c41e3a66}@keyframes pulse-gold{0%,to{box-shadow:0 0 12px #d4a85799,0 0 24px #d4a8574d;border-color:var(--gold)}50%{box-shadow:0 0 18px #d4a857cc,0 0 32px #d4a85780;border-color:var(--gold-bright)}}.flying-card-html{position:fixed;pointer-events:none;z-index:999;width:clamp(50px,8vw,100px);filter:drop-shadow(0 8px 25px rgba(0,0,0,.5)) drop-shadow(0 0 15px rgba(212,168,87,.4));display:flex;align-items:center;justify-content:center}.flying-card-html img{width:100%;border-radius:6px;animation:card-fade .65s ease-in-out forwards}@keyframes card-fade{0%,70%{opacity:1}to{opacity:0}}.flying-card-html .flying-value{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;font-family:Russo One,Oswald,sans-serif;font-size:clamp(5rem,12vw,9rem);font-weight:700;color:gold;text-shadow:0 0 20px rgba(255,215,0,1),0 0 40px rgba(255,215,0,.8),2px 2px 4px rgba(0,0,0,.9);animation:value-pop 1.8s ease-out forwards;z-index:1000}@keyframes value-pop{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.4)}to{opacity:1;transform:scale(1)}}.game-over{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--bg-primary);background-image:radial-gradient(ellipse at top,rgba(212,168,87,.05) 0%,transparent 50%),radial-gradient(ellipse at bottom,rgba(196,30,58,.05) 0%,transparent 50%);text-align:center}.game-over h1{font-family:Russo One,Oswald,sans-serif;font-size:3.5rem;color:var(--gold);margin-bottom:1rem;text-shadow:2px 2px 0 var(--gold-dark);letter-spacing:.1em}.game-over h2{font-family:Russo One,Oswald,sans-serif;font-size:2rem;color:var(--red);margin-bottom:2rem;letter-spacing:.1em}.final-scores{background:var(--bg-secondary);padding:1.5rem;border-radius:4px;border:1px solid var(--border-gold);margin-bottom:1rem}.final-scores div{padding:.5rem 1rem;font-size:1.2rem;color:var(--cream-dark);font-family:Oswald,sans-serif}.final-scores .winner{color:var(--gold);font-weight:700;background:#d4a8571a;border-radius:4px;border:1px solid var(--gold-dark)}[title],.lobby h1[title],.lobby h2[title]{cursor:help}.variant-options strong[title]{cursor:help;border-bottom:1px dotted var(--gold-dark)}@media (pointer: coarse){.lobby button{min-height:48px;padding:1rem 1.5rem}}@media (orientation: portrait) and (max-width: 900px){.portrait-warning{display:flex!important}.game-board,.lobby{filter:blur(3px);pointer-events:none}}.portrait-warning{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:#0a0a0af2;z-index:9999;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem}.portrait-warning svg{width:80px;height:80px;margin-bottom:1.5rem;fill:var(--gold);animation:rotate-phone 2s ease-in-out infinite}.portrait-warning h2{font-family:Russo One,Oswald,sans-serif;color:var(--gold);font-size:1.5rem;margin-bottom:.5rem}.portrait-warning p{color:var(--cream-dark);font-size:1rem}@keyframes rotate-phone{0%,to{transform:rotate(0)}25%{transform:rotate(-15deg)}75%{transform:rotate(90deg)}}.mobile-nav-bar{display:flex;flex-shrink:0;width:clamp(100px,13vw,150px);flex-direction:column;gap:.5vh;padding:1vh .8vw;background:var(--bg-primary);border-right:1px solid var(--border-dark);z-index:100;justify-content:flex-start}.mobile-nav-bar .nav-btn{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.5vw;padding:1.5vh 1vw;background:#1a1a1a;color:var(--cream-dark);border:2px solid #333;border-radius:.5vh;cursor:pointer;transition:all .2s;box-shadow:none}.mobile-nav-bar .nav-btn .nav-icon{font-size:clamp(14px,2vw,20px)}.mobile-nav-bar .nav-btn .nav-label{font-family:Russo One,Oswald,sans-serif;font-size:clamp(9px,1.2vw,14px);letter-spacing:.1em;text-transform:uppercase}.mobile-nav-bar .nav-btn:hover{background:#2a2a2a;border-color:var(--gold-dark);color:var(--cream)}.mobile-nav-bar .nav-btn.active{background:var(--red);color:var(--cream);border-color:var(--gold);box-shadow:0 4px 15px #c41e3a66}.mobile-panel-content{flex:1;background:var(--bg-primary);display:flex;align-items:center;justify-content:center;padding:20px;overflow-y:auto}.mobile-panel-content>div{max-width:500px;width:100%;max-height:90vh;overflow-y:auto;background:var(--bg-secondary);border:2px solid var(--gold);border-radius:8px;padding:20px}.mobile-panel-content h3{font-family:Russo One,Oswald,sans-serif;color:var(--gold);margin:0 0 15px;font-size:1.3rem}.mobile-panel-content h4{font-family:Russo One,Oswald,sans-serif;color:var(--cream);margin:15px 0 8px;font-size:1rem}.mobile-panel-content h5{color:var(--gold);margin:12px 0 6px;font-size:.9rem}.mobile-panel-content p{color:var(--cream-dark);margin:4px 0;font-size:.85rem;line-height:1.4}.options-panel{display:flex;flex-direction:column;height:100%}.options-panel .rules-section{flex:1;overflow-y:auto}.options-panel .menu-btn-action{margin-top:20px;padding:12px 24px;font-family:Russo One,Oswald,sans-serif;font-size:1rem;background:var(--red);color:var(--cream);border:2px solid var(--gold-dark);border-radius:4px;cursor:pointer}.jobs-panel{display:flex;flex-direction:column;height:100%}.jobs-header,.gulag-header{display:flex;align-items:center;gap:15px;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #333}.jobs-header h3,.gulag-header h3{margin:0}.jobs-count,.gulag-count{color:var(--cream-dark);font-size:.9rem}.jobs-grid{display:flex;flex:1;gap:10px;overflow-x:auto}.job-column{flex:1;min-width:70px;max-width:120px;display:flex;flex-direction:column;background:#0000004d;border-radius:6px;padding:8px}.job-column.trump{background:#ffd7001a;border:1px solid var(--gold-dark)}.job-column.claimed{opacity:.6}.job-header-row{display:flex;align-items:center;gap:6px;margin-bottom:8px}.job-header-row .suit-symbol{font-size:20px}.job-header-row .suit-symbol.hearts,.job-header-row .suit-symbol.diamonds{color:var(--red)}.job-header-row .suit-symbol.clubs,.job-header-row .suit-symbol.spades{color:var(--cream)}.progress-bar-container{flex:1;height:16px;background:#222;border-radius:8px;position:relative;overflow:hidden}.progress-bar-fill{height:100%;background:#2196f3;border-radius:8px;transition:width .3s}.progress-bar-fill.complete{background:#4caf50}.progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:10px;font-weight:700;color:#fff}.job-cards-stack{display:flex;flex-direction:column;align-items:center;flex:1;overflow-y:auto}.job-cards-stack .job-card{width:55px;height:auto;border-radius:4px}.job-cards-stack .more-cards{font-size:11px;color:var(--cream-dark);margin-top:5px}.gulag-panel{display:flex;flex-direction:column;height:100%}.gulag-grid{display:flex;flex:1;gap:8px;overflow-x:auto}.year-column{flex:1;min-width:60px;max-width:100px;display:flex;flex-direction:column;align-items:center}.year-column.past{opacity:.5}.year-column.current .year-header{background:#c41e3a66;border-color:var(--red)}.year-header{display:flex;align-items:center;justify-content:center;gap:6px;padding:6px 12px;background:#1e1e1ee6;border:1px solid #333;border-radius:4px;margin-bottom:8px}.year-number{font-family:monospace;font-size:14px;color:var(--cream)}.year-badge{background:var(--red);color:#fff;font-size:10px;padding:2px 6px;border-radius:10px}.year-cards{display:flex;flex-direction:column;align-items:center;flex:1;overflow-y:auto}.year-cards .gulag-card{width:50px;height:auto;border-radius:3px}.year-cards .empty-slot{width:50px;height:70px;border:1px dashed #333;border-radius:3px}.year-cards .more-cards{font-size:11px;color:var(--cream-dark);margin-top:5px}.suit-symbol.hearts,.suit-symbol.diamonds{color:var(--red)}.suit-symbol.clubs,.suit-symbol.spades{color:var(--cream)}.assigned-label{font-size:11px;color:#999;margin-bottom:4px;font-family:Oswald,sans-serif}.assigned-stack{display:flex;flex-direction:column;align-items:center}.assigned-card{width:55px;height:auto;border-radius:3px}.more-cards{font-size:11px;color:#888;margin-top:4px}.suit-icon.hearts,.suit-icon.diamonds{color:var(--red)}.suit-icon.clubs,.suit-icon.spades{color:var(--cream)}.menu-options{display:flex;flex-direction:column;gap:12px}.menu-option{padding:16px 20px;font-family:Oswald,sans-serif;font-size:18px;background:var(--bg-secondary);color:var(--cream);border:2px solid var(--border-dark);border-radius:6px;cursor:pointer;text-align:left;transition:all .2s}.menu-option:active{background:var(--gold-dark);color:var(--bg-primary);border-color:var(--gold)}.rules-panel .rules-content{max-width:500px}.rules-text{text-align:left}.rules-text h4{color:var(--gold);font-family:Russo One,Oswald,sans-serif;margin-top:15px;margin-bottom:8px;font-size:1rem}.rules-text h4:first-child{margin-top:0}.rules-text p{color:var(--cream-dark);margin-bottom:6px;font-size:14px;line-height:1.4}.rules-text strong{color:var(--gold)}.game-board:has(.mobile-panel-content) .game-content{display:none}.player-plot{display:none}
