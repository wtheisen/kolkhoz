(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pf={exports:{}},Ws={},Nf={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),dm=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),gm=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Sm=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),Bu=Symbol.iterator;function _m(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var Tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Af={};function hr(e,t,n){this.props=e,this.context=t,this.refs=Af,this.updater=n||Tf}hr.prototype.isReactComponent={};hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function If(){}If.prototype=hr.prototype;function da(e,t,n){this.props=e,this.context=t,this.refs=Af,this.updater=n||Tf}var ha=da.prototype=new If;ha.constructor=da;Of(ha,hr.prototype);ha.isPureReactComponent=!0;var zu=Array.isArray,Mf=Object.prototype.hasOwnProperty,pa={current:null},jf={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Mf.call(t,r)&&!jf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vi,type:e,key:s,ref:o,props:i,_owner:pa.current}}function Em(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fu=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xm(""+e.key):t.toString(36)}function Ji(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vi:case dm:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+wo(o,0):r,zu(i)?(n="",e!=null&&(n=e.replace(Fu,"$&/")+"/"),Ji(i,t,n,"",function(u){return u})):i!=null&&(ma(i)&&(i=Em(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",zu(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+wo(s,l);o+=Ji(s,t,n,a,i)}else if(a=_m(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+wo(s,l++),o+=Ji(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xi(e,t,n){if(e==null)return e;var r=[],i=0;return Ji(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Qi={transition:null},Pm={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:pa};function Df(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:xi,forEach:function(e,t,n){xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xi(e,function(){t++}),t},toArray:function(e){return xi(e,function(t){return t})||[]},only:function(e){if(!ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=hr;H.Fragment=hm;H.Profiler=mm;H.PureComponent=da;H.StrictMode=pm;H.Suspense=wm;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;H.act=Df;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Of({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=pa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Mf.call(t,a)&&!jf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vi,type:e.type,key:i,ref:s,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:gm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ym,_context:e},e.Consumer=e};H.createElement=Rf;H.createFactory=function(e){var t=Rf.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:vm,render:e}};H.isValidElement=ma;H.lazy=function(e){return{$$typeof:km,_payload:{_status:-1,_result:e},_init:Cm}};H.memo=function(e,t){return{$$typeof:Sm,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};H.unstable_act=Df;H.useCallback=function(e,t){return $e.current.useCallback(e,t)};H.useContext=function(e){return $e.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};H.useEffect=function(e,t){return $e.current.useEffect(e,t)};H.useId=function(){return $e.current.useId()};H.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return $e.current.useMemo(e,t)};H.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};H.useRef=function(e){return $e.current.useRef(e)};H.useState=function(e){return $e.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return $e.current.useTransition()};H.version="18.3.1";Nf.exports=H;var ae=Nf.exports;const L=Cf(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=ae,Tm=Symbol.for("react.element"),Om=Symbol.for("react.fragment"),Am=Object.prototype.hasOwnProperty,Im=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Am.call(t,r)&&!Mm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tm,type:e,key:s,ref:o,props:i,_owner:Im.current}}Ws.Fragment=Om;Ws.jsx=Lf;Ws.jsxs=Lf;Pf.exports=Ws;var g=Pf.exports,bf={exports:{}},tt={},$f={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,C){var A=j.length;j.push(C);e:for(;0<A;){var b=A-1>>>1,$=j[b];if(0<i($,C))j[b]=C,j[A]=$,A=b;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var C=j[0],A=j.pop();if(A!==C){j[0]=A;e:for(var b=0,$=j.length,me=$>>>1;b<me;){var oe=2*(b+1)-1,te=j[oe],ye=oe+1,jt=j[ye];if(0>i(te,A))ye<$&&0>i(jt,te)?(j[b]=jt,j[ye]=A,b=ye):(j[b]=te,j[oe]=A,b=oe);else if(ye<$&&0>i(jt,A))j[b]=jt,j[ye]=A,b=ye;else break e}}return C}function i(j,C){var A=j.sortIndex-C.sortIndex;return A!==0?A:j.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,d=3,y=!1,v=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=j)r(u),C.sortIndex=C.expirationTime,t(a,C);else break;C=n(u)}}function S(j){if(k=!1,m(j),!v)if(n(a)!==null)v=!0,_e(O);else{var C=n(u);C!==null&&Ke(S,C.startTime-j)}}function O(j,C){v=!1,k&&(k=!1,p(_),_=-1),y=!0;var A=d;try{for(m(C),f=n(a);f!==null&&(!(f.expirationTime>C)||j&&!V());){var b=f.callback;if(typeof b=="function"){f.callback=null,d=f.priorityLevel;var $=b(f.expirationTime<=C);C=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(a)&&r(a),m(C)}else r(a);f=n(a)}if(f!==null)var me=!0;else{var oe=n(u);oe!==null&&Ke(S,oe.startTime-C),me=!1}return me}finally{f=null,d=A,y=!1}}var M=!1,T=null,_=-1,I=5,R=-1;function V(){return!(e.unstable_now()-R<I)}function K(){if(T!==null){var j=e.unstable_now();R=j;var C=!0;try{C=T(!0,j)}finally{C?Q():(M=!1,T=null)}}else M=!1}var Q;if(typeof h=="function")Q=function(){h(K)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ke=Y.port2;Y.port1.onmessage=K,Q=function(){ke.postMessage(null)}}else Q=function(){x(K,0)};function _e(j){T=j,M||(M=!0,Q())}function Ke(j,C){_=x(function(){j(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,_e(O))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(d){case 1:case 2:case 3:var C=3;break;default:C=d}var A=d;d=C;try{return j()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,C){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=d;d=j;try{return C()}finally{d=A}},e.unstable_scheduleCallback=function(j,C,A){var b=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?b+A:b):A=b,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,j={id:c++,callback:C,priorityLevel:j,startTime:A,expirationTime:$,sortIndex:-1},A>b?(j.sortIndex=A,t(u,j),n(a)===null&&j===n(u)&&(k?(p(_),_=-1):k=!0,Ke(S,A-b))):(j.sortIndex=$,t(a,j),v||y||(v=!0,_e(O))),j},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(j){var C=d;return function(){var A=d;d=C;try{return j.apply(this,arguments)}finally{d=A}}}})(Bf);$f.exports=Bf;var jm=$f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=ae,Ze=jm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,Qr={};function bn(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Qr[e]=t,e=0;e<t.length;e++)zf.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=Object.prototype.hasOwnProperty,Dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uu={},Vu={};function Lm(e){return rl.call(Vu,e)?!0:rl.call(Uu,e)?!1:Dm.test(e)?Vu[e]=!0:(Uu[e]=!0,!1)}function bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $m(e,t,n,r){if(t===null||typeof t>"u"||bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,ga);Pe[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,ga);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,ga);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function va(e,t,n,r){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($m(t,n,i,r)&&(n=null),r||i===null?Lm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ci=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),wa=Symbol.for("react.strict_mode"),il=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),Sa=Symbol.for("react.forward_ref"),sl=Symbol.for("react.suspense"),ol=Symbol.for("react.suspense_list"),ka=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Vf=Symbol.for("react.offscreen"),Hu=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,So;function Mr(e){if(So===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);So=t&&t[1]||""}return`
`+So+e}var ko=!1;function _o(e,t){if(!e||ko)return"";ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ko=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mr(e):""}function Bm(e){switch(e.tag){case 5:return Mr(e.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return e=_o(e.type,!1),e;case 11:return e=_o(e.type.render,!1),e;case 1:return e=_o(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case zn:return"Portal";case il:return"Profiler";case wa:return"StrictMode";case sl:return"Suspense";case ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uf:return(e.displayName||"Context")+".Consumer";case Ff:return(e._context.displayName||"Context")+".Provider";case Sa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ka:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e){var t=Hf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=Fm(e))}function Wf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function al(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kf(e,t){t=t.checked,t!=null&&va(e,"checked",t,!1)}function ul(e,t){Kf(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cl(e,t.type,n):t.hasOwnProperty("defaultValue")&&cl(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ku(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cl(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(jr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function qf(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,Qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Um=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Um.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function Yf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function Xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Vm=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hl(e,t){if(t){if(Vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function pl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,Gn=null,er=null;function Qu(e){if(e=ki(e)){if(typeof yl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Ys(t),yl(e.stateNode,e.type,t))}}function Zf(e){Gn?er?er.push(e):er=[e]:Gn=e}function Gf(){if(Gn){var e=Gn,t=er;if(er=Gn=null,Qu(e),t)for(e=0;e<t.length;e++)Qu(t[e])}}function ed(e,t){return e(t)}function td(){}var Eo=!1;function nd(e,t,n){if(Eo)return e(t,n);Eo=!0;try{return ed(e,t,n)}finally{Eo=!1,(Gn!==null||er!==null)&&(td(),Gf())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var gl=!1;if(Ft)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){gl=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{gl=!1}function Hm(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zr=!1,ds=null,hs=!1,vl=null,Wm={onError:function(e){zr=!0,ds=e}};function Km(e,t,n,r,i,s,o,l,a){zr=!1,ds=null,Hm.apply(Wm,arguments)}function qm(e,t,n,r,i,s,o,l,a){if(Km.apply(this,arguments),zr){if(zr){var u=ds;zr=!1,ds=null}else throw Error(N(198));hs||(hs=!0,vl=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yu(e){if($n(e)!==e)throw Error(N(188))}function Jm(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yu(i),e;if(s===r)return Yu(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function id(e){return e=Jm(e),e!==null?sd(e):null}function sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sd(e);if(t!==null)return t;e=e.sibling}return null}var od=Ze.unstable_scheduleCallback,Xu=Ze.unstable_cancelCallback,Qm=Ze.unstable_shouldYield,Ym=Ze.unstable_requestPaint,fe=Ze.unstable_now,Xm=Ze.unstable_getCurrentPriorityLevel,Ea=Ze.unstable_ImmediatePriority,ld=Ze.unstable_UserBlockingPriority,ps=Ze.unstable_NormalPriority,Zm=Ze.unstable_LowPriority,ad=Ze.unstable_IdlePriority,Ks=null,Nt=null;function Gm(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ks,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:ny,ey=Math.log,ty=Math.LN2;function ny(e){return e>>>=0,e===0?32:31-(ey(e)/ty|0)|0}var Ti=64,Oi=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Rr(l):(s&=o,s!==0&&(r=Rr(s)))}else o=n&~i,o!==0?r=Rr(o):s!==0&&(r=Rr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),i=1<<n,r|=e[n],t&=~i;return r}function ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-gt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=ry(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(){var e=Ti;return Ti<<=1,!(Ti&4194240)&&(Ti=64),e}function xo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function sy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,Ca,dd,hd,pd,Sl=!1,Ai=[],nn=null,rn=null,sn=null,Zr=new Map,Gr=new Map,Zt=[],oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function _r(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ki(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ly(e,t,n,r,i){switch(t){case"focusin":return nn=_r(nn,e,t,n,r,i),!0;case"dragenter":return rn=_r(rn,e,t,n,r,i),!0;case"mouseover":return sn=_r(sn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zr.set(s,_r(Zr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gr.set(s,_r(Gr.get(s)||null,e,t,n,r,i)),!0}return!1}function md(e){var t=Pn(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=rd(n),t!==null){e.blockedOn=t,pd(e.priority,function(){dd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ml=r,n.target.dispatchEvent(r),ml=null}else return t=ki(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){Yi(e)&&n.delete(t)}function ay(){Sl=!1,nn!==null&&Yi(nn)&&(nn=null),rn!==null&&Yi(rn)&&(rn=null),sn!==null&&Yi(sn)&&(sn=null),Zr.forEach(Gu),Gr.forEach(Gu)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,ay)))}function ei(e){function t(i){return Er(i,e)}if(0<Ai.length){Er(Ai[0],e);for(var n=1;n<Ai.length;n++){var r=Ai[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&Er(nn,e),rn!==null&&Er(rn,e),sn!==null&&Er(sn,e),Zr.forEach(t),Gr.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)md(n),n.blockedOn===null&&Zt.shift()}var tr=Kt.ReactCurrentBatchConfig,ys=!0;function uy(e,t,n,r){var i=J,s=tr.transition;tr.transition=null;try{J=1,Pa(e,t,n,r)}finally{J=i,tr.transition=s}}function cy(e,t,n,r){var i=J,s=tr.transition;tr.transition=null;try{J=4,Pa(e,t,n,r)}finally{J=i,tr.transition=s}}function Pa(e,t,n,r){if(ys){var i=kl(e,t,n,r);if(i===null)Ro(e,t,r,gs,n),Zu(e,r);else if(ly(i,e,t,n,r))r.stopPropagation();else if(Zu(e,r),t&4&&-1<oy.indexOf(e)){for(;i!==null;){var s=ki(i);if(s!==null&&fd(s),s=kl(e,t,n,r),s===null&&Ro(e,t,r,gs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ro(e,t,r,null,n)}}var gs=null;function kl(e,t,n,r){if(gs=null,e=_a(r),e=Pn(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gs=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xm()){case Ea:return 1;case ld:return 4;case ps:case Zm:return 16;case ad:return 536870912;default:return 16}default:return 16}}var en=null,Na=null,Xi=null;function gd(){if(Xi)return Xi;var e,t=Na,n=t.length,r,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Xi=i.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function ec(){return!1}function nt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ii:ec,this.isPropagationStopped=ec,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=nt(pr),Si=se({},pr,{view:0,detail:0}),fy=nt(Si),Co,Po,xr,qs=se({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Co=e.screenX-xr.screenX,Po=e.screenY-xr.screenY):Po=Co=0,xr=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),tc=nt(qs),dy=se({},qs,{dataTransfer:0}),hy=nt(dy),py=se({},Si,{relatedTarget:0}),No=nt(py),my=se({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=nt(my),gy=se({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vy=nt(gy),wy=se({},pr,{data:0}),nc=nt(wy),Sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_y[e])?!!t[e]:!1}function Oa(){return Ey}var xy=se({},Si,{key:function(e){if(e.key){var t=Sy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cy=nt(xy),Py=se({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=nt(Py),Ny=se({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Ty=nt(Ny),Oy=se({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ay=nt(Oy),Iy=se({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),My=nt(Iy),jy=[9,13,27,32],Aa=Ft&&"CompositionEvent"in window,Fr=null;Ft&&"documentMode"in document&&(Fr=document.documentMode);var Ry=Ft&&"TextEvent"in window&&!Fr,vd=Ft&&(!Aa||Fr&&8<Fr&&11>=Fr),ic=" ",sc=!1;function wd(e,t){switch(e){case"keyup":return jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function Dy(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(sc=!0,ic);case"textInput":return e=t.data,e===ic&&sc?null:e;default:return null}}function Ly(e,t){if(Un)return e==="compositionend"||!Aa&&wd(e,t)?(e=gd(),Xi=Na=en=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var by={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!by[e.type]:t==="textarea"}function kd(e,t,n,r){Zf(r),t=vs(t,"onChange"),0<t.length&&(n=new Ta("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ur=null,ti=null;function $y(e){Md(e,0)}function Js(e){var t=Wn(e);if(Wf(t))return e}function By(e,t){if(e==="change")return t}var _d=!1;if(Ft){var To;if(Ft){var Oo="oninput"in document;if(!Oo){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Oo=typeof lc.oninput=="function"}To=Oo}else To=!1;_d=To&&(!document.documentMode||9<document.documentMode)}function ac(){Ur&&(Ur.detachEvent("onpropertychange",Ed),ti=Ur=null)}function Ed(e){if(e.propertyName==="value"&&Js(ti)){var t=[];kd(t,ti,e,_a(e)),nd($y,t)}}function zy(e,t,n){e==="focusin"?(ac(),Ur=t,ti=n,Ur.attachEvent("onpropertychange",Ed)):e==="focusout"&&ac()}function Fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(ti)}function Uy(e,t){if(e==="click")return Js(t)}function Vy(e,t){if(e==="input"||e==="change")return Js(t)}function Hy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Hy;function ni(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rl.call(t,i)||!St(e[i],t[i]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var n=uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uc(n)}}function xd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cd(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function Ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wy(e){var t=Cd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(r!==null&&Ia(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cc(n,s);var o=cc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ky=Ft&&"documentMode"in document&&11>=document.documentMode,Vn=null,_l=null,Vr=null,El=!1;function fc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;El||Vn==null||Vn!==fs(r)||(r=Vn,"selectionStart"in r&&Ia(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&ni(Vr,r)||(Vr=r,r=vs(_l,"onSelect"),0<r.length&&(t=new Ta("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vn)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Ao={},Pd={};Ft&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Qs(e){if(Ao[e])return Ao[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return Ao[e]=t[n];return e}var Nd=Qs("animationend"),Td=Qs("animationiteration"),Od=Qs("animationstart"),Ad=Qs("transitionend"),Id=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){Id.set(e,t),bn(t,[e])}for(var Io=0;Io<dc.length;Io++){var Mo=dc[Io],qy=Mo.toLowerCase(),Jy=Mo[0].toUpperCase()+Mo.slice(1);yn(qy,"on"+Jy)}yn(Nd,"onAnimationEnd");yn(Td,"onAnimationIteration");yn(Od,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Ad,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function hc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qm(r,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;hc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;hc(i,l,u),s=a}}}if(hs)throw e=vl,hs=!1,vl=null,e}function G(e,t){var n=t[Tl];n===void 0&&(n=t[Tl]=new Set);var r=e+"__bubble";n.has(r)||(jd(t,e,2,!1),n.add(r))}function jo(e,t,n){var r=0;t&&(r|=4),jd(n,e,r,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[ji]){e[ji]=!0,zf.forEach(function(n){n!=="selectionchange"&&(Qy.has(n)||jo(n,!1,e),jo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,jo("selectionchange",!1,t))}}function jd(e,t,n,r){switch(yd(t)){case 1:var i=uy;break;case 4:i=cy;break;default:i=Pa}n=i.bind(null,t,n,e),i=void 0,!gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ro(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}nd(function(){var u=s,c=_a(n),f=[];e:{var d=Id.get(e);if(d!==void 0){var y=Ta,v=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":y=Cy;break;case"focusin":v="focus",y=No;break;case"focusout":v="blur",y=No;break;case"beforeblur":case"afterblur":y=No;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ty;break;case Nd:case Td:case Od:y=yy;break;case Ad:y=Ay;break;case"scroll":y=fy;break;case"wheel":y=My;break;case"copy":case"cut":case"paste":y=vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rc}var k=(t&4)!==0,x=!k&&e==="scroll",p=k?d!==null?d+"Capture":null:d;k=[];for(var h=u,m;h!==null;){m=h;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,p!==null&&(S=Xr(h,p),S!=null&&k.push(ii(h,S,m)))),x)break;h=h.return}0<k.length&&(d=new y(d,v,null,n,c),f.push({event:d,listeners:k}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==ml&&(v=n.relatedTarget||n.fromElement)&&(Pn(v)||v[Ut]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Pn(v):null,v!==null&&(x=$n(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(k=tc,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(k=rc,S="onPointerLeave",p="onPointerEnter",h="pointer"),x=y==null?d:Wn(y),m=v==null?d:Wn(v),d=new k(S,h+"leave",y,n,c),d.target=x,d.relatedTarget=m,S=null,Pn(c)===u&&(k=new k(p,h+"enter",v,n,c),k.target=m,k.relatedTarget=x,S=k),x=S,y&&v)t:{for(k=y,p=v,h=0,m=k;m;m=Bn(m))h++;for(m=0,S=p;S;S=Bn(S))m++;for(;0<h-m;)k=Bn(k),h--;for(;0<m-h;)p=Bn(p),m--;for(;h--;){if(k===p||p!==null&&k===p.alternate)break t;k=Bn(k),p=Bn(p)}k=null}else k=null;y!==null&&pc(f,d,y,k,!1),v!==null&&x!==null&&pc(f,x,v,k,!0)}}e:{if(d=u?Wn(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var O=By;else if(oc(d))if(_d)O=Vy;else{O=Fy;var M=zy}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=Uy);if(O&&(O=O(e,u))){kd(f,O,n,c);break e}M&&M(e,d,u),e==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&cl(d,"number",d.value)}switch(M=u?Wn(u):window,e){case"focusin":(oc(M)||M.contentEditable==="true")&&(Vn=M,_l=u,Vr=null);break;case"focusout":Vr=_l=Vn=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,fc(f,n,c);break;case"selectionchange":if(Ky)break;case"keydown":case"keyup":fc(f,n,c)}var T;if(Aa)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?wd(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(vd&&n.locale!=="ko"&&(Un||_!=="onCompositionStart"?_==="onCompositionEnd"&&Un&&(T=gd()):(en=c,Na="value"in en?en.value:en.textContent,Un=!0)),M=vs(u,_),0<M.length&&(_=new nc(_,e,null,n,c),f.push({event:_,listeners:M}),T?_.data=T:(T=Sd(n),T!==null&&(_.data=T)))),(T=Ry?Dy(e,n):Ly(e,n))&&(u=vs(u,"onBeforeInput"),0<u.length&&(c=new nc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}Md(f,t)})}function ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xr(e,n),s!=null&&r.unshift(ii(e,s,i)),s=Xr(e,t),s!=null&&r.push(ii(e,s,i))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Xr(n,s),a!=null&&o.unshift(ii(n,a,l))):i||(a=Xr(n,s),a!=null&&o.push(ii(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Yy=/\r\n?/g,Xy=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Xy,"")}function Ri(e,t,n){if(t=mc(t),mc(e)!==t&&n)throw Error(N(425))}function ws(){}var xl=null,Cl=null;function Pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,Zy=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(eg)}:Nl;function eg(e){setTimeout(function(){throw e})}function Do(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ei(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+mr,si="__reactProps$"+mr,Ut="__reactContainer$"+mr,Tl="__reactEvents$"+mr,tg="__reactListeners$"+mr,ng="__reactHandles$"+mr;function Pn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gc(e);e!==null;){if(n=e[Pt])return n;e=gc(e)}return t}e=n,n=e.parentNode}return null}function ki(e){return e=e[Pt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Ys(e){return e[si]||null}var Ol=[],Kn=-1;function gn(e){return{current:e}}function ee(e){0>Kn||(e.current=Ol[Kn],Ol[Kn]=null,Kn--)}function X(e,t){Kn++,Ol[Kn]=e.current,e.current=t}var hn={},Me=gn(hn),Ve=gn(!1),In=hn;function sr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function He(e){return e=e.childContextTypes,e!=null}function Ss(){ee(Ve),ee(Me)}function vc(e,t,n){if(Me.current!==hn)throw Error(N(168));X(Me,t),X(Ve,n)}function Rd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,zm(e)||"Unknown",i));return se({},n,r)}function ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,In=Me.current,X(Me,e),X(Ve,Ve.current),!0}function wc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Rd(e,t,In),r.__reactInternalMemoizedMergedChildContext=e,ee(Ve),ee(Me),X(Me,e)):ee(Ve),X(Ve,n)}var Lt=null,Xs=!1,Lo=!1;function Dd(e){Lt===null?Lt=[e]:Lt.push(e)}function rg(e){Xs=!0,Dd(e)}function vn(){if(!Lo&&Lt!==null){Lo=!0;var e=0,t=J;try{var n=Lt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,Xs=!1}catch(i){throw Lt!==null&&(Lt=Lt.slice(e+1)),od(Ea,vn),i}finally{J=t,Lo=!1}}return null}var qn=[],Jn=0,_s=null,Es=0,it=[],st=0,Mn=null,bt=1,$t="";function En(e,t){qn[Jn++]=Es,qn[Jn++]=_s,_s=e,Es=t}function Ld(e,t,n){it[st++]=bt,it[st++]=$t,it[st++]=Mn,Mn=e;var r=bt;e=$t;var i=32-gt(r)-1;r&=~(1<<i),n+=1;var s=32-gt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bt=1<<32-gt(t)+i|n<<i|r,$t=s+e}else bt=1<<s|n<<i|r,$t=e}function Ma(e){e.return!==null&&(En(e,1),Ld(e,1,0))}function ja(e){for(;e===_s;)_s=qn[--Jn],qn[Jn]=null,Es=qn[--Jn],qn[Jn]=null;for(;e===Mn;)Mn=it[--st],it[st]=null,$t=it[--st],it[st]=null,bt=it[--st],it[st]=null}var Xe=null,Qe=null,ne=!1,mt=null;function bd(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:bt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Qe=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(ne){var t=Qe;if(t){var n=t;if(!Sc(e,t)){if(Al(e))throw Error(N(418));t=on(n.nextSibling);var r=Xe;t&&Sc(e,t)?bd(r,n):(e.flags=e.flags&-4097|2,ne=!1,Xe=e)}}else{if(Al(e))throw Error(N(418));e.flags=e.flags&-4097|2,ne=!1,Xe=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Di(e){if(e!==Xe)return!1;if(!ne)return kc(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pl(e.type,e.memoizedProps)),t&&(t=Qe)){if(Al(e))throw $d(),Error(N(418));for(;t;)bd(e,t),t=on(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Xe?on(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Qe;e;)e=on(e.nextSibling)}function or(){Qe=Xe=null,ne=!1}function Ra(e){mt===null?mt=[e]:mt.push(e)}var ig=Kt.ReactCurrentBatchConfig;function Cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function Bd(e){function t(p,h){if(e){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=cn(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,S){return h===null||h.tag!==6?(h=Vo(m,p.mode,S),h.return=p,h):(h=i(h,m),h.return=p,h)}function a(p,h,m,S){var O=m.type;return O===Fn?c(p,h,m.props.children,S,m.key):h!==null&&(h.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Yt&&_c(O)===h.type)?(S=i(h,m.props),S.ref=Cr(p,h,m),S.return=p,S):(S=ss(m.type,m.key,m.props,null,p.mode,S),S.ref=Cr(p,h,m),S.return=p,S)}function u(p,h,m,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Ho(m,p.mode,S),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function c(p,h,m,S,O){return h===null||h.tag!==7?(h=An(m,p.mode,S,O),h.return=p,h):(h=i(h,m),h.return=p,h)}function f(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Vo(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ci:return m=ss(h.type,h.key,h.props,null,p.mode,m),m.ref=Cr(p,null,h),m.return=p,m;case zn:return h=Ho(h,p.mode,m),h.return=p,h;case Yt:var S=h._init;return f(p,S(h._payload),m)}if(jr(h)||Sr(h))return h=An(h,p.mode,m,null),h.return=p,h;Li(p,h)}return null}function d(p,h,m,S){var O=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return O!==null?null:l(p,h,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:return m.key===O?a(p,h,m,S):null;case zn:return m.key===O?u(p,h,m,S):null;case Yt:return O=m._init,d(p,h,O(m._payload),S)}if(jr(m)||Sr(m))return O!==null?null:c(p,h,m,S,null);Li(p,m)}return null}function y(p,h,m,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(m)||null,l(h,p,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ci:return p=p.get(S.key===null?m:S.key)||null,a(h,p,S,O);case zn:return p=p.get(S.key===null?m:S.key)||null,u(h,p,S,O);case Yt:var M=S._init;return y(p,h,m,M(S._payload),O)}if(jr(S)||Sr(S))return p=p.get(m)||null,c(h,p,S,O,null);Li(h,S)}return null}function v(p,h,m,S){for(var O=null,M=null,T=h,_=h=0,I=null;T!==null&&_<m.length;_++){T.index>_?(I=T,T=null):I=T.sibling;var R=d(p,T,m[_],S);if(R===null){T===null&&(T=I);break}e&&T&&R.alternate===null&&t(p,T),h=s(R,h,_),M===null?O=R:M.sibling=R,M=R,T=I}if(_===m.length)return n(p,T),ne&&En(p,_),O;if(T===null){for(;_<m.length;_++)T=f(p,m[_],S),T!==null&&(h=s(T,h,_),M===null?O=T:M.sibling=T,M=T);return ne&&En(p,_),O}for(T=r(p,T);_<m.length;_++)I=y(T,p,_,m[_],S),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?_:I.key),h=s(I,h,_),M===null?O=I:M.sibling=I,M=I);return e&&T.forEach(function(V){return t(p,V)}),ne&&En(p,_),O}function k(p,h,m,S){var O=Sr(m);if(typeof O!="function")throw Error(N(150));if(m=O.call(m),m==null)throw Error(N(151));for(var M=O=null,T=h,_=h=0,I=null,R=m.next();T!==null&&!R.done;_++,R=m.next()){T.index>_?(I=T,T=null):I=T.sibling;var V=d(p,T,R.value,S);if(V===null){T===null&&(T=I);break}e&&T&&V.alternate===null&&t(p,T),h=s(V,h,_),M===null?O=V:M.sibling=V,M=V,T=I}if(R.done)return n(p,T),ne&&En(p,_),O;if(T===null){for(;!R.done;_++,R=m.next())R=f(p,R.value,S),R!==null&&(h=s(R,h,_),M===null?O=R:M.sibling=R,M=R);return ne&&En(p,_),O}for(T=r(p,T);!R.done;_++,R=m.next())R=y(T,p,_,R.value,S),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?_:R.key),h=s(R,h,_),M===null?O=R:M.sibling=R,M=R);return e&&T.forEach(function(K){return t(p,K)}),ne&&En(p,_),O}function x(p,h,m,S){if(typeof m=="object"&&m!==null&&m.type===Fn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:e:{for(var O=m.key,M=h;M!==null;){if(M.key===O){if(O=m.type,O===Fn){if(M.tag===7){n(p,M.sibling),h=i(M,m.props.children),h.return=p,p=h;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Yt&&_c(O)===M.type){n(p,M.sibling),h=i(M,m.props),h.ref=Cr(p,M,m),h.return=p,p=h;break e}n(p,M);break}else t(p,M);M=M.sibling}m.type===Fn?(h=An(m.props.children,p.mode,S,m.key),h.return=p,p=h):(S=ss(m.type,m.key,m.props,null,p.mode,S),S.ref=Cr(p,h,m),S.return=p,p=S)}return o(p);case zn:e:{for(M=m.key;h!==null;){if(h.key===M)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ho(m,p.mode,S),h.return=p,p=h}return o(p);case Yt:return M=m._init,x(p,h,M(m._payload),S)}if(jr(m))return v(p,h,m,S);if(Sr(m))return k(p,h,m,S);Li(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Vo(m,p.mode,S),h.return=p,p=h),o(p)):n(p,h)}return x}var lr=Bd(!0),zd=Bd(!1),xs=gn(null),Cs=null,Qn=null,Da=null;function La(){Da=Qn=Cs=null}function ba(e){var t=xs.current;ee(xs),e._currentValue=t}function Ml(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nr(e,t){Cs=e,Da=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Da!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Cs===null)throw Error(N(308));Qn=e,Cs.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var Nn=null;function $a(e){Nn===null?Nn=[e]:Nn.push(e)}function Fd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vt(e,n)}return i=r.interleaved,i===null?(t.next=t,$a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vt(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xa(e,n)}}function Ec(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,r){var i=e.updateQueue;Xt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,k=l;switch(d=t,y=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=se({},f,d);break e;case 2:Xt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=f):c=c.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Rn|=o,e.lanes=o,e.memoizedState=f}}function xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var _i={},Tt=gn(_i),oi=gn(_i),li=gn(_i);function Tn(e){if(e===_i)throw Error(N(174));return e}function za(e,t){switch(X(li,t),X(oi,e),X(Tt,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dl(t,e)}ee(Tt),X(Tt,t)}function ar(){ee(Tt),ee(oi),ee(li)}function Vd(e){Tn(li.current);var t=Tn(Tt.current),n=dl(t,e.type);t!==n&&(X(oi,e),X(Tt,n))}function Fa(e){oi.current===e&&(ee(Tt),ee(oi))}var re=gn(0);function Ns(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bo=[];function Ua(){for(var e=0;e<bo.length;e++)bo[e]._workInProgressVersionPrimary=null;bo.length=0}var es=Kt.ReactCurrentDispatcher,$o=Kt.ReactCurrentBatchConfig,jn=0,ie=null,ge=null,we=null,Ts=!1,Hr=!1,ai=0,sg=0;function Ne(){throw Error(N(321))}function Va(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Ha(e,t,n,r,i,s){if(jn=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?ug:cg,e=n(r,i),Hr){s=0;do{if(Hr=!1,ai=0,25<=s)throw Error(N(301));s+=1,we=ge=null,t.updateQueue=null,es.current=fg,e=n(r,i)}while(Hr)}if(es.current=Os,t=ge!==null&&ge.next!==null,jn=0,we=ge=ie=null,Ts=!1,t)throw Error(N(300));return e}function Wa(){var e=ai!==0;return ai=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ie.memoizedState=we=e:we=we.next=e,we}function ct(){if(ge===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=we===null?ie.memoizedState:we.next;if(t!==null)we=t,ge=e;else{if(e===null)throw Error(N(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},we===null?ie.memoizedState=we=e:we=we.next=e}return we}function ui(e,t){return typeof t=="function"?t(e):t}function Bo(e){var t=ct(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((jn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ie.lanes|=c,Rn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,St(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ie.lanes|=s,Rn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zo(e){var t=ct(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);St(s,t.memoizedState)||(Ue=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Hd(){}function Wd(e,t){var n=ie,r=ct(),i=t(),s=!St(r.memoizedState,i);if(s&&(r.memoizedState=i,Ue=!0),r=r.queue,Ka(Jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,ci(9,qd.bind(null,n,r,i,t),void 0,null),Se===null)throw Error(N(349));jn&30||Kd(n,t,i)}return i}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qd(e,t,n,r){t.value=n,t.getSnapshot=r,Qd(t)&&Yd(e)}function Jd(e,t,n){return n(function(){Qd(t)&&Yd(e)})}function Qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Yd(e){var t=Vt(e,1);t!==null&&vt(t,e,1,-1)}function Cc(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t.queue=e,e=e.dispatch=ag.bind(null,ie,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xd(){return ct().memoizedState}function ts(e,t,n,r){var i=Et();ie.flags|=e,i.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function Zs(e,t,n,r){var i=ct();r=r===void 0?null:r;var s=void 0;if(ge!==null){var o=ge.memoizedState;if(s=o.destroy,r!==null&&Va(r,o.deps)){i.memoizedState=ci(t,n,s,r);return}}ie.flags|=e,i.memoizedState=ci(1|t,n,s,r)}function Pc(e,t){return ts(8390656,8,e,t)}function Ka(e,t){return Zs(2048,8,e,t)}function Zd(e,t){return Zs(4,2,e,t)}function Gd(e,t){return Zs(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Zs(4,4,eh.bind(null,t,e),n)}function qa(){}function nh(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ih(e,t,n){return jn&21?(St(n,t)||(n=ud(),ie.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function og(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=$o.transition;$o.transition={};try{e(!1),t()}finally{J=n,$o.transition=r}}function sh(){return ct().memoizedState}function lg(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oh(e))lh(t,n);else if(n=Fd(e,t,n,r),n!==null){var i=be();vt(n,e,r,i),ah(n,t,r)}}function ag(e,t,n){var r=un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oh(e))lh(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,St(l,o)){var a=t.interleaved;a===null?(i.next=i,$a(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Fd(e,t,i,r),n!==null&&(i=be(),vt(n,e,r,i),ah(n,t,r))}}function oh(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function lh(e,t){Hr=Ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ah(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xa(e,n)}}var Os={readContext:ut,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},ug={readContext:ut,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lg.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:qa,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=og.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,i=Et();if(ne){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Se===null)throw Error(N(349));jn&30||Kd(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Pc(Jd.bind(null,r,s,e),[e]),r.flags|=2048,ci(9,qd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Et(),t=Se.identifierPrefix;if(ne){var n=$t,r=bt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ai++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cg={readContext:ut,useCallback:nh,useContext:ut,useEffect:Ka,useImperativeHandle:th,useInsertionEffect:Zd,useLayoutEffect:Gd,useMemo:rh,useReducer:Bo,useRef:Xd,useState:function(){return Bo(ui)},useDebugValue:qa,useDeferredValue:function(e){var t=ct();return ih(t,ge.memoizedState,e)},useTransition:function(){var e=Bo(ui)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:sh,unstable_isNewReconciler:!1},fg={readContext:ut,useCallback:nh,useContext:ut,useEffect:Ka,useImperativeHandle:th,useInsertionEffect:Zd,useLayoutEffect:Gd,useMemo:rh,useReducer:zo,useRef:Xd,useState:function(){return zo(ui)},useDebugValue:qa,useDeferredValue:function(e){var t=ct();return ge===null?t.memoizedState=e:ih(t,ge.memoizedState,e)},useTransition:function(){var e=zo(ui)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:sh,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gs={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),i=un(e),s=Bt(r,i);s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,i),t!==null&&(vt(t,e,i,r),Gi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),i=un(e),s=Bt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,i),t!==null&&(vt(t,e,i,r),Gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=un(e),i=Bt(n,r);i.tag=2,t!=null&&(i.callback=t),t=ln(e,i,r),t!==null&&(vt(t,e,r,n),Gi(t,e,r))}};function Nc(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(i,s):!0}function uh(e,t,n){var r=!1,i=hn,s=t.contextType;return typeof s=="object"&&s!==null?s=ut(s):(i=He(t)?In:Me.current,r=t.contextTypes,s=(r=r!=null)?sr(e,i):hn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function Rl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ba(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ut(s):(s=He(t)?In:Me.current,i.context=sr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(jl(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gs.enqueueReplaceState(i,i.state,null),Ps(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=Bm(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Fo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dg=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Is||(Is=!0,Wl=r),Dl(e,t)},n}function fh(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Dl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dl(e,t),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pg.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var hg=Kt.ReactCurrentOwner,Ue=!1;function De(e,t,n,r){t.child=e===null?zd(t,null,n,r):lr(t,e.child,n,r)}function Mc(e,t,n,r,i){n=n.render;var s=t.ref;return nr(t,i),r=Ha(e,t,n,r,s,i),n=Wa(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(ne&&n&&Ma(t),t.flags|=1,De(e,t,r,i),t.child)}function jc(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!tu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dh(e,t,s,r,i)):(e=ss(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&e.ref===t.ref)return Ht(e,t,i)}return t.flags|=1,e=cn(s,r),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ni(s,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Ht(e,t,i)}return Ll(e,t,n,r,i)}function hh(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Xn,Je),Je|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Xn,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(Xn,Je),Je|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,X(Xn,Je),Je|=r;return De(e,t,i,n),t.child}function ph(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,i){var s=He(n)?In:Me.current;return s=sr(t,s),nr(t,i),n=Ha(e,t,n,r,s,i),r=Wa(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(ne&&r&&Ma(t),t.flags|=1,De(e,t,n,i),t.child)}function Rc(e,t,n,r,i){if(He(n)){var s=!0;ks(t)}else s=!1;if(nr(t,i),t.stateNode===null)ns(e,t),uh(t,n,r),Rl(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=He(n)?In:Me.current,u=sr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Tc(t,o,r,u),Xt=!1;var d=t.memoizedState;o.state=d,Ps(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Ve.current||Xt?(typeof c=="function"&&(jl(t,n,c,r),a=t.memoizedState),(l=Xt||Nc(t,n,l,r,d,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ud(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,f=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ut(a):(a=He(n)?In:Me.current,a=sr(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Tc(t,o,r,a),Xt=!1,d=t.memoizedState,o.state=d,Ps(t,r,o,i);var v=t.memoizedState;l!==f||d!==v||Ve.current||Xt?(typeof y=="function"&&(jl(t,n,y,r),v=t.memoizedState),(u=Xt||Nc(t,n,u,r,d,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return bl(e,t,n,r,s,i)}function bl(e,t,n,r,i,s){ph(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&wc(t,n,!1),Ht(e,t,s);r=t.stateNode,hg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=lr(t,e.child,null,s),t.child=lr(t,null,l,s)):De(e,t,l,s),t.memoizedState=r.state,i&&wc(t,n,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),za(e,t.containerInfo)}function Dc(e,t,n,r,i){return or(),Ra(i),t.flags|=256,De(e,t,n,r),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),X(re,i&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=no(o,r,0,null),e=An(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bl(n),t.memoizedState=$l,e):Ja(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pg(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=cn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cn(l,s):(s=An(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Bl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=$l,r}return s=e.child,e=s.sibling,r=cn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ja(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bi(e,t,n,r){return r!==null&&Ra(r),lr(t,e.child,null,n),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pg(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Fo(Error(N(422))),bi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=no({mode:"visible",children:r.children},i,0,null),s=An(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&lr(t,e.child,null,o),t.child.memoizedState=Bl(o),t.memoizedState=$l,s);if(!(t.mode&1))return bi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(N(419)),r=Fo(s,r,void 0),bi(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ue||l){if(r=Se,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vt(e,i),vt(r,e,i,-1))}return eu(),r=Fo(Error(N(421))),bi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qe=on(i.nextSibling),Xe=t,ne=!0,mt=null,e!==null&&(it[st++]=bt,it[st++]=$t,it[st++]=Mn,bt=e.id,$t=e.overflow,Mn=t),t=Ja(t,r.children),t.flags|=4096,t)}function Lc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ml(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gh(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(De(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,n,t);else if(e.tag===19)Lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ns(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ns(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mg(e,t,n){switch(t.tag){case 3:mh(t),or();break;case 5:Vd(t);break;case 1:He(t.type)&&ks(t);break;case 4:za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;X(xs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?yh(e,t,n):(X(re,re.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);X(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,hh(e,t,n)}return Ht(e,t,n)}var vh,zl,wh,Sh;vh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zl=function(){};wh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Tn(Tt.current);var s=null;switch(n){case"input":i=al(e,i),r=al(e,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=fl(e,i),r=fl(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}hl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&G("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Sh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yg(e,t,n){var r=t.pendingProps;switch(ja(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return He(t.type)&&Ss(),Te(t),null;case 3:return r=t.stateNode,ar(),ee(Ve),ee(Me),Ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(Jl(mt),mt=null))),zl(e,t),Te(t),null;case 5:Fa(t);var i=Tn(li.current);if(n=t.type,e!==null&&t.stateNode!=null)wh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Te(t),null}if(e=Tn(Tt.current),Di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pt]=t,r[si]=s,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)G(Dr[i],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Wu(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":qu(r,s),G("invalid",r)}hl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",""+l]):Qr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Pi(r),Ku(r,s,!0);break;case"textarea":Pi(r),Ju(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ws)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pt]=t,e[si]=r,vh(e,t,!1,!1),t.stateNode=e;e:{switch(o=pl(n,r),n){case"dialog":G("cancel",e),G("close",e),i=r;break;case"iframe":case"object":case"embed":G("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)G(Dr[i],e);i=r;break;case"source":G("error",e),i=r;break;case"img":case"image":case"link":G("error",e),G("load",e),i=r;break;case"details":G("toggle",e),i=r;break;case"input":Wu(e,r),i=al(e,r),G("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),G("invalid",e);break;case"textarea":qu(e,r),i=fl(e,r),G("invalid",e);break;default:i=r}hl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Xf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Qf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yr(e,a):typeof a=="number"&&Yr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&G("scroll",e):a!=null&&va(e,s,a,o))}switch(n){case"input":Pi(e),Ku(e,r,!1);break;case"textarea":Pi(e),Ju(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Tn(li.current),Tn(Tt.current),Di(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(s=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Te(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Qe!==null&&t.mode&1&&!(t.flags&128))$d(),or(),t.flags|=98560,s=!1;else if(s=Di(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Pt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),s=!1}else mt!==null&&(Jl(mt),mt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ve===0&&(ve=3):eu())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return ar(),zl(e,t),e===null&&ri(t.stateNode.containerInfo),Te(t),null;case 10:return ba(t.type._context),Te(t),null;case 17:return He(t.type)&&Ss(),Te(t),null;case 19:if(ee(re),s=t.memoizedState,s===null)return Te(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Pr(s,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ns(e),o!==null){for(t.flags|=128,Pr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&fe()>cr&&(t.flags|=128,r=!0,Pr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ns(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Te(t),null}else 2*fe()-s.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,Pr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fe(),t.sibling=null,n=re.current,X(re,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Ga(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function gg(e,t){switch(ja(t),t.tag){case 1:return He(t.type)&&Ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),ee(Ve),ee(Me),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fa(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return ar(),null;case 10:return ba(t.type._context),null;case 22:case 23:return Ga(),null;case 24:return null;default:return null}}var $i=!1,Ie=!1,vg=typeof WeakSet=="function"?WeakSet:Set,D=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Fl(e,t,n){try{n()}catch(r){ce(e,t,r)}}var bc=!1;function wg(e,t){if(xl=ys,e=Cd(),Ia(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cl={focusedElem:e,selectionRange:n},ys=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,x=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:dt(t.type,k),x);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){ce(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=bc,bc=!1,v}function Wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fl(t,n,s)}i=i.next}while(i!==r)}}function eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ul(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[si],delete t[Tl],delete t[tg],delete t[ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _h(e){return e.tag===5||e.tag===3||e.tag===4}function $c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}function Hl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hl(e,t,n),e=e.sibling;e!==null;)Hl(e,t,n),e=e.sibling}var xe=null,ht=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Eh(e,t,n),n=n.sibling}function Eh(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 5:Ie||Yn(n,t);case 6:var r=xe,i=ht;xe=null,Qt(e,t,n),xe=r,ht=i,xe!==null&&(ht?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ht?(e=xe,n=n.stateNode,e.nodeType===8?Do(e.parentNode,n):e.nodeType===1&&Do(e,n),ei(e)):Do(xe,n.stateNode));break;case 4:r=xe,i=ht,xe=n.stateNode.containerInfo,ht=!0,Qt(e,t,n),xe=r,ht=i;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fl(n,t,o),i=i.next}while(i!==r)}Qt(e,t,n);break;case 1:if(!Ie&&(Yn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ce(n,t,l)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Qt(e,t,n),Ie=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vg),t.forEach(function(r){var i=Tg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:xe=l.stateNode,ht=!1;break e;case 3:xe=l.stateNode.containerInfo,ht=!0;break e;case 4:xe=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(xe===null)throw Error(N(160));Eh(s,o,i),xe=null,ht=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xh(t,e),t=t.sibling}function xh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),_t(e),r&4){try{Wr(3,e,e.return),eo(3,e)}catch(k){ce(e,e.return,k)}try{Wr(5,e,e.return)}catch(k){ce(e,e.return,k)}}break;case 1:ft(t,e),_t(e),r&512&&n!==null&&Yn(n,n.return);break;case 5:if(ft(t,e),_t(e),r&512&&n!==null&&Yn(n,n.return),e.flags&32){var i=e.stateNode;try{Yr(i,"")}catch(k){ce(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Kf(i,s),pl(l,o);var u=pl(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Xf(i,f):c==="dangerouslySetInnerHTML"?Qf(i,f):c==="children"?Yr(i,f):va(i,c,f,u)}switch(l){case"input":ul(i,s);break;case"textarea":qf(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Zn(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?Zn(i,!!s.multiple,s.defaultValue,!0):Zn(i,!!s.multiple,s.multiple?[]:"",!1))}i[si]=s}catch(k){ce(e,e.return,k)}}break;case 6:if(ft(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){ce(e,e.return,k)}}break;case 3:if(ft(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(k){ce(e,e.return,k)}break;case 4:ft(t,e),_t(e);break;case 13:ft(t,e),_t(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xa=fe())),r&4&&Bc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||c,ft(t,e),Ie=u):ft(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(f=D=c;D!==null;){switch(d=D,y=d.child,d.tag){case 0:case 11:case 14:case 15:Wr(4,d,d.return);break;case 1:Yn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ce(r,n,k)}}break;case 5:Yn(d,d.return);break;case 22:if(d.memoizedState!==null){Fc(f);continue}}y!==null?(y.return=d,D=y):Fc(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Yf("display",o))}catch(k){ce(e,e.return,k)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){ce(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(t,e),_t(e),r&4&&Bc(e);break;case 21:break;default:ft(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_h(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yr(i,""),r.flags&=-33);var s=$c(e);Hl(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$c(e);Vl(e,l,o);break;default:throw Error(N(161))}}catch(a){ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sg(e,t,n){D=e,Ch(e)}function Ch(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$i;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ie;l=$i;var u=Ie;if($i=o,(Ie=a)&&!u)for(D=i;D!==null;)o=D,a=o.child,o.tag===22&&o.memoizedState!==null?Uc(i):a!==null?(a.return=o,D=a):Uc(i);for(;s!==null;)D=s,Ch(s),s=s.sibling;D=i,$i=l,Ie=u}zc(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):zc(e)}}function zc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||eo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ie||t.flags&512&&Ul(t)}catch(d){ce(t,t.return,d)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Fc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Uc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eo(4,t)}catch(a){ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ce(t,i,a)}}var s=t.return;try{Ul(t)}catch(a){ce(t,s,a)}break;case 5:var o=t.return;try{Ul(t)}catch(a){ce(t,o,a)}}}catch(a){ce(t,t.return,a)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var kg=Math.ceil,As=Kt.ReactCurrentDispatcher,Qa=Kt.ReactCurrentOwner,at=Kt.ReactCurrentBatchConfig,W=0,Se=null,he=null,Ce=0,Je=0,Xn=gn(0),ve=0,fi=null,Rn=0,to=0,Ya=0,Kr=null,Fe=null,Xa=0,cr=1/0,Rt=null,Is=!1,Wl=null,an=null,Bi=!1,tn=null,Ms=0,qr=0,Kl=null,rs=-1,is=0;function be(){return W&6?fe():rs!==-1?rs:rs=fe()}function un(e){return e.mode&1?W&2&&Ce!==0?Ce&-Ce:ig.transition!==null?(is===0&&(is=ud()),is):(e=J,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function vt(e,t,n,r){if(50<qr)throw qr=0,Kl=null,Error(N(185));wi(e,n,r),(!(W&2)||e!==Se)&&(e===Se&&(!(W&2)&&(to|=n),ve===4&&Gt(e,Ce)),We(e,r),n===1&&W===0&&!(t.mode&1)&&(cr=fe()+500,Xs&&vn()))}function We(e,t){var n=e.callbackNode;iy(e,t);var r=ms(e,e===Se?Ce:0);if(r===0)n!==null&&Xu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xu(n),t===1)e.tag===0?rg(Vc.bind(null,e)):Dd(Vc.bind(null,e)),Gy(function(){!(W&6)&&vn()}),n=null;else{switch(cd(r)){case 1:n=Ea;break;case 4:n=ld;break;case 16:n=ps;break;case 536870912:n=ad;break;default:n=ps}n=jh(n,Ph.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ph(e,t){if(rs=-1,is=0,W&6)throw Error(N(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=ms(e,e===Se?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=js(e,r);else{t=r;var i=W;W|=2;var s=Th();(Se!==e||Ce!==t)&&(Rt=null,cr=fe()+500,On(e,t));do try{xg();break}catch(l){Nh(e,l)}while(!0);La(),As.current=s,W=i,he!==null?t=0:(Se=null,Ce=0,t=ve)}if(t!==0){if(t===2&&(i=wl(e),i!==0&&(r=i,t=ql(e,i))),t===1)throw n=fi,On(e,0),Gt(e,r),We(e,fe()),n;if(t===6)Gt(e,r);else{if(i=e.current.alternate,!(r&30)&&!_g(i)&&(t=js(e,r),t===2&&(s=wl(e),s!==0&&(r=s,t=ql(e,s))),t===1))throw n=fi,On(e,0),Gt(e,r),We(e,fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:xn(e,Fe,Rt);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=Xa+500-fe(),10<t)){if(ms(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Nl(xn.bind(null,e,Fe,Rt),t);break}xn(e,Fe,Rt);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-gt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kg(r/1960))-r,10<r){e.timeoutHandle=Nl(xn.bind(null,e,Fe,Rt),r);break}xn(e,Fe,Rt);break;case 5:xn(e,Fe,Rt);break;default:throw Error(N(329))}}}return We(e,fe()),e.callbackNode===n?Ph.bind(null,e):null}function ql(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(On(e,t).flags|=256),e=js(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Jl(t)),e}function Jl(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!St(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~Ya,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Vc(e){if(W&6)throw Error(N(327));rr();var t=ms(e,0);if(!(t&1))return We(e,fe()),null;var n=js(e,t);if(e.tag!==0&&n===2){var r=wl(e);r!==0&&(t=r,n=ql(e,r))}if(n===1)throw n=fi,On(e,0),Gt(e,t),We(e,fe()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Fe,Rt),We(e,fe()),null}function Za(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(cr=fe()+500,Xs&&vn())}}function Dn(e){tn!==null&&tn.tag===0&&!(W&6)&&rr();var t=W;W|=1;var n=at.transition,r=J;try{if(at.transition=null,J=1,e)return e()}finally{J=r,at.transition=n,W=t,!(W&6)&&vn()}}function Ga(){Je=Xn.current,ee(Xn)}function On(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zy(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(ja(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ss();break;case 3:ar(),ee(Ve),ee(Me),Ua();break;case 5:Fa(r);break;case 4:ar();break;case 13:ee(re);break;case 19:ee(re);break;case 10:ba(r.type._context);break;case 22:case 23:Ga()}n=n.return}if(Se=e,he=e=cn(e.current,null),Ce=Je=t,ve=0,fi=null,Ya=to=Rn=0,Fe=Kr=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nn=null}return e}function Nh(e,t){do{var n=he;try{if(La(),es.current=Os,Ts){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ts=!1}if(jn=0,we=ge=ie=null,Hr=!1,ai=0,Qa.current=null,n===null||n.return===null){ve=1,fi=t,he=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ac(o);if(y!==null){y.flags&=-257,Ic(y,o,l,s,t),y.mode&1&&Oc(s,u,t),t=y,a=u;var v=t.updateQueue;if(v===null){var k=new Set;k.add(a),t.updateQueue=k}else v.add(a);break e}else{if(!(t&1)){Oc(s,u,t),eu();break e}a=Error(N(426))}}else if(ne&&l.mode&1){var x=Ac(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ic(x,o,l,s,t),Ra(ur(a,l));break e}}s=a=ur(a,l),ve!==4&&(ve=2),Kr===null?Kr=[s]:Kr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=ch(s,a,t);Ec(s,p);break e;case 1:l=a;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(an===null||!an.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=fh(s,l,t);Ec(s,S);break e}}s=s.return}while(s!==null)}Ah(n)}catch(O){t=O,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Th(){var e=As.current;return As.current=Os,e===null?Os:e}function eu(){(ve===0||ve===3||ve===2)&&(ve=4),Se===null||!(Rn&268435455)&&!(to&268435455)||Gt(Se,Ce)}function js(e,t){var n=W;W|=2;var r=Th();(Se!==e||Ce!==t)&&(Rt=null,On(e,t));do try{Eg();break}catch(i){Nh(e,i)}while(!0);if(La(),W=n,As.current=r,he!==null)throw Error(N(261));return Se=null,Ce=0,ve}function Eg(){for(;he!==null;)Oh(he)}function xg(){for(;he!==null&&!Qm();)Oh(he)}function Oh(e){var t=Mh(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?Ah(e):he=t,Qa.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gg(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,he=null;return}}else if(n=yg(n,t,Je),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ve===0&&(ve=5)}function xn(e,t,n){var r=J,i=at.transition;try{at.transition=null,J=1,Cg(e,t,n,r)}finally{at.transition=i,J=r}return null}function Cg(e,t,n,r){do rr();while(tn!==null);if(W&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sy(e,s),e===Se&&(he=Se=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,jh(ps,function(){return rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=at.transition,at.transition=null;var o=J;J=1;var l=W;W|=4,Qa.current=null,wg(e,n),xh(n,e),Wy(Cl),ys=!!xl,Cl=xl=null,e.current=n,Sg(n),Ym(),W=l,J=o,at.transition=s}else e.current=n;if(Bi&&(Bi=!1,tn=e,Ms=i),s=e.pendingLanes,s===0&&(an=null),Gm(n.stateNode),We(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Is)throw Is=!1,e=Wl,Wl=null,e;return Ms&1&&e.tag!==0&&rr(),s=e.pendingLanes,s&1?e===Kl?qr++:(qr=0,Kl=e):qr=0,vn(),null}function rr(){if(tn!==null){var e=cd(Ms),t=at.transition,n=J;try{if(at.transition=null,J=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,Ms=0,W&6)throw Error(N(331));var i=W;for(W|=4,D=e.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Wr(8,c,s)}var f=c.child;if(f!==null)f.return=c,D=f;else for(;D!==null;){c=D;var d=c.sibling,y=c.return;if(kh(c),c===u){D=null;break}if(d!==null){d.return=y,D=d;break}D=y}}}var v=s.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,D=p;break e}D=s.return}}var h=e.current;for(D=h;D!==null;){o=D;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,D=m;else e:for(o=h;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eo(9,l)}}catch(O){ce(l,l.return,O)}if(l===o){D=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,D=S;break e}D=l.return}}if(W=i,vn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ks,e)}catch{}r=!0}return r}finally{J=n,at.transition=t}}return!1}function Hc(e,t,n){t=ur(n,t),t=ch(e,t,1),e=ln(e,t,1),t=be(),e!==null&&(wi(e,1,t),We(e,t))}function ce(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){e=ur(n,e),e=fh(t,e,1),t=ln(t,e,1),e=be(),t!==null&&(wi(t,1,e),We(t,e));break}}t=t.return}}function Pg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Ce&n)===n&&(ve===4||ve===3&&(Ce&130023424)===Ce&&500>fe()-Xa?On(e,0):Ya|=n),We(e,t)}function Ih(e,t){t===0&&(e.mode&1?(t=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):t=1);var n=be();e=Vt(e,t),e!==null&&(wi(e,t,n),We(e,n))}function Ng(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ih(e,n)}function Tg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Ih(e,n)}var Mh;Mh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,mg(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ne&&t.flags&1048576&&Ld(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var i=sr(t,Me.current);nr(t,n),i=Ha(null,t,r,e,i,n);var s=Wa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(s=!0,ks(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ba(t),i.updater=Gs,t.stateNode=i,i._reactInternals=t,Rl(t,r,e,n),t=bl(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&Ma(t),De(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ag(r),e=dt(r,e),i){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=Rc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=jc(null,t,r,dt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),Ll(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),Rc(e,t,r,i,n);case 3:e:{if(mh(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ud(e,t),Ps(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ur(Error(N(423)),t),t=Dc(e,t,r,n,i);break e}else if(r!==i){i=ur(Error(N(424)),t),t=Dc(e,t,r,n,i);break e}else for(Qe=on(t.stateNode.containerInfo.firstChild),Xe=t,ne=!0,mt=null,n=zd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===i){t=Ht(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return Vd(t),e===null&&Il(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Pl(r,i)?o=null:s!==null&&Pl(r,s)&&(t.flags|=32),ph(e,t),De(e,t,o,n),t.child;case 6:return e===null&&Il(t),null;case 13:return yh(e,t,n);case 4:return za(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),Mc(e,t,r,i,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,X(xs,r._currentValue),r._currentValue=o,s!==null)if(St(s.value,o)){if(s.children===i.children&&!Ve.current){t=Ht(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ml(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ml(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}De(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nr(t,n),i=ut(i),r=r(i),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,i=dt(r,t.pendingProps),i=dt(r.type,i),jc(e,t,r,i,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),ns(e,t),t.tag=1,He(r)?(e=!0,ks(t)):e=!1,nr(t,n),uh(t,r,i),Rl(t,r,i,n),bl(null,t,r,!0,e,n);case 19:return gh(e,t,n);case 22:return hh(e,t,n)}throw Error(N(156,t.tag))};function jh(e,t){return od(e,t)}function Og(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Og(e,t,n,r)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ag(e){if(typeof e=="function")return tu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sa)return 11;if(e===ka)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")tu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return An(n.children,i,s,t);case wa:o=8,i|=8;break;case il:return e=lt(12,n,t,i|2),e.elementType=il,e.lanes=s,e;case sl:return e=lt(13,n,t,i),e.elementType=sl,e.lanes=s,e;case ol:return e=lt(19,n,t,i),e.elementType=ol,e.lanes=s,e;case Vf:return no(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ff:o=10;break e;case Uf:o=9;break e;case Sa:o=11;break e;case ka:o=14;break e;case Yt:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=lt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function An(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function no(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Vf,e.lanes=n,e.stateNode={isHidden:!1},e}function Vo(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ig(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nu(e,t,n,r,i,s,o,l,a){return e=new Ig(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=lt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ba(s),e}function Mg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rh(e){if(!e)return hn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(He(n))return Rd(e,n,t)}return t}function Dh(e,t,n,r,i,s,o,l,a){return e=nu(n,r,!0,e,i,s,o,l,a),e.context=Rh(null),n=e.current,r=be(),i=un(n),s=Bt(r,i),s.callback=t??null,ln(n,s,i),e.current.lanes=i,wi(e,i,r),We(e,r),e}function ro(e,t,n,r){var i=t.current,s=be(),o=un(i);return n=Rh(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(i,t,o),e!==null&&(vt(e,i,o,s),Gi(e,i,o)),o}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ru(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}function jg(){return null}var Lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}io.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ro(e,t,null,null)};io.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){ro(null,e,null,null)}),t[Ut]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&md(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function Rg(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rs(o);s.call(u)}}var o=Dh(t,r,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=o,e[Ut]=o.current,ri(e.nodeType===8?e.parentNode:e),Dn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rs(a);l.call(u)}}var a=nu(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=a,e[Ut]=a.current,ri(e.nodeType===8?e.parentNode:e),Dn(function(){ro(t,a,n,r)}),a}function oo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Rs(o);l.call(a)}}ro(t,o,e,i)}else o=Rg(n,t,e,i,r);return Rs(o)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rr(t.pendingLanes);n!==0&&(xa(t,n|1),We(t,fe()),!(W&6)&&(cr=fe()+500,vn()))}break;case 13:Dn(function(){var r=Vt(e,1);if(r!==null){var i=be();vt(r,e,1,i)}}),ru(e,1)}};Ca=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=be();vt(t,e,134217728,n)}ru(e,134217728)}};dd=function(e){if(e.tag===13){var t=un(e),n=Vt(e,t);if(n!==null){var r=be();vt(n,e,t,r)}ru(e,t)}};hd=function(){return J};pd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};yl=function(e,t,n){switch(t){case"input":if(ul(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ys(r);if(!i)throw Error(N(90));Wf(r),ul(r,i)}}}break;case"textarea":qf(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};ed=Za;td=Dn;var Dg={usingClientEntryPoint:!1,Events:[ki,Wn,Ys,Zf,Gf,Za]},Nr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lg={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=id(e),e===null?null:e.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{Ks=zi.inject(Lg),Nt=zi}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(N(200));return Mg(e,t,null,n)};tt.createRoot=function(e,t){if(!su(e))throw Error(N(299));var n=!1,r="",i=Lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nu(e,1,!1,null,null,n,!1,r,i),e[Ut]=t.current,ri(e.nodeType===8?e.parentNode:e),new iu(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=id(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Dn(e)};tt.hydrate=function(e,t,n){if(!so(t))throw Error(N(200));return oo(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!su(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Dh(t,null,e,1,n??null,i,!1,s,o),e[Ut]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new io(t)};tt.render=function(e,t,n){if(!so(t))throw Error(N(200));return oo(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!so(e))throw Error(N(40));return e._reactRootContainer?(Dn(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};tt.unstable_batchedUpdates=Za;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!so(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return oo(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),bf.exports=tt;var bg=bf.exports,$h,qc=bg;$h=qc.createRoot,qc.hydrateRoot;let $g="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Bg=(e=21)=>{let t="",n=e|0;for(;n--;)t+=$g[Math.random()*64|0];return t};function yt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function fr(e){return!!e&&!!e[Ge]}function Ln(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===qg}(e)||Array.isArray(e)||!!e[tf]||!!(!((t=e.constructor)===null||t===void 0)&&t[tf])||ou(e)||lu(e))}function di(e,t,n){n===void 0&&(n=!1),yr(e)===0?(n?Object.keys:du)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function yr(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ou(e)?2:lu(e)?3:0}function Ql(e,t){return yr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zg(e,t){return yr(e)===2?e.get(t):e[t]}function Bh(e,t,n){var r=yr(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Fg(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ou(e){return Wg&&e instanceof Map}function lu(e){return Kg&&e instanceof Set}function Cn(e){return e.o||e.t}function au(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Jg(e);delete t[Ge];for(var n=du(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function uu(e,t){return t===void 0&&(t=!1),cu(e)||fr(e)||!Ln(e)||(yr(e)>1&&(e.set=e.add=e.clear=e.delete=Ug),Object.freeze(e),t&&di(e,function(n,r){return uu(r,!0)},!0)),e}function Ug(){yt(2)}function cu(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ot(e){var t=Qg[e];return t||yt(18,e),t}function Jc(){return hi}function Wo(e,t){t&&(Ot("Patches"),e.u=[],e.s=[],e.v=t)}function Ds(e){Yl(e),e.p.forEach(Vg),e.p=null}function Yl(e){e===hi&&(hi=e.l)}function Qc(e){return hi={p:[],l:hi,h:e,m:!0,_:0}}function Vg(e){var t=e[Ge];t.i===0||t.i===1?t.j():t.g=!0}function Ko(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ot("ES5").S(t,e,r),r?(n[Ge].P&&(Ds(t),yt(4)),Ln(e)&&(e=Ls(t,e),t.l||bs(t,e)),t.u&&Ot("Patches").M(n[Ge].t,e,t.u,t.s)):e=Ls(t,n,[]),Ds(t),t.u&&t.v(t.u,t.s),e!==zh?e:void 0}function Ls(e,t,n){if(cu(t))return t;var r=t[Ge];if(!r)return di(t,function(l,a){return Yc(e,r,t,l,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return bs(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=au(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),di(s,function(l,a){return Yc(e,r,i,l,a,n,o)}),bs(e,i,!1),n&&e.u&&Ot("Patches").N(r,n,e.u,e.s)}return r.o}function Yc(e,t,n,r,i,s,o){if(fr(i)){var l=Ls(e,i,s&&t&&t.i!==3&&!Ql(t.R,r)?s.concat(r):void 0);if(Bh(n,r,l),!fr(l))return;e.m=!1}else o&&n.add(i);if(Ln(i)&&!cu(i)){if(!e.h.D&&e._<1)return;Ls(e,i),t&&t.A.l||bs(e,i)}}function bs(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&uu(t,n)}function qo(e,t){var n=e[Ge];return(n?Cn(n):e)[t]}function Xc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xl(e){e.P||(e.P=!0,e.l&&Xl(e.l))}function Jo(e){e.o||(e.o=au(e.t))}function Zl(e,t,n){var r=ou(t)?Ot("MapSet").F(t,n):lu(t)?Ot("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),l={i:o?1:0,A:s?s.A:Jc(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},a=l,u=Gl;o&&(a=[l],u=Lr);var c=Proxy.revocable(a,u),f=c.revoke,d=c.proxy;return l.k=d,l.j=f,d}(t,n):Ot("ES5").J(t,n);return(n?n.A:Jc()).p.push(r),r}function Hg(e){return fr(e)||yt(22,e),function t(n){if(!Ln(n))return n;var r,i=n[Ge],s=yr(n);if(i){if(!i.P&&(i.i<4||!Ot("ES5").K(i)))return i.t;i.I=!0,r=Zc(n,s),i.I=!1}else r=Zc(n,s);return di(r,function(o,l){i&&zg(i.t,o)===l||Bh(r,o,t(l))}),s===3?new Set(r):r}(e)}function Zc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return au(e)}var Gc,hi,fu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Wg=typeof Map<"u",Kg=typeof Set<"u",ef=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",zh=fu?Symbol.for("immer-nothing"):((Gc={})["immer-nothing"]=!0,Gc),tf=fu?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=fu?Symbol.for("immer-state"):"__$immer_state",qg=""+Object.prototype.constructor,du=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Jg=Object.getOwnPropertyDescriptors||function(e){var t={};return du(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Qg={},Gl={get:function(e,t){if(t===Ge)return e;var n=Cn(e);if(!Ql(n,t))return function(i,s,o){var l,a=Xc(s,o);return a?"value"in a?a.value:(l=a.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Ln(r)?r:r===qo(e.t,t)?(Jo(e),e.o[t]=Zl(e.A.h,r,e)):r},has:function(e,t){return t in Cn(e)},ownKeys:function(e){return Reflect.ownKeys(Cn(e))},set:function(e,t,n){var r=Xc(Cn(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=qo(Cn(e),t),s=i==null?void 0:i[Ge];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Fg(n,i)&&(n!==void 0||Ql(e.t,t)))return!0;Jo(e),Xl(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return qo(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Jo(e),Xl(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Cn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){yt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){yt(12)}},Lr={};di(Gl,function(e,t){Lr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Lr.deleteProperty=function(e,t){return Lr.set.call(this,e,t,void 0)},Lr.set=function(e,t,n){return Gl.set.call(this,e[0],t,n,e[0])};var Yg=function(){function e(n){var r=this;this.O=ef,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var a=r;return function(k){var x=this;k===void 0&&(k=l);for(var p=arguments.length,h=Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];return a.produce(k,function(S){var O;return(O=s).call.apply(O,[x,S].concat(h))})}}var u;if(typeof s!="function"&&yt(6),o!==void 0&&typeof o!="function"&&yt(7),Ln(i)){var c=Qc(r),f=Zl(r,i,void 0),d=!0;try{u=s(f),d=!1}finally{d?Ds(c):Yl(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(k){return Wo(c,o),Ko(k,c)},function(k){throw Ds(c),k}):(Wo(c,o),Ko(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===zh&&(u=void 0),r.D&&uu(u,!0),o){var y=[],v=[];Ot("Patches").M(i,u,y,v),o(y,v)}return u}yt(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(y){return i.apply(void 0,[y].concat(f))})};var o,l,a=r.produce(i,s,function(u,c){o=u,l=c});return typeof Promise<"u"&&a instanceof Promise?a.then(function(u){return[u,o,l]}):[a,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ln(n)||yt(8),fr(n)&&(n=Hg(n));var r=Qc(this),i=Zl(this,n,void 0);return i[Ge].C=!0,Yl(r),i},t.finishDraft=function(n,r){var i=n&&n[Ge],s=i.A;return Wo(s,r),Ko(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!ef&&yt(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ot("Patches").$;return fr(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},e}(),et=new Yg,Xg=et.produce;et.produceWithPatches.bind(et);et.setAutoFreeze.bind(et);et.setUseProxies.bind(et);et.applyPatches.bind(et);et.createDraft.bind(et);et.finishDraft.bind(et);class Zg{constructor(t){const n=Gg();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=Math.trunc(t))}}function Gg(){let e=4022871197;return function(n){const r=n.toString();for(let i=0;i<r.length;i++){e+=r.charCodeAt(i);let s=.02519603282416938*e;e=s>>>0,s-=e,s*=e,e=s>>>0,s-=e,e+=s*4294967296}return(e>>>0)*23283064365386963e-26}}function nf(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function Fh(e,t){const n=new Zg(e),r=n.next.bind(n);return t&&nf(t,n),r.state=()=>nf(n,{}),r}class rf{constructor(t){this.state=t||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const t=this.state,n=t.prngstate?"":t.seed,r=Fh(n,t.prngstate),i=r();return this.state={...t,prngstate:r.state()},i}api(){const t=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},r={};for(const s in n){const o=n[s];r[s]=l=>l===void 0?Math.floor(t()*o)+1:Array.from({length:l}).map(()=>Math.floor(t()*o)+1)}function i(s=6,o){return o===void 0?Math.floor(t()*s)+1:Array.from({length:o}).map(()=>Math.floor(t()*s)+1)}return{...r,Die:i,Number:()=>t(),Shuffle:s=>{const o=[...s];let l=s.length,a=0;const u=Array.from({length:l});for(;l;){const c=Math.trunc(l*t());u[a++]=o[c],o[c]=o[--l]}return u},_private:this}}}const ev={name:"random",noClient:({api:e})=>e._private.isUsed(),flush:({api:e})=>e._private.getState(),api:({data:e})=>new rf(e).api(),setup:({game:e})=>{let{seed:t}=e;return t===void 0&&(t=rf.seed()),{seed:t}},playerView:()=>{}};var tv=Function.prototype,nv=tv.toString;nv.call(Object);const pi="MAKE_MOVE",lo="GAME_EVENT",ao="REDO",hu="RESET",pu="SYNC",uo="UNDO",mu="UPDATE",yu="PATCH",Uh="PLUGIN",co="STRIP_TRANSIENTS",Vh=(e,t,n,r)=>({type:pi,payload:{type:e,args:t,playerID:n,credentials:r}}),Jr=(e,t,n,r)=>({type:lo,payload:{type:e,args:t,playerID:n,credentials:r}}),Hh=(e,t,n,r)=>({type:lo,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),Wh=e=>({type:pu,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),Kh=(e,t,n,r)=>({type:yu,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),qh=(e,t)=>({type:mu,state:e,deltalog:t,clientOnly:!0}),Jh=e=>({type:hu,state:e,clientOnly:!0}),Qh=(e,t)=>({type:uo,payload:{type:null,args:null,playerID:e,credentials:t}}),Yh=(e,t)=>({type:ao,payload:{type:null,args:null,playerID:e,credentials:t}}),rv=(e,t,n,r)=>({type:Uh,payload:{type:e,args:t,playerID:n,credentials:r}}),Xh=()=>({type:co});var iv=Object.freeze({__proto__:null,makeMove:Vh,gameEvent:Jr,automaticGameEvent:Hh,sync:Wh,patch:Kh,update:qh,reset:Jh,undo:Qh,redo:Yh,plugin:rv,stripTransients:Xh});const pn="INVALID_MOVE",sv={name:"plugin-immer",fnWrap:e=>(t,...n)=>{let r=!1;const i=Xg(t.G,s=>{const o=e({...t,G:s},...n);if(o===pn){r=!0;return}return o});return r?pn:i}};var Ae;(function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"})(Ae||(Ae={}));var Dt;(function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",e.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Dt||(Dt={}));class ov{constructor(t,n,r){this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const t={_private:this};for(const n of this.flow.eventNames)t[n]=(...r)=>{this.dispatch.push({type:n,args:r,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(t,n){this.currentPhase=t.phase,this.currentTurn=t.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(t){const n=t,r=({stack:i},s)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:s+`
`+i}}}});e:for(let i=0;i<this.dispatch.length;i++){const s=this.dispatch[i],o=s.turn!==t.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return r(s.error,Dt.MaxTurnEndings);if(s.calledFrom===void 0)return r(s.error,Dt.CalledOutsideHook);if(t.ctx.gameover)break e;switch(s.type){case"endStage":case"setStage":case"setActivePlayers":{switch(s.calledFrom){case Ae.TURN_ON_END:case Ae.PHASE_ON_END:return r(s.error,Dt.StageEventInOnEnd);case Ae.PHASE_ON_BEGIN:return r(s.error,Dt.StageEventInPhaseBegin);case Ae.TURN_ON_BEGIN:if(s.type==="setActivePlayers")break;return r(s.error,Dt.StageEventInTurnBegin)}if(o)continue e;break}case"endTurn":{if(s.calledFrom===Ae.TURN_ON_END||s.calledFrom===Ae.PHASE_ON_END)return r(s.error,Dt.EndTurnInOnEnd);if(o)continue e;break}case"endPhase":case"setPhase":{if(s.calledFrom===Ae.PHASE_ON_END)return r(s.error,Dt.PhaseEventInOnEnd);if(s.phase!==t.ctx.phase)continue e;break}}const a=Hh(s.type,s.args,this.playerID);t=this.flow.processEvent(t,a)}return t}}const gu={name:"events",noClient:({api:e})=>e._private.isUsed(),isInvalid:({data:e})=>e.error||!1,fnWrap:(e,t)=>(n,...r)=>{const i=n.events;i&&i._private.updateTurnContext(n.ctx,t);const s=e(n,...r);return i&&i._private.unsetCurrentMethod(),s},dangerouslyFlushRawState:({state:e,api:t})=>t._private.update(e),api:({game:e,ctx:t,playerID:n})=>new ov(e.flow,t,n).api()},lv={name:"log",flush:()=>({}),api:({data:e})=>({setMetadata:t=>{e.metadata=t}}),setup:()=>({})},av={name:"plugin-serializable",fnWrap:e=>(t,...n)=>e(t,...n)},uv=(...e)=>console.error(...e);function q(e){uv("ERROR:",e)}const vu=[sv,ev,lv,av],Ei=[...vu,gu],cv=(e,t,n)=>(n.game.plugins.filter(r=>r.action!==void 0).filter(r=>r.name===t.payload.type).forEach(r=>{const i=r.name,s=e.plugins[i]||{data:{}},o=r.action(s.data,t.payload);e={...e,plugins:{...e.plugins,[i]:{...s,data:o}}}}),e),dr=({plugins:e})=>Object.entries(e||{}).reduce((t,[n,{api:r}])=>(t[n]=r,t),{}),Zh=(e,t,n)=>[...vu,...n,gu].filter(r=>r.fnWrap!==void 0).reduce((r,{fnWrap:i})=>i(r,t),e),fv=(e,t)=>([...Ei,...t.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const r=n.name,i=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:i}}}}),e),ea=(e,t)=>([...Ei,...t.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}},s=n.api({G:e.G,ctx:e.ctx,data:i.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...i,api:s}}}}),e),dv=(e,t)=>([...vu,...t.game.plugins,gu].reverse().forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}};if(n.flush){const s=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data});e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}else if(n.dangerouslyFlushRawState){e=n.dangerouslyFlushRawState({state:e,game:t.game,api:i.api,data:i.data});const s=e.plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}}),e),hv=(e,t)=>[...Ei,...t.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const r=n.name,i=e.plugins[r];return i?n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data}):!1}).includes(!0),pv=(e,t)=>[...Ei,...t.game.plugins].filter(r=>r.isInvalid!==void 0).map(r=>{const{name:i}=r,s=e.plugins[i],o=r.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:s&&s.data});return o?{plugin:i,message:o}:!1}).find(r=>r)||!1,Gh=(e,t)=>{const n=dv(e,t),r=pv(n,t);if(!r)return[n];const{plugin:i,message:s}=r;return q(`${i} plugin declared action invalid:
${s}`),[e,r]},ep=({G:e,ctx:t,plugins:n={}},{game:r,playerID:i})=>([...Ei,...r.plugins].forEach(({name:s,playerView:o})=>{if(!o)return;const{data:l}=n[s]||{data:{}},a=o({G:e,ctx:t,game:r,data:l,playerID:i});n={...n,[s]:{data:a}}}),n);function $s(e,t=!1){e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function Bs(e,t){let n={},r=[],i=null,s={},o={};if(Array.isArray(t)){const a={};t.forEach(u=>a[u]=zs.NULL),n=a}else{if($s(t),t.next&&(i=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),t.currentPlayer!==void 0&&Fi(n,s,o,e.currentPlayer,t.currentPlayer),t.others!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];u!==e.currentPlayer&&Fi(n,s,o,u,t.others)}if(t.all!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];Fi(n,s,o,u,t.all)}if(t.value)for(const a in t.value)Fi(n,s,o,a,t.value[a]);if(t.minMoves)for(const a in n)s[a]===void 0&&(s[a]=t.minMoves);if(t.maxMoves)for(const a in n)o[a]===void 0&&(o[a]=t.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(s).length===0&&(s=null),Object.keys(o).length===0&&(o=null);const l={};for(const a in n)l[a]=0;return{...e,activePlayers:n,_activePlayersMinMoves:s,_activePlayersMaxMoves:o,_activePlayersNumMoves:l,_prevActivePlayers:r,_nextActivePlayers:i}}function mv(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s,_nextActivePlayers:o}=e;if(t&&Object.keys(t).length===0)if(o)e=Bs(e,o),{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}=e;else if(s.length>0){const l=s.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i}=s[l]),s=s.slice(0,l)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}}function Fi(e,t,n,r,i){(typeof i!="object"||i===zs.NULL)&&(i={stage:i}),i.stage!==void 0&&($s(i),e[r]=i.stage,i.minMoves&&(t[r]=i.minMoves),i.maxMoves&&(n[r]=i.maxMoves))}function ta(e,t){return e[t]+""}function yv(e,t){let{G:n,ctx:r}=e;const{numPlayers:i}=r,o={...dr(e),G:n,ctx:r},l=t.order;let a=[...Array.from({length:i})].map((d,y)=>y+"");l.playOrder!==void 0&&(a=l.playOrder(o));const u=l.first(o),c=typeof u;c!=="number"&&q(`invalid value returned by turn.order.first  expected number got ${c} ${u}.`);const f=ta(a,u);return r={...r,currentPlayer:f,playOrderPos:u,playOrder:a},r=Bs(r,t.activePlayers||{}),r}function gv(e,t,n,r){const i=n.order;let{G:s,ctx:o}=e,l=o.playOrderPos,a=!1;if(r&&r!==!0)typeof r!="object"&&q(`invalid argument to endTurn: ${r}`),Object.keys(r).forEach(u=>{switch(u){case"remove":t=ta(o.playOrder,l);break;case"next":l=o.playOrder.indexOf(r.next),t=r.next;break;default:q(`invalid argument to endTurn: ${u}`)}});else{const c={...dr(e),G:s,ctx:o},f=i.next(c),d=typeof f;f!==void 0&&d!=="number"&&q(`invalid value returned by turn.order.next  expected number or undefined got ${d} ${f}.`),f===void 0?a=!0:(l=f,t=ta(o.playOrder,l))}return o={...o,playOrderPos:l,currentPlayer:t},{endPhase:a,ctx:o}}const vv={DEFAULT:{first:({ctx:e})=>e.turn===0?e.playOrderPos:(e.playOrderPos+1)%e.playOrder.length,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length}},zs={NULL:null};var wu={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.Pointer=zt.escapeToken=zt.unescapeToken=void 0;function tp(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}zt.unescapeToken=tp;function np(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}zt.escapeToken=np;var wv=function(){function e(t){t===void 0&&(t=[""]),this.tokens=t}return e.fromJSON=function(t){var n=t.split("/").map(tp);if(n[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(t));return new e(n)},e.prototype.toString=function(){return this.tokens.map(np).join("/")},e.prototype.evaluate=function(t){for(var n=null,r="",i=t,s=1,o=this.tokens.length;s<o;s++)n=i,r=this.tokens[s],!(r=="__proto__"||r=="constructor"||r=="prototype")&&(i=(n||{})[r]);return{parent:n,key:r,value:i}},e.prototype.get=function(t){return this.evaluate(t).value},e.prototype.set=function(t,n){var r=this.evaluate(t);r.parent&&(r.parent[r.key]=n)},e.prototype.push=function(t){this.tokens.push(t)},e.prototype.add=function(t){var n=this.tokens.concat(String(t));return new e(n)},e}();zt.Pointer=wv;var ue={},Su={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(i){return i===void 0?"undefined":i===null?"null":Array.isArray(i)?"array":typeof i}e.objectType=t;function n(i){return i!=null&&typeof i=="object"}function r(i){if(!n(i))return i;if(i.constructor==Array){for(var s=i.length,o=new Array(s),l=0;l<s;l++)o[l]=r(i[l]);return o}if(i.constructor==Date){var a=new Date(+i);return a}var u={};for(var c in i)e.hasOwnProperty.call(i,c)&&(u[c]=r(i[c]));return u}e.clone=r})(Su);var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.diffAny=Le.diffObjects=Le.diffArrays=Le.intersection=Le.subtract=Le.isDestructive=void 0;var mi=Su;function Sv(e){var t=e.op;return t==="remove"||t==="replace"||t==="copy"||t==="move"}Le.isDestructive=Sv;function na(e,t){var n={};for(var r in e)mi.hasOwnProperty.call(e,r)&&e[r]!==void 0&&(n[r]=1);for(var i in t)mi.hasOwnProperty.call(t,i)&&t[i]!==void 0&&delete n[i];return Object.keys(n)}Le.subtract=na;function rp(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var s in i)mi.hasOwnProperty.call(i,s)&&i[s]!==void 0&&(n[s]=(n[s]||0)+1)}for(var s in n)n[s]<t&&delete n[s];return Object.keys(n)}Le.intersection=rp;function kv(e){return e.op==="add"}function _v(e){return e.op==="remove"}function Qo(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function ip(e,t,n,r){r===void 0&&(r=fo);var i={"0,0":{operations:[],cost:0}};function s(c,f){var d="".concat(c,",").concat(f),y=i[d];if(y===void 0){if(c>0&&f>0&&!r(e[c-1],t[f-1],n.add(String(c-1))).length)y=s(c-1,f-1);else{var v=[];if(c>0){var k=s(c-1,f),x={op:"remove",index:c-1};v.push(Qo(k,x))}if(f>0){var p=s(c,f-1),h={op:"add",index:c-1,value:t[f-1]};v.push(Qo(p,h))}if(c>0&&f>0){var m=s(c-1,f-1),S={op:"replace",index:c-1,original:e[c-1],value:t[f-1]};v.push(Qo(m,S))}var O=v.sort(function(M,T){return M.cost-T.cost})[0];y=O}i[d]=y}return y}var o=isNaN(e.length)||e.length<=0?0:e.length,l=isNaN(t.length)||t.length<=0?0:t.length,a=s(o,l).operations,u=a.reduce(function(c,f){var d=c[0],y=c[1];if(kv(f)){var v=f.index+1+y,k=v<o+y?String(v):"-",x={op:f.op,path:n.add(k).toString(),value:f.value};return[d.concat(x),y+1]}else if(_v(f)){var x={op:f.op,path:n.add(String(f.index+y)).toString()};return[d.concat(x),y-1]}else{var p=n.add(String(f.index+y)),h=r(f.original,f.value,p);return[d.concat.apply(d,h),y]}},[[],0])[0];return u}Le.diffArrays=ip;function sp(e,t,n,r){r===void 0&&(r=fo);var i=[];return na(e,t).forEach(function(s){i.push({op:"remove",path:n.add(s).toString()})}),na(t,e).forEach(function(s){i.push({op:"add",path:n.add(s).toString(),value:t[s]})}),rp([e,t]).forEach(function(s){i.push.apply(i,r(e[s],t[s],n.add(s)))}),i}Le.diffObjects=sp;function fo(e,t,n,r){if(r===void 0&&(r=fo),e===t)return[];var i=(0,mi.objectType)(e),s=(0,mi.objectType)(t);return i=="array"&&s=="array"?ip(e,t,n,r):i=="object"&&s=="object"?sp(e,t,n,r):[{op:"replace",path:n.toString(),value:t}]}Le.diffAny=fo;var ku=$r&&$r.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ue,"__esModule",{value:!0});ue.apply=ue.InvalidOperationError=ue.test=ue.copy=ue.move=ue.replace=ue.remove=ue.add=ue.TestError=ue.MissingError=void 0;var Wt=zt,_u=Su,Ev=Le,At=function(e){ku(t,e);function t(n){var r=e.call(this,"Value required at path: ".concat(n))||this;return r.path=n,r.name="MissingError",r}return t}(Error);ue.MissingError=At;var op=function(e){ku(t,e);function t(n,r){var i=e.call(this,"Test failed: ".concat(n," != ").concat(r))||this;return i.actual=n,i.expected=r,i.name="TestError",i}return t}(Error);ue.TestError=op;function Eu(e,t,n){if(Array.isArray(e))if(t=="-")e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function lp(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function ap(e,t){var n=Wt.Pointer.fromJSON(t.path).evaluate(e);return n.parent===void 0?new At(t.path):(Eu(n.parent,n.key,(0,_u.clone)(t.value)),null)}ue.add=ap;function up(e,t){var n=Wt.Pointer.fromJSON(t.path).evaluate(e);return n.value===void 0?new At(t.path):(lp(n.parent,n.key),null)}ue.remove=up;function cp(e,t){var n=Wt.Pointer.fromJSON(t.path).evaluate(e);if(n.parent===null)return new At(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new At(t.path)}else if(n.value===void 0)return new At(t.path);return n.parent[n.key]=(0,_u.clone)(t.value),null}ue.replace=cp;function fp(e,t){var n=Wt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new At(t.from);var r=Wt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new At(t.path):(lp(n.parent,n.key),Eu(r.parent,r.key,n.value),null)}ue.move=fp;function dp(e,t){var n=Wt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new At(t.from);var r=Wt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new At(t.path):(Eu(r.parent,r.key,(0,_u.clone)(n.value)),null)}ue.copy=dp;function hp(e,t){var n=Wt.Pointer.fromJSON(t.path).evaluate(e);return(0,Ev.diffAny)(n.value,t.value,new Wt.Pointer).length?new op(n.value,t.value):null}ue.test=hp;var pp=function(e){ku(t,e);function t(n){var r=e.call(this,"Invalid operation: ".concat(n.op))||this;return r.operation=n,r.name="InvalidOperationError",r}return t}(Error);ue.InvalidOperationError=pp;function xv(e,t){switch(t.op){case"add":return ap(e,t);case"remove":return up(e,t);case"replace":return cp(e,t);case"move":return fp(e,t);case"copy":return dp(e,t);case"test":return hp(e,t)}return new pp(t)}ue.apply=xv;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=zt;Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=ue,r=Le;function i(u,c){return c.map(function(f){return(0,n.apply)(u,f)})}e.applyPatch=i;function s(u){function c(f,d,y){var v=u(f,d,y);return Array.isArray(v)?v:(0,r.diffAny)(f,d,y,c)}return c}function o(u,c,f){var d=new t.Pointer;return(f?s(f):r.diffAny)(u,c,d)}e.createPatch=o;function l(u,c){var f=t.Pointer.fromJSON(c).evaluate(u);if(f!==void 0)return{op:"test",path:c,value:f.value}}function a(u,c){var f=new Array;return c.filter(r.isDestructive).forEach(function(d){var y=l(u,d.path);if(y&&f.push(y),"from"in d){var v=l(u,d.from);v&&f.push(v)}}),f}e.createTests=a})(wu);function Cv({moves:e,phases:t,endIf:n,onEnd:r,turn:i,events:s,plugins:o}){e===void 0&&(e={}),s===void 0&&(s={}),o===void 0&&(o=[]),t===void 0&&(t={}),n||(n=()=>{}),r||(r=({G:w})=>w),i||(i={});const l={...t};""in l&&q("cannot specify phase with empty name"),l[""]={};const a={},u=new Set;let c=null;Object.keys(e).forEach(w=>u.add(w));const f=(w,E)=>{const P=Zh(w,E,o);return F=>{const z=dr(F);return P({...z,G:F.G,ctx:F.ctx,playerID:F.playerID})}},d=w=>E=>{const P=dr(E);return w({...P,G:E.G,ctx:E.ctx})},y={onEnd:f(r,Ae.GAME_ON_END),endIf:d(n)};for(const w in l){const E=l[w];if(E.start===!0&&(c=w),E.moves!==void 0)for(const P of Object.keys(E.moves))a[w+"."+P]=E.moves[P],u.add(P);E.endIf===void 0&&(E.endIf=()=>{}),E.onBegin===void 0&&(E.onBegin=({G:P})=>P),E.onEnd===void 0&&(E.onEnd=({G:P})=>P),E.turn===void 0&&(E.turn=i),E.turn.order===void 0&&(E.turn.order=vv.DEFAULT),E.turn.onBegin===void 0&&(E.turn.onBegin=({G:P})=>P),E.turn.onEnd===void 0&&(E.turn.onEnd=({G:P})=>P),E.turn.endIf===void 0&&(E.turn.endIf=()=>!1),E.turn.onMove===void 0&&(E.turn.onMove=({G:P})=>P),E.turn.stages===void 0&&(E.turn.stages={}),$s(E.turn,!0);for(const P in E.turn.stages){const z=E.turn.stages[P].moves||{};for(const B of Object.keys(z)){const le=w+"."+P+"."+B;a[le]=z[B],u.add(B)}}if(E.wrapped={onBegin:f(E.onBegin,Ae.PHASE_ON_BEGIN),onEnd:f(E.onEnd,Ae.PHASE_ON_END),endIf:d(E.endIf)},E.turn.wrapped={onMove:f(E.turn.onMove,Ae.TURN_ON_MOVE),onBegin:f(E.turn.onBegin,Ae.TURN_ON_BEGIN),onEnd:f(E.turn.onEnd,Ae.TURN_ON_END),endIf:d(E.turn.endIf)},typeof E.next!="function"){const{next:P}=E;E.next=()=>P||null}E.wrapped.next=d(E.next)}function v(w){return w.phase?l[w.phase]:l[""]}function k(w){return w}function x(w,E){const P=new Set,F=new Set;for(let z=0;z<E.length;z++){const{fn:B,arg:le,...Z}=E[z];if(B===K){F.clear();const je=w.ctx.phase;if(P.has(je)){const kt={...w.ctx,phase:null};return{...w,ctx:kt}}P.add(je)}const rt=[];if(w=B(w,{...Z,arg:le,next:rt}),B===V)break;const de=_(w);if(de){E.push({fn:V,arg:de,turn:w.ctx.turn,phase:w.ctx.phase,automatic:!0});continue}const Ee=I(w);if(Ee){E.push({fn:K,arg:Ee,turn:w.ctx.turn,phase:w.ctx.phase,automatic:!0});continue}if([k,M,T].includes(B)){const je=R(w);if(je){E.push({fn:Q,arg:je,turn:w.ctx.turn,phase:w.ctx.phase,automatic:!0});continue}}E.push(...rt)}return w}function p(w,{next:E}){return E.push({fn:h}),w}function h(w,{next:E}){let{G:P,ctx:F}=w;return P=v(F).wrapped.onBegin(w),E.push({fn:m}),{...w,G:P,ctx:F}}function m(w,{currentPlayer:E}){let{ctx:P}=w;const F=v(P);E?(P={...P,currentPlayer:E},F.turn.activePlayers&&(P=Bs(P,F.turn.activePlayers))):P=yv(w,F.turn);const z=P.turn+1;P={...P,turn:z,numMoves:0,_prevActivePlayers:[]};const B=F.turn.wrapped.onBegin({...w,ctx:P});return{...w,G:B,ctx:P,_undo:[],_redo:[]}}function S(w,{arg:E,next:P,phase:F}){const z=v({phase:F});let{ctx:B}=w;if(E&&E.next)if(E.next in l)B={...B,phase:E.next};else return q("invalid phase: "+E.next),w;else B={...B,phase:z.wrapped.next(w)||null};return w={...w,ctx:B},P.push({fn:h}),w}function O(w,{arg:E,currentPlayer:P,next:F}){let{G:z,ctx:B}=w;const le=v(B),{endPhase:Z,ctx:rt}=gv(w,P,le.turn,E);return B=rt,w={...w,G:z,ctx:B},Z?F.push({fn:K,turn:B.turn,phase:B.phase}):F.push({fn:m,currentPlayer:B.currentPlayer}),w}function M(w,{arg:E,playerID:P}){if((typeof E=="string"||E===zs.NULL)&&(E={stage:E}),typeof E!="object")return w;$s(E);let{ctx:F}=w,{activePlayers:z,_activePlayersMinMoves:B,_activePlayersMaxMoves:le,_activePlayersNumMoves:Z}=F;return E.stage!==void 0&&(z===null&&(z={}),z[P]=E.stage,Z[P]=0,E.minMoves&&(B===null&&(B={}),B[P]=E.minMoves),E.maxMoves&&(le===null&&(le={}),le[P]=E.maxMoves)),F={...F,activePlayers:z,_activePlayersMinMoves:B,_activePlayersMaxMoves:le,_activePlayersNumMoves:Z},{...w,ctx:F}}function T(w,{arg:E}){return{...w,ctx:Bs(w.ctx,E)}}function _(w){return y.endIf(w)}function I(w){return v(w.ctx).wrapped.endIf(w)}function R(w){const E=v(w.ctx),P=w.ctx.numMoves||0;return E.turn.maxMoves&&P>=E.turn.maxMoves?!0:E.turn.wrapped.endIf(w)}function V(w,{arg:E,phase:P}){w=K(w,{}),E===void 0&&(E=!0),w={...w,ctx:{...w.ctx,gameover:E}};const F=y.onEnd(w);return{...w,G:F}}function K(w,{arg:E,next:P,turn:F,automatic:z}){w=Q(w,{turn:F,force:!0,automatic:!0});const{phase:B,turn:le}=w.ctx;if(P&&P.push({fn:S,arg:E,phase:B}),B===null)return w;const rt=v(w.ctx).wrapped.onEnd(w),de={...w.ctx,phase:null},Ee=Jr("endPhase",E),{_stateID:je}=w,kt={action:Ee,_stateID:je,turn:le,phase:B};z&&(kt.automatic=!0);const wn=[...w.deltalog||[],kt];return{...w,G:rt,ctx:de,deltalog:wn}}function Q(w,{arg:E,next:P,turn:F,force:z,automatic:B,playerID:le}){if(F!==w.ctx.turn)return w;const{currentPlayer:Z,numMoves:rt,phase:de,turn:Ee}=w.ctx,je=v(w.ctx),kt=rt||0;if(!z&&je.turn.minMoves&&kt<je.turn.minMoves)return`${je.turn.minMoves}`,w;const wn=je.turn.wrapped.onEnd(w);P&&P.push({fn:O,arg:E,currentPlayer:Z});let Jt={...w.ctx,activePlayers:null};if(E&&E.remove){le=le||Z;const Sn=Jt.playOrder.filter(fm=>fm!=le),cm=Jt.playOrderPos>Sn.length-1?0:Jt.playOrderPos;if(Jt={...Jt,playOrder:Sn,playOrderPos:cm},Sn.length===0)return P.push({fn:K,turn:Ee,phase:de}),w}const go=Jr("endTurn",E),{_stateID:$u}=w,wr={action:go,_stateID:$u,turn:Ee,phase:de};B&&(wr.automatic=!0);const vo=[...w.deltalog||[],wr];return{...w,G:wn,ctx:Jt,deltalog:vo,_undo:[],_redo:[]}}function Y(w,{arg:E,next:P,automatic:F,playerID:z}){z=z||w.ctx.currentPlayer;let{ctx:B,_stateID:le}=w,{activePlayers:Z,_activePlayersNumMoves:rt,_activePlayersMinMoves:de,_activePlayersMaxMoves:Ee,phase:je,turn:kt}=B;const wn=Z!==null&&z in Z,Jt=v(B);if(!E&&wn){const Sn=Jt.turn.stages[Z[z]];Sn&&Sn.next&&(E=Sn.next)}if(P&&P.push({fn:M,arg:E,playerID:z}),!wn)return w;const go=rt[z]||0;if(de&&de[z]&&go<de[z])return`${de[z]}`,w;Z={...Z},delete Z[z],de&&(de={...de},delete de[z]),Ee&&(Ee={...Ee},delete Ee[z]),B=mv({...B,activePlayers:Z,_activePlayersMinMoves:de,_activePlayersMaxMoves:Ee});const wr={action:Jr("endStage",E),_stateID:le,turn:kt,phase:je};F&&(wr.automatic=!0);const vo=[...w.deltalog||[],wr];return{...w,ctx:B,deltalog:vo}}function ke(w,E,P){const F=v(w),z=F.turn.stages,{activePlayers:B}=w;if(B&&B[P]!==void 0&&B[P]!==zs.NULL&&z[B[P]]!==void 0&&z[B[P]].moves!==void 0){const Z=z[B[P]].moves;if(E in Z)return Z[E]}else if(F.moves){if(E in F.moves)return F.moves[E]}else if(E in e)return e[E];return null}function _e(w,E){const{playerID:P,type:F}=E,{currentPlayer:z,activePlayers:B,_activePlayersMaxMoves:le}=w.ctx,Z=ke(w.ctx,F,P),rt=!Z||typeof Z=="function"||Z.noLimit!==!0;let{numMoves:de,_activePlayersNumMoves:Ee}=w.ctx;rt&&(P===z&&de++,B&&Ee[P]++),w={...w,ctx:{...w.ctx,numMoves:de,_activePlayersNumMoves:Ee}},le&&Ee[P]>=le[P]&&(w=Y(w,{playerID:P,automatic:!0}));const kt=v(w.ctx).turn.wrapped.onMove({...w,playerID:P});return w={...w,G:kt},x(w,[{fn:k}])}function Ke(w,E,P){return x(w,[{fn:Y,arg:P,playerID:E}])}function j(w,E){return x(w,[{fn:Y,playerID:E}])}function C(w,E,P){return x(w,[{fn:T,arg:P}])}function A(w,E,P){return x(w,[{fn:K,phase:w.ctx.phase,turn:w.ctx.turn,arg:{next:P}}])}function b(w){return x(w,[{fn:K,phase:w.ctx.phase,turn:w.ctx.turn}])}function $(w,E,P){return x(w,[{fn:Q,turn:w.ctx.turn,phase:w.ctx.phase,arg:P}])}function me(w,E,P){return x(w,[{fn:Q,turn:w.ctx.turn,phase:w.ctx.phase,force:!0,arg:P}])}function oe(w,E,P){return x(w,[{fn:V,turn:w.ctx.turn,phase:w.ctx.phase,arg:P}])}const te={endStage:j,setStage:Ke,endTurn:$,pass:me,endPhase:b,setPhase:A,endGame:oe,setActivePlayers:C},ye=[];s.endTurn!==!1&&ye.push("endTurn"),s.pass!==!1&&ye.push("pass"),s.endPhase!==!1&&ye.push("endPhase"),s.setPhase!==!1&&ye.push("setPhase"),s.endGame!==!1&&ye.push("endGame"),s.setActivePlayers!==!1&&ye.push("setActivePlayers"),s.endStage!==!1&&ye.push("endStage"),s.setStage!==!1&&ye.push("setStage");function jt(w,E){const{type:P,playerID:F,args:z}=E.payload;return typeof te[P]!="function"?w:te[P](w,F,...Array.isArray(z)?z:[z])}function um(w,E,P){return E.activePlayers?P in E.activePlayers:E.currentPlayer===P}return{ctx:w=>({numPlayers:w,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:w})].map((E,P)=>P+""),playOrderPos:0,phase:c,activePlayers:null}),init:w=>x(w,[{fn:p}]),isPlayerActive:um,eventHandlers:te,eventNames:Object.keys(te),enabledEventNames:ye,moveMap:a,moveNames:[...u.values()],processMove:_e,processEvent:jt,getMove:ke}}function Pv(e){return e.processMove!==void 0}function ho(e){if(Pv(e))return e;if(e.name===void 0&&(e.name="default"),e.deltaState===void 0&&(e.deltaState=!1),e.disableUndo===void 0&&(e.disableUndo=!1),e.setup===void 0&&(e.setup=()=>({})),e.moves===void 0&&(e.moves={}),e.playerView===void 0&&(e.playerView=({G:n})=>n),e.plugins===void 0&&(e.plugins=[]),e.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=Cv(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map(n=>n.name),processMove:(n,r)=>{let i=t.getMove(n.ctx,r.type,r.playerID);if(mp(i)&&(i=i.move),i instanceof Function){const s=Zh(i,Ae.MOVE,e.plugins);let o=[];r.args!==void 0&&(o=Array.isArray(r.args)?r.args:[r.args]);const l={...dr(n),G:n.G,ctx:n.ctx,playerID:r.playerID};return s(l,...o)}return q(`invalid move object: ${r.type}`),n.G}}}function mp(e){return e instanceof Object&&e.move!==void 0}var ra;(function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"})(ra||(ra={}));var Oe;(function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"})(Oe||(Oe={}));const Ui=e=>e.payload.playerID!==null&&e.payload.playerID!==void 0,Nv=(e,t,n)=>{function r(s){return s.undoable!==void 0}function i(s){return s instanceof Function}return r(n)?i(n.undoable)?n.undoable({G:e,ctx:t}):n.undoable:!0};function sf(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return t.action.type==="MAKE_MOVE"&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function Yo(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},i=e.plugins.log.data.metadata;return i!==void 0&&(r.metadata=i),typeof n=="object"&&n.redact===!0?r.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(r.redact=n.redact({G:e.G,ctx:e.ctx})),{...e,deltalog:[r]}}function Xo(e,t,n){const[r,i]=Gh(e,n);return i?[r,Re(t,Oe.PluginActionInvalid,i)]:[r]}function yp(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function Re(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const gp=e=>t=>n=>{const r=t(n);switch(n.type){case co:return r;default:{const[,i]=yp(e.getState());return typeof i<"u"?(e.dispatch(Xh()),{...r,transients:i}):r}}};function xu({game:e,isClient:t}){return e=ho(e),(n=null,r)=>{let[i]=yp(n);switch(r.type){case co:return i;case lo:{if(i={...i,deltalog:[]},t)return i;if(i.ctx.gameover!==void 0)return q("cannot call event after game end"),Re(i,Oe.GameOver);if(Ui(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return q(`disallowed event: ${r.payload.type}`),Re(i,Oe.InactivePlayer);i=ea(i,{game:e,playerID:r.payload.playerID});let s=e.flow.processEvent(i,r),o;return[s,o]=Xo(s,i,{game:e}),o||(s=sf(s,{game:e,action:r}),{...s,_stateID:i._stateID+1})}case pi:{const s=i={...i,deltalog:[]},o=e.flow.getMove(i.ctx,r.payload.type,r.payload.playerID||i.ctx.currentPlayer);if(o===null)return q(`disallowed move: ${r.payload.type}`),Re(i,Oe.UnavailableMove);if(t&&o.client===!1)return i;if(i.ctx.gameover!==void 0)return q("cannot make move after game end"),Re(i,Oe.GameOver);if(Ui(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return q(`disallowed move: ${r.payload.type}`),Re(i,Oe.InactivePlayer);i=ea(i,{game:e,playerID:r.payload.playerID});const l=e.processMove(i,r.payload);if(l===pn)return q(`invalid move: ${r.payload.type} args: ${r.payload.args}`),Re(i,Oe.InvalidMove);const a={...i,G:l};if(t&&hv(a,{game:e}))return i;if(i=a,t){let c;return[i,c]=Xo(i,s,{game:e}),c||{...i,_stateID:i._stateID+1}}i=Yo(i,r,o),i=e.flow.processMove(i,r.payload);let u;return[i,u]=Xo(i,s,{game:e}),u||(i=sf(i,{game:e,action:r}),{...i,_stateID:i._stateID+1})}case hu:case mu:case pu:return r.state;case uo:{if(i={...i,deltalog:[]},e.disableUndo)return q("Undo is not enabled"),Re(i,Oe.ActionDisabled);const{G:s,ctx:o,_undo:l,_redo:a,_stateID:u}=i;if(l.length<2)return q("No moves to undo"),Re(i,Oe.ActionInvalid);const c=l[l.length-1],f=l[l.length-2];if(Ui(r)&&r.payload.playerID!==c.playerID)return q("Cannot undo other players' moves"),Re(i,Oe.ActionInvalid);if(c.moveType){const d=e.flow.getMove(f.ctx,c.moveType,c.playerID);if(!Nv(s,o,d))return q("Move cannot be undone"),Re(i,Oe.ActionInvalid)}return i=Yo(i,r),{...i,G:f.G,ctx:f.ctx,plugins:f.plugins,_stateID:u+1,_undo:l.slice(0,-1),_redo:[c,...a]}}case ao:{if(i={...i,deltalog:[]},e.disableUndo)return q("Redo is not enabled"),Re(i,Oe.ActionDisabled);const{_undo:s,_redo:o,_stateID:l}=i;if(o.length===0)return q("No moves to redo"),Re(i,Oe.ActionInvalid);const a=o[0];return Ui(r)&&r.payload.playerID!==a.playerID?(q("Cannot redo other players' moves"),Re(i,Oe.ActionInvalid)):(i=Yo(i,r),{...i,G:a.G,ctx:a.ctx,plugins:a.plugins,_stateID:l+1,_undo:[...s,a],_redo:o.slice(1)})}case Uh:return cv(i,r,{game:e});case yu:{const s=i,o=JSON.parse(JSON.stringify(s)),l=wu.applyPatch(o,r.patch);return l.some(u=>u!==null)?(q(`Patch ${JSON.stringify(r.patch)} apply failed`),Re(s,ra.PatchFailed,l)):o}default:return i}}}(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,s=e.document,o;function l(h){typeof h!="function"&&(h=new Function(""+h));for(var m=new Array(arguments.length-1),S=0;S<m.length;S++)m[S]=arguments[S+1];var O={callback:h,args:m};return r[n]=O,o(n),n++}function a(h){delete r[h]}function u(h){var m=h.callback,S=h.args;switch(S.length){case 0:m();break;case 1:m(S[0]);break;case 2:m(S[0],S[1]);break;case 3:m(S[0],S[1],S[2]);break;default:m.apply(t,S);break}}function c(h){if(i)setTimeout(c,0,h);else{var m=r[h];if(m){i=!0;try{u(m)}finally{a(h),i=!1}}}}function f(){o=function(h){process.nextTick(function(){c(h)})}}function d(){if(e.postMessage&&!e.importScripts){var h=!0,m=e.onmessage;return e.onmessage=function(){h=!1},e.postMessage("","*"),e.onmessage=m,h}}function y(){var h="setImmediate$"+Math.random()+"$",m=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(h)===0&&c(+S.data.slice(h.length))};e.addEventListener?e.addEventListener("message",m,!1):e.attachEvent("onmessage",m),o=function(S){e.postMessage(h+S,"*")}}function v(){var h=new MessageChannel;h.port1.onmessage=function(m){var S=m.data;c(S)},o=function(m){h.port2.postMessage(m)}}function k(){var h=s.documentElement;o=function(m){var S=s.createElement("script");S.onreadystatechange=function(){c(m),S.onreadystatechange=null,h.removeChild(S),S=null},h.appendChild(S)}}function x(){o=function(h){setTimeout(c,0,h)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?f():d()?y():e.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?k():x(),p.setImmediate=l,p.clearImmediate=a})(typeof self>"u"?$r:self);class Tv{constructor({enumerate:t,seed:n}){this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:t,range:n,initial:r}){this._opts[t]={range:n,value:r}}getOpt(t){return this._opts[t].value}setOpt(t,n){t in this._opts&&(this._opts[t].value=n)}opts(){return this._opts}enumerate(t,n,r){return this.enumerateFn(t,n,r).map(s=>{if("payload"in s)return s;if("move"in s)return Vh(s.move,s.args,r);if("event"in s)return Jr(s.event,s.args,r)})}random(t){let n;if(this.seed!==void 0){const r=this.prngstate?"":this.seed,i=Fh(r,this.prngstate);n=i(),this.prngstate=i.state()}else n=Math.random();if(t)if(Array.isArray(t)){const r=Math.floor(n*t.length);return t[r]}else return Math.floor(n*t);return n}}const Ov=25;class os extends Tv{constructor({enumerate:t,seed:n,objectives:r,game:i,iterations:s,playoutDepth:o,iterationCallback:l}){super({enumerate:t,seed:n}),r===void 0&&(r=()=>({})),this.objectives=r,this.iterationCallback=l||(()=>{}),this.reducer=xu({game:i}),this.iterations=s,this.playoutDepth=o,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof s=="number"?s:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof o=="number"?o:50,range:{min:1,max:100}})}createNode({state:t,parentAction:n,parent:r,playerID:i}){const{G:s,ctx:o}=t;let l=[],a=[];if(i!==void 0)l=this.enumerate(s,o,i),a=this.objectives(s,o,i);else if(o.activePlayers)for(const u in o.activePlayers)l.push(...this.enumerate(s,o,u)),a.push(this.objectives(s,o,u));else l=this.enumerate(s,o,o.currentPlayer),a=this.objectives(s,o,o.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:a,children:[],visits:0,value:0}}select(t){if(t.actions.length>0||t.children.length===0)return t;let n=null,r=0;for(const i of t.children){const s=i.visits+Number.EPSILON,o=i.value/s+Math.sqrt(2*Math.log(t.visits)/s);(n==null||o>r)&&(r=o,n=i)}return this.select(n)}expand(t){const n=t.actions;if(n.length===0||t.state.ctx.gameover!==void 0)return t;const r=this.random(n.length),i=n[r];t.actions.splice(r,1);const s=this.reducer(t.state,i),o=this.createNode({state:s,parentAction:i,parent:t});return t.children.push(o),o}playout({state:t}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&t.ctx.gameover===void 0;r++){const{G:i,ctx:s}=t;let o=s.currentPlayer;s.activePlayers&&(o=Object.keys(s.activePlayers)[0]);const l=this.enumerate(i,s,o),a=this.objectives(i,s,o),u=Object.keys(a).reduce((d,y)=>{const v=a[y];return v.checker(i,s)?d+v.weight:d},0);if(u>0)return{score:u};if(!l||l.length===0)return;const c=this.random(l.length);t=this.reducer(t,l[c])}return t.ctx.gameover}backpropagate(t,n={}){t.visits++,n.score!==void 0&&(t.value+=n.score),n.draw===!0&&(t.value+=.5),t.parentAction&&n.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,n)}play(t,n){const r=this.createNode({state:t,playerID:n});let i=this.getOpt("iterations");typeof this.iterations=="function"&&(i=this.iterations(t.G,t.ctx));const s=()=>{let o=null;for(const u of r.children)(o==null||u.visits>o.visits)&&(o=u);return{action:o&&o.parentAction,metadata:r}};return new Promise(o=>{const l=()=>{for(let a=0;a<Ov&&this.iterationCounter<i;a++){const u=this.select(r),c=this.expand(u),f=this.playout(c);this.backpropagate(c,f),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:i,metadata:r})};if(this.iterationCounter=0,this.getOpt("async")){const a=()=>{this.iterationCounter<i?(l(),setImmediate(a)):o(s())};a()}else{for(;this.iterationCounter<i;)l();o(s())}})}}function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Av(e,t){if(yi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iv(e){var t=Av(e,"string");return yi(t)=="symbol"?t:t+""}function Mv(e,t,n){return(t=Iv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?of(Object(n),!0).forEach(function(r){Mv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var af=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uf=function(){return Math.random().toString(36).substring(7).split("").join(".")},cf={INIT:"@@redux/INIT"+uf(),REPLACE:"@@redux/REPLACE"+uf()};function jv(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Cu(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qe(1));return n(Cu)(e,t)}if(typeof e!="function")throw new Error(qe(2));var i=e,s=t,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function c(){if(a)throw new Error(qe(3));return s}function f(k){if(typeof k!="function")throw new Error(qe(4));if(a)throw new Error(qe(5));var x=!0;return u(),l.push(k),function(){if(x){if(a)throw new Error(qe(6));x=!1,u();var h=l.indexOf(k);l.splice(h,1),o=null}}}function d(k){if(!jv(k))throw new Error(qe(7));if(typeof k.type>"u")throw new Error(qe(8));if(a)throw new Error(qe(9));try{a=!0,s=i(s,k)}finally{a=!1}for(var x=o=l,p=0;p<x.length;p++){var h=x[p];h()}return k}function y(k){if(typeof k!="function")throw new Error(qe(10));i=k,d({type:cf.REPLACE})}function v(){var k,x=f;return k={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(qe(11));function m(){h.next&&h.next(c())}m();var S=x(m);return{unsubscribe:S}}},k[af]=function(){return this},k}return d({type:cf.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:y},r[af]=v,r}function vp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function wp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(qe(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(a){return a(o)});return s=vp.apply(void 0,l)(i.dispatch),lf(lf({},i),{},{dispatch:s})}}}function Sp({game:e,numPlayers:t,setupData:n}){e=ho(e),t||(t=2);const r=e.flow.ctx(t);let i={G:{},ctx:r,plugins:{}};i=fv(i,{game:e}),i=ea(i,{game:e,playerID:void 0});const s=dr(i);i.G=e.setup({...s,ctx:i.ctx},n);let o={...i,_undo:[],_redo:[],_stateID:0};return o=e.flow.init(o),[o]=Gh(o,{game:e}),e.disableUndo||(o._undo=[{G:o.G,ctx:o.ctx,plugins:o.plugins}]),o}let Pu=class{constructor({transportDataCallback:t,gameName:n,playerID:r,matchID:i,credentials:s,numPlayers:o}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=i||"default",this.credentials=s,this.numPlayers=o||2}subscribeToConnectionStatus(t){this.connectionStatusCallback=t}setConnectionStatus(t){this.isConnected=t,this.connectionStatusCallback()}notifyClient(t){this.transportDataCallback(t)}};class Rv extends Pu{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Dv=e=>new Rv(e);class Lv{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(t){this.clients.set(t,t),this.mountDebug(t),this.notifySubscribers()}unregister(t){if(this.clients.delete(t),this.currentClient===t){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(t){const n=Symbol();return this.subscribers.set(n,t),t(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(t){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===t&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(t),this.notifySubscribers()}switchToClient(t){t!==this.currentClient&&(this.unmountDebug(),this.mountDebug(t),this.notifySubscribers())}notifySubscribers(){const t=this.getState();this.subscribers.forEach(n=>{n(t)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(t=>t.debugOpt!==!1)}mountDebug(t){if(t.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,r=document.body;t.debugOpt&&t.debugOpt!==!0&&(n=t.debugOpt.impl||n,r=t.debugOpt.target||r),n&&(this.currentClient=t,this.debugPanel=new n({target:r,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const bv=new Lv;function ia(e,t,n){return!n&&e==null&&(e=t.getState().ctx.currentPlayer),e}function Nu(e,t,n,r,i,s){const o={};for(const l of t)o[l]=(...a)=>{const u=iv[e](l,a,ia(r,n,s),i);n.dispatch(u)};return o}const $v=Nu.bind(null,"makeMove"),Bv=Nu.bind(null,"gameEvent"),zv=Nu.bind(null,"plugin");class Fv{constructor({game:t,debug:n,numPlayers:r,multiplayer:i,matchID:s,playerID:o,credentials:l,enhancer:a}){this.game=ho(t),this.playerID=o,this.matchID=s||"default",this.credentials=l,this.multiplayer=i,this.debugOpt=n,this.manager=bv,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=xu({game:this.game,isClient:i!==void 0}),this.initialState=null,i||(this.initialState=Sp({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(Jh(this.initialState))},this.undo=()=>{const y=Qh(ia(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(y)},this.redo=()=>{const y=Yh(ia(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(y)},this.log=[];const d=wp(gp,()=>y=>v=>{const k=y(v);return this.notifySubscribers(),k},y=>v=>k=>{const x=y.getState(),p=v(k);return!("clientOnly"in k)&&k.type!==co&&this.transport.sendAction(x,k),p},y=>v=>k=>{const x=v(k),p=y.getState();switch(k.type){case pi:case lo:case uo:case ao:{const h=p.deltalog;this.log=[...this.log,...h];break}case hu:{this.log=[];break}case yu:case mu:{let h=-1;this.log.length>0&&(h=this.log[this.log.length-1]._stateID);let m=k.deltalog||[];m=m.filter(S=>S._stateID>h),this.log=[...this.log,...m];break}case pu:{this.initialState=k.initialState,this.log=k.log||[];break}}return x});a=a!==void 0?vp(d,a):d,this.store=Cu(this.reducer,this.initialState,a),i||(i=Dv),this.transport=i({transportDataCallback:y=>this.receiveTransportData(y),gameKey:t,game:this.game,matchID:s,playerID:o,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=y=>{this.transport.sendChatMessage(this.matchID,{id:Bg(7),sender:this.playerID,payload:y})}}receiveMatchData(t){this.matchData=t,this.notifySubscribers()}receiveChatMessage(t){this.chatMessages=[...this.chatMessages,t],this.notifySubscribers()}receiveTransportData(t){const[n]=t.args;if(n===this.matchID)switch(t.type){case"sync":{const[,r]=t.args,i=Wh(r);this.receiveMatchData(r.filteredMetadata),this.store.dispatch(i);break}case"update":{const[,r,i]=t.args,s=this.store.getState();if(r._stateID>=s._stateID){const o=qh(r,i);this.store.dispatch(o)}break}case"patch":{const[,r,i,s,o]=t.args,l=this.store.getState()._stateID;if(r!==l)break;const a=Kh(r,i,s,o);this.store.dispatch(a),this.store.getState()._stateID===l&&this.transport.requestSync();break}case"matchData":{const[,r]=t.args;this.receiveMatchData(r);break}case"chat":{const[,r]=t.args;this.receiveChatMessage(r);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(t=>t(this.getState()))}overrideGameState(t){this.gameStateOverride=t,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(t){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=t,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&t(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let t=this.store.getState();if(this.gameStateOverride!==null&&(t=this.gameStateOverride),t===null)return t;let n=!0;const r=this.game.flow.isPlayerActive(t.G,t.ctx,this.playerID);return this.multiplayer&&!r&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!r&&(n=!1),t.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(t={...t,G:this.game.playerView({G:t.G,ctx:t.ctx,playerID:this.playerID}),plugins:ep(t,this)}),{...t,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=$v(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=Bv(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=zv(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(t){this.playerID=t,this.createDispatchers(),this.transport.updatePlayerID(t),this.notifySubscribers()}updateMatchID(t){this.matchID=t,this.createDispatchers(),this.transport.updateMatchID(t),this.notifySubscribers()}updateCredentials(t){this.credentials=t,this.createDispatchers(),this.transport.updateCredentials(t),this.notifySubscribers()}}function Uv(e){return new Fv(e)}const kp=(e,t)=>{if(!e||typeof e!="string")throw new Error(`Expected ${t} string, got "${e}".`)},kn=e=>kp(e,"game name"),Tr=e=>kp(e,"match ID"),Or=(e,t)=>{if(!e)throw new Error(`Expected body, got ${e}.`);for(const n in t){const r=t[n],i=Array.isArray(r)?r:[r],s=e[n];if(!i.includes(typeof s)){const o=i.join("|");throw new TypeError(`Expected body.${n} to be of type ${o}, got ${s}.`)}}};class Vv extends Error{constructor(t,n){super(t),this.details=n}}class Hv{constructor({server:t=""}={}){this.server=t.replace(/\/$/,"")}async request(t,n){const r=await fetch(this.server+t,n);if(!r.ok){let i;try{i=await r.clone().json()}catch{try{i=await r.text()}catch(s){i=s.message}}throw new Vv(`HTTP status ${r.status}`,i)}return r.json()}async post(t,n){let r={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(r={...r,...n.init,headers:{...r.headers,...n.init.headers}}),this.request(t,r)}async listGames(t){return this.request("/games",t)}async listMatches(t,n,r){kn(t);let i="";if(n){const s=[],{isGameover:o,updatedBefore:l,updatedAfter:a}=n;o!==void 0&&s.push(`isGameover=${o}`),l&&s.push(`updatedBefore=${l}`),a&&s.push(`updatedAfter=${a}`),s.length>0&&(i="?"+s.join("&"))}return this.request(`/games/${t}${i}`,r)}async getMatch(t,n,r){return kn(t),Tr(n),this.request(`/games/${t}/${n}`,r)}async createMatch(t,n,r){return kn(t),Or(n,{numPlayers:"number"}),this.post(`/games/${t}/create`,{body:n,init:r})}async joinMatch(t,n,r,i){return kn(t),Tr(n),Or(r,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${t}/${n}/join`,{body:r,init:i})}async leaveMatch(t,n,r,i){kn(t),Tr(n),Or(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/leave`,{body:r,init:i})}async updatePlayer(t,n,r,i){kn(t),Tr(n),Or(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/update`,{body:r,init:i})}async playAgain(t,n,r,i){return kn(t),Tr(n),Or(r,{playerID:"string",credentials:"string"}),this.post(`/games/${t}/${n}/playAgain`,{body:r,init:i})}}var _p={exports:{}},Wv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kv=Wv,qv=Kv;function Ep(){}function xp(){}xp.resetWarningCache=Ep;var Jv=function(){function e(r,i,s,o,l,a){if(a!==qv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xp,resetWarningCache:Ep};return n.PropTypes=n,n};_p.exports=Jv();var Qv=_p.exports;const xt=Cf(Qv);var qt={},Tu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */Tu.parse=Gv;Tu.serialize=e0;var Yv=decodeURIComponent,Xv=encodeURIComponent,Zv=/; */,Vi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Gv(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(Zv),s=r.decode||Yv,o=0;o<i.length;o++){var l=i[o],a=l.indexOf("=");if(!(a<0)){var u=l.substr(0,a).trim(),c=l.substr(++a,l.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),n[u]==null&&(n[u]=t0(c,s))}}return n}function e0(e,t,n){var r=n||{},i=r.encode||Xv;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Vi.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!Vi.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Vi.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Vi.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var a=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(a){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return o}function t0(e,t){try{return t(e)}catch{return e}}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ff=Object.getOwnPropertySymbols,n0=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable;function i0(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s0(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var o0=s0()?Object.assign:function(e,t){for(var n,r=i0(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)n0.call(n,o)&&(r[o]=n[o]);if(ff){i=ff(n);for(var l=0;l<i.length;l++)r0.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},l0={};Object.defineProperty(qt,"__esModule",{value:!0});var a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};qt.load=Tp;qt.loadAll=Op;qt.select=Ap;qt.save=Ip;qt.remove=Mp;qt.setRawCookie=Ou;qt.plugToRequest=jp;var u0=Tu,gr=Pp(u0),c0=o0,Cp=Pp(c0);function Pp(e){return e&&e.__esModule?e:{default:e}}var po=typeof document>"u"||typeof process<"u"&&l0&&!1,Ye={},mn=void 0;function Np(){return mn&&!mn.headersSent}function Tp(e,t){var n=po?Ye:gr.default.parse(document.cookie),r=n&&n[e];if(typeof t>"u"&&(t=!r||r[0]!=="{"&&r[0]!=="["),!t)try{r=JSON.parse(r)}catch{}return r}function Op(e){var t=po?Ye:gr.default.parse(document.cookie),n=t;if(typeof e>"u"&&(e=!n||n[0]!=="{"&&n[0]!=="["),!e)try{n=JSON.parse(n)}catch{}return n}function Ap(e){var t=po?Ye:gr.default.parse(document.cookie);return t?e?Object.keys(t).reduce(function(n,r){if(!e.test(r))return n;var i={};return i[r]=t[r],(0,Cp.default)({},n,i)},{}):t:{}}function Ip(e,t,n){Ye[e]=t,(typeof t>"u"?"undefined":a0(t))==="object"&&(Ye[e]=JSON.stringify(t)),po||(document.cookie=gr.default.serialize(e,Ye[e],n)),Np()&&mn.cookie&&mn.cookie(e,t,n)}function Mp(e,t){delete Ye[e],typeof t>"u"?t={}:typeof t=="string"?t={path:t}:t=(0,Cp.default)({},t),typeof document<"u"&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=gr.default.serialize(e,"",t)),Np()&&mn.clearCookie&&mn.clearCookie(e,t)}function Ou(e){e?Ye=gr.default.parse(e):Ye={}}function jp(e,t){return e.cookie?Ye=e.cookie:e.cookies?Ye=e.cookies:e.headers&&e.headers.cookie?Ou(e.headers.cookie):Ye={},mn=t,function(){mn=null,Ye={}}}var df=qt.default={setRawCookie:Ou,load:Tp,loadAll:Op,select:Ap,save:Ip,remove:Mp,plugToRequest:jp},Fs;(function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"})(Fs||(Fs={}));function _n(e){return e.type()===Fs.SYNC}class f0{type(){return Fs.SYNC}connect(){}createMatch(t,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(t,n);console.error("The database connector does not implement a createMatch method.")}listMatches(t){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(t);console.error("The database connector does not implement a listMatches method.")}}const d0=({game:e,unlisted:t,setupData:n,numPlayers:r})=>{const i={gameName:e.name,unlisted:!0,players:{},createdAt:Date.now(),updatedAt:Date.now()};for(let s=0;s<r;s++)i.players[s]={id:s};return i},h0=({game:e,numPlayers:t,setupData:n,unlisted:r})=>{(!t||typeof t!="number")&&(t=2);const i=e.validateSetupData&&e.validateSetupData(n,t);if(i!==void 0)return{setupDataError:i};const s=d0({game:e,numPlayers:t,setupData:n,unlisted:r}),o=Sp({game:e,numPlayers:t,setupData:n});return{metadata:s,initialState:o}},hf=e=>Object.values(e.players).map(t=>{const{credentials:n,...r}=t;return r}),p0=e=>{const{credentials:t,...n}=e.payload;return{...e,payload:n}};class m0{constructor(t,n,r,i){this.game=ho(t),this.storageAPI=n,this.transportAPI=r,this.subscribeCallback=()=>{},this.auth=i}subscribe(t){this.subscribeCallback=t}async onUpdate(t,n,r,i){if(!t||!t.payload)return{error:"missing action or action payload"};let s;if(_n(this.storageAPI)?{metadata:s}=this.storageAPI.fetch(r,{metadata:!0}):{metadata:s}=await this.storageAPI.fetch(r,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:i,credentials:t.payload.credentials,metadata:s}))return{error:"unauthorized action"};const o=p0(t),l=r;let a;if(_n(this.storageAPI)?{state:a}=this.storageAPI.fetch(l,{state:!0}):{state:a}=await this.storageAPI.fetch(l,{state:!0}),a===void 0)return q(`game not found, matchID=[${l}]`),{error:"game not found"};if(a.ctx.gameover!==void 0){q(`game over - matchID=[${l}] - playerID=[${i}] - action[${o.payload.type}]`);return}const u=xu({game:this.game}),c=wp(gp),f=Cu(u,a,c);if(o.type==uo||o.type==ao){const p=a.ctx.activePlayers!==null,h=a.ctx.currentPlayer===i;if(!p&&!h||p&&(a.ctx.activePlayers[i]===void 0||Object.keys(a.ctx.activePlayers).length>1)){q(`playerID=[${i}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(a.G,a.ctx,i)){q(`player not active - playerID=[${i}] - action[${o.payload.type}]`);return}const d=o.type==pi?this.game.flow.getMove(a.ctx,o.payload.type,i):null;if(o.type==pi&&!d){q(`move not processed - canPlayerMakeMove=false - playerID=[${i}] - action[${o.payload.type}]`);return}if(a._stateID!==n&&!(d&&mp(d)&&d.ignoreStaleStateID)){q(`invalid stateID, was=[${n}], expected=[${a._stateID}] - playerID=[${i}] - action[${o.payload.type}]`);return}const y=f.getState();f.dispatch(o),a=f.getState(),this.subscribeCallback({state:a,action:o,matchID:r}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[r,n,y,a]}):this.transportAPI.sendAll({type:"update",args:[r,a]});const{deltalog:v,...k}=a;let x;if(s&&(s.gameover===void 0||s.gameover===null)&&(x={...s,updatedAt:Date.now()},a.ctx.gameover!==void 0&&(x.gameover=a.ctx.gameover)),_n(this.storageAPI))this.storageAPI.setState(l,k,v),x&&this.storageAPI.setMetadata(l,x);else{const p=[this.storageAPI.setState(l,k,v)];x&&p.push(this.storageAPI.setMetadata(l,x)),await Promise.all(p)}}async onSync(t,n,r,i=2){const s=t,o={state:!0,metadata:!0,log:!0,initialState:!0},l=_n(this.storageAPI)?this.storageAPI.fetch(s,o):await this.storageAPI.fetch(s,o);let{state:a,initialState:u,log:c,metadata:f}=l;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:f}))return{error:"unauthorized"};if(a===void 0){const v=h0({game:this.game,unlisted:!0,numPlayers:i,setupData:void 0});if("setupDataError"in v)return{error:"game requires setupData"};u=a=v.initialState,f=v.metadata,this.subscribeCallback({state:a,matchID:t}),_n(this.storageAPI)?this.storageAPI.createMatch(s,{initialState:u,metadata:f}):await this.storageAPI.createMatch(s,{initialState:u,metadata:f})}const d=f?hf(f):void 0,y={state:a,log:c,filteredMetadata:d,initialState:u};this.transportAPI.send({playerID:n,type:"sync",args:[t,y]})}async onConnectionChange(t,n,r,i){const s=t;if(n==null)return;let o;if(_n(this.storageAPI)?{metadata:o}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:o}=await this.storageAPI.fetch(s,{metadata:!0}),o===void 0)return q(`metadata not found for matchID=[${s}]`),{error:"metadata not found"};if(o.players[n]===void 0)return q(`Player not in the match, matchID=[${s}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:o}))return{error:"unauthorized"};o.players[n].isConnected=i;const l=hf(o);this.transportAPI.sendAll({type:"matchData",args:[t,l]}),_n(this.storageAPI)?this.storageAPI.setMetadata(s,o):await this.storageAPI.setMetadata(s,o)}async onChatMessage(t,n,r){const i=t;if(this.auth){const{metadata:s}=await this.storageAPI.fetch(i,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:r,metadata:s}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[t,n]})}}const Hi=(e,t,n)=>({...n,G:e.playerView({G:n.G,ctx:n.ctx,playerID:t}),plugins:ep(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]}),y0=e=>(t,n)=>{switch(n.type){case"patch":{const[r,i,s,o]=n.args,l=Zo(o.deltalog,t),a=Hi(e,t,o),u=o._stateID,c=Hi(e,t,s),f=wu.createPatch(c,a);return{type:"patch",args:[r,i,u,f,l]}}case"update":{const[r,i]=n.args,s=Zo(i.deltalog,t),o=Hi(e,t,i);return{type:"update",args:[r,o,s]}}case"sync":{const[r,i]=n.args,s=Hi(e,t,i.state),o=Zo(i.log,t),l={...i,state:s,log:o};return{type:"sync",args:[r,l]}}default:return n}};function Zo(e,t){return e===void 0?e:e.map(n=>{if(t!==null&&+t==+n.action.payload.playerID||n.redact!==!0)return n;const r={...n.action.payload,args:null},i={...n,action:{...n.action,payload:r}},{redact:s,...o}=i;return o})}const Mt=Object.create(null);Mt.open="0";Mt.close="1";Mt.ping="2";Mt.pong="3";Mt.message="4";Mt.upgrade="5";Mt.noop="6";const ls=Object.create(null);Object.keys(Mt).forEach(e=>{ls[Mt[e]]=e});const sa={type:"error",data:"parser error"},Rp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dp=typeof ArrayBuffer=="function",Lp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Au=({type:e,data:t},n,r)=>Rp&&t instanceof Blob?n?r(t):pf(t,r):Dp&&(t instanceof ArrayBuffer||Lp(t))?n?r(t):pf(new Blob([t]),r):r(Mt[e]+(t||"")),pf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Go;function g0(e,t){if(Rp&&e.data instanceof Blob)return e.data.arrayBuffer().then(mf).then(t);if(Dp&&(e.data instanceof ArrayBuffer||Lp(e.data)))return t(mf(e.data));Au(e,!1,n=>{Go||(Go=new TextEncoder),t(Go.encode(n))})}const yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<yf.length;e++)br[yf.charCodeAt(e)]=e;const v0=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)s=br[e.charCodeAt(r)],o=br[e.charCodeAt(r+1)],l=br[e.charCodeAt(r+2)],a=br[e.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|l>>2,c[i++]=(l&3)<<6|a&63;return u},w0=typeof ArrayBuffer=="function",Iu=(e,t)=>{if(typeof e!="string")return{type:"message",data:bp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:S0(e.substring(1),t)}:ls[n]?e.length>1?{type:ls[n],data:e.substring(1)}:{type:ls[n]}:sa},S0=(e,t)=>{if(w0){const n=v0(e);return bp(n,t)}else return{base64:!0,data:e}},bp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},$p="",k0=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Au(s,!1,l=>{r[o]=l,++i===n&&t(r.join($p))})})},_0=(e,t)=>{const n=e.split($p),r=[];for(let i=0;i<n.length;i++){const s=Iu(n[i],t);if(r.push(s),s.type==="error")break}return r};function E0(){return new TransformStream({transform(e,t){g0(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let el;function Wi(e){return e.reduce((t,n)=>t+n.length,0)}function Ki(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function x0(e,t){el||(el=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Wi(n)<1)break;const a=Ki(n,1);s=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Wi(n)<2)break;const a=Ki(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(Wi(n)<8)break;const a=Ki(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(sa);break}i=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Wi(n)<i)break;const a=Ki(n,i);l.enqueue(Iu(s?a:el.decode(a),t)),r=0}if(i===0||i>e){l.enqueue(sa);break}}}})}const Bp=4;function pe(e){if(e)return C0(e)}function C0(e){for(var t in pe.prototype)e[t]=pe.prototype[t];return e}pe.prototype.on=pe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};pe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};pe.prototype.off=pe.prototype.removeListener=pe.prototype.removeAllListeners=pe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};pe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};pe.prototype.emitReserved=pe.prototype.emit;pe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};pe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),ot=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),P0="arraybuffer";function zp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const N0=ot.setTimeout,T0=ot.clearTimeout;function yo(e,t){t.useNativeTimers?(e.setTimeoutFn=N0.bind(ot),e.clearTimeoutFn=T0.bind(ot)):(e.setTimeoutFn=ot.setTimeout.bind(ot),e.clearTimeoutFn=ot.clearTimeout.bind(ot))}const O0=1.33;function A0(e){return typeof e=="string"?I0(e):Math.ceil((e.byteLength||e.size)*O0)}function I0(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Fp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function M0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function j0(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class R0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Mu extends pe{constructor(t){super(),this.writable=!1,yo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new R0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Iu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=M0(t);return n.length?"?"+n:""}}class D0 extends Mu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,k0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Fp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Up=!1;try{Up=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const L0=Up;function b0(){}class $0 extends D0{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class It extends pe{constructor(t,n,r){super(),this.createRequest=t,yo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=zp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=It.requestsCount++,It.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=b0,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete It.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}It.requestsCount=0;It.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",gf);else if(typeof addEventListener=="function"){const e="onpagehide"in ot?"pagehide":"unload";addEventListener(e,gf,!1)}}function gf(){for(let e in It.requests)It.requests.hasOwnProperty(e)&&It.requests[e].abort()}const B0=function(){const e=Vp({xdomain:!1});return e&&e.responseType!==null}();class z0 extends $0{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=B0&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new It(Vp,this.uri(),t)}}function Vp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||L0))return new XMLHttpRequest}catch{}if(!t)try{return new ot[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Hp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class F0 extends Mu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Hp?{}:zp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Au(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Fp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const tl=ot.WebSocket||ot.MozWebSocket;class U0 extends F0{createSocket(t,n,r){return Hp?new tl(t,n,r):n?new tl(t,n):new tl(t)}doWrite(t,n){this.ws.send(n)}}class V0 extends Mu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=x0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=E0();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const H0={websocket:U0,webtransport:V0,polling:z0},W0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,K0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oa(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=W0.exec(e||""),s={},o=14;for(;o--;)s[K0[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=q0(s,s.path),s.queryKey=J0(s,s.query),s}function q0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function J0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const la=typeof addEventListener=="function"&&typeof removeEventListener=="function",as=[];la&&addEventListener("offline",()=>{as.forEach(e=>e())},!1);class fn extends pe{constructor(t,n){if(super(),this.binaryType=P0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=oa(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=oa(n.host).host);yo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=j0(this.opts.query)),la&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},as.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Bp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&fn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",fn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=A0(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,mo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(fn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),la&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=as.indexOf(this._offlineEventListener);r!==-1&&as.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}fn.protocol=Bp;class Q0 extends fn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;fn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;fn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function s(){r||(r=!0,c(),n.close(),n=null)}const o=f=>{const d=new Error("probe error: "+f);d.transport=n.name,s(),this.emitReserved("upgradeError",d)};function l(){o("transport closed")}function a(){o("socket closed")}function u(f){n&&f.name!==n.name&&s()}const c=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Y0=class extends Q0{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>H0[i]).filter(i=>!!i)),super(t,r)}};function X0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=oa(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Z0=typeof ArrayBuffer=="function",G0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Wp=Object.prototype.toString,ew=typeof Blob=="function"||typeof Blob<"u"&&Wp.call(Blob)==="[object BlobConstructor]",tw=typeof File=="function"||typeof File<"u"&&Wp.call(File)==="[object FileConstructor]";function ju(e){return Z0&&(e instanceof ArrayBuffer||G0(e))||ew&&e instanceof Blob||tw&&e instanceof File}function us(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(us(e[n]))return!0;return!1}if(ju(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return us(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&us(e[n]))return!0;return!1}function nw(e){const t=[],n=e.data,r=e;return r.data=aa(n,t),r.attachments=t.length,{packet:r,buffers:t}}function aa(e,t){if(!e)return e;if(ju(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=aa(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=aa(e[r],t));return n}return e}function rw(e,t){return e.data=ua(e.data,t),delete e.attachments,e}function ua(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ua(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ua(e[n],t));return e}const Kp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],iw=5;var U;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(U||(U={}));class sw{constructor(t){this.replacer=t}encode(t){return(t.type===U.EVENT||t.type===U.ACK)&&us(t)?this.encodeAsBinary({type:t.type===U.EVENT?U.BINARY_EVENT:U.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===U.BINARY_EVENT||t.type===U.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=nw(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Ru extends pe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===U.BINARY_EVENT;r||n.type===U.BINARY_ACK?(n.type=r?U.EVENT:U.ACK,this.reconstructor=new ow(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ju(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(U[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===U.BINARY_EVENT||r.type===U.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Ru.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case U.CONNECT:return Us(n);case U.DISCONNECT:return n===void 0;case U.CONNECT_ERROR:return typeof n=="string"||Us(n);case U.EVENT:case U.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Kp.indexOf(n[0])===-1);case U.ACK:case U.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ow{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=rw(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function lw(e){return typeof e=="string"}const aw=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function uw(e){return e===void 0||aw(e)}function Us(e){return Object.prototype.toString.call(e)==="[object Object]"}function cw(e,t){switch(e){case U.CONNECT:return t===void 0||Us(t);case U.DISCONNECT:return t===void 0;case U.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Kp.indexOf(t[0])===-1);case U.ACK:return Array.isArray(t);case U.CONNECT_ERROR:return typeof t=="string"||Us(t);default:return!1}}function fw(e){return lw(e.nsp)&&uw(e.id)&&cw(e.type,e.data)}const dw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ru,Encoder:sw,get PacketType(){return U},isPacketValid:fw,protocol:iw},Symbol.toStringTag,{value:"Module"}));function pt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qp extends pe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[pt(t,"open",this.onopen.bind(this)),pt(t,"packet",this.onpacket.bind(this)),pt(t,"error",this.onerror.bind(this)),pt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,s;if(hw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:U.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,f=n.pop();this._registerAckCallback(c,f),o.id=c}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>(this._queue[0],i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:U.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case U.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case U.EVENT:case U.BINARY_EVENT:this.onevent(t);break;case U.ACK:case U.BINARY_ACK:this.onack(t);break;case U.DISCONNECT:this.ondisconnect();break;case U.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:U.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:U.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function vr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}vr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};vr.prototype.reset=function(){this.attempts=0};vr.prototype.setMin=function(e){this.ms=e};vr.prototype.setMax=function(e){this.max=e};vr.prototype.setJitter=function(e){this.jitter=e};class ca extends pe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,yo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new vr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||dw;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Y0(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=pt(n,"open",function(){r.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=pt(n,"error",s);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(pt(t,"ping",this.onping.bind(this)),pt(t,"data",this.ondata.bind(this)),pt(t,"error",this.onerror.bind(this)),pt(t,"close",this.onclose.bind(this)),pt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){mo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new qp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ar={};function cs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=X0(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ar[i]&&s in Ar[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new ca(r,t):(Ar[i]||(Ar[i]=new ca(r,t)),a=Ar[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(cs,{Manager:ca,Socket:qp,io:cs,connect:cs});class Jp extends f0{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(t,n){this.initial.set(t,n.initialState),this.setState(t,n.initialState),this.setMetadata(t,n.metadata)}setMetadata(t,n){this.metadata.set(t,n)}setState(t,n,r){if(r&&r.length>0){const i=this.log.get(t)||[];this.log.set(t,[...i,...r])}this.state.set(t,n)}fetch(t,n){const r={};return n.state&&(r.state=this.state.get(t)),n.metadata&&(r.metadata=this.metadata.get(t)),n.log&&(r.log=this.log.get(t)||[]),n.initialState&&(r.initialState=this.initial.get(t)),r}wipe(t){this.state.delete(t),this.metadata.delete(t)}listMatches(t){return[...this.metadata.entries()].filter(([,n])=>t?!(t.gameName!==void 0&&n.gameName!==t.gameName||t.where!==void 0&&(t.where.isGameover!==void 0&&n.gameover!==void 0!==t.where.isGameover||t.where.updatedBefore!==void 0&&n.updatedAt>=t.where.updatedBefore||t.where.updatedAfter!==void 0&&n.updatedAt<=t.where.updatedAfter)):!0).map(([n])=>n)}}class pw extends Map{constructor(t){super(),this.key=t,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(r=>this.set(...r))}sync(){const t=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(t))}set(t,n){return super.set(t,n),this.sync(),this}delete(t){const n=super.delete(t);return this.sync(),n}}class mw extends Jp{constructor(t="bgio"){super();const n=r=>new pw(`${t}_${r}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function yw(e,t){if(e.ctx.gameover!==void 0)return null;if(e.ctx.activePlayers){for(const n of Object.keys(t))if(n in e.ctx.activePlayers)return n}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}class gw extends m0{constructor({game:t,bots:n,storageKey:r,persist:i}){const s={},o={};if(t&&t.ai&&n)for(const f in n){const d=n[f];o[f]=new d({game:t,enumerate:t.ai.enumerate,seed:t.seed})}const l=({playerID:f,...d})=>{const y=s[f];y!==void 0&&y(a(f,d))},a=y0(t),u={send:l,sendAll:f=>{for(const d in s)l({playerID:d,...f})}},c=i?new mw(r):new Jp;super(t,c,u),this.connect=(f,d)=>{s[f]=d},this.subscribe(({state:f,matchID:d})=>{if(!n)return;const y=yw(f,o);y!==null&&setTimeout(async()=>{const v=await o[y].play(f,y);await this.onUpdate(v.action,f._stateID,d,v.action.payload.playerID)},100)})}}class vw extends Pu{constructor({master:t,...n}){super(n),this.master=t}sendChatMessage(t,n){const r=[t,n,this.credentials];this.master.onChatMessage(...r)}sendAction(t,n){this.master.onUpdate(n,t._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,t=>this.notifyClient(t)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(t){this.matchID=t,this.connect()}updatePlayerID(t){this.playerID=t,this.connect()}updateCredentials(t){this.credentials=t,this.connect()}}const vf=new Map;function Qp({bots:e,persist:t,storageKey:n}={}){return r=>{const{gameKey:i,game:s}=r;let o;const l=vf.get(i);return l&&l.bots===e&&l.storageKey===n&&l.persist===t&&(o=l.master),o||(o=new gw({game:s,bots:e,persist:t,storageKey:n}),vf.set(i,{master:o,bots:e,persist:t,storageKey:n})),new vw({master:o,...r})}}const wf=cs;class ww extends Pu{constructor({socket:t,socketOpts:n,server:r,...i}){super(i),this.server=r,this.socket=t,this.socketOpts=n}sendAction(t,n){const r=[n,t._stateID,this.matchID,this.playerID];this.socket.emit("update",...r)}sendChatMessage(t,n){const r=[t,n,this.credentials];this.socket.emit("chat",...r)}connect(){if(!this.socket)if(this.server){let t=this.server;t.search(/^https?:\/\//)==-1&&(t="http://"+this.server),t.slice(-1)!="/"&&(t=t+"/"),this.socket=wf(t+this.gameName,this.socketOpts)}else this.socket=wf("/"+this.gameName,this.socketOpts);this.socket.on("patch",(t,n,r,i,s)=>{this.notifyClient({type:"patch",args:[t,n,r,i,s]})}),this.socket.on("update",(t,n,r)=>{this.notifyClient({type:"update",args:[t,n,r]})}),this.socket.on("sync",(t,n)=>{this.notifyClient({type:"sync",args:[t,n]})}),this.socket.on("matchData",(t,n)=>{this.notifyClient({type:"matchData",args:[t,n]})}),this.socket.on("chat",(t,n)=>{this.notifyClient({type:"chat",args:[t,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const t=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...t)}}updateMatchID(t){this.matchID=t,this.requestSync()}updatePlayerID(t){this.playerID=t,this.requestSync()}updateCredentials(t){this.credentials=t,this.requestSync()}}function Sf({server:e,socketOpts:t}={}){return n=>new ww({server:e,socketOpts:t,...n})}function Yp(e){var t;const{game:n,numPlayers:r,board:i,multiplayer:s,enhancer:o}=e;let{loading:l,debug:a}=e;return l===void 0&&(l=()=>L.createElement("div",{className:"bgio-loading"},"connecting...")),t=class extends L.Component{constructor(c){super(c),a===void 0&&(a=c.debug),this.client=Uv({game:n,debug:a,numPlayers:r,multiplayer:s,matchID:c.matchID,playerID:c.playerID,credentials:c.credentials,enhancer:o})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(c){this.props.matchID!=c.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=c.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=c.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const c=this.client.getState();if(c===null)return L.createElement(l);let f=null;return i&&(f=L.createElement(i,{...c,...this.props,isMultiplayer:!!s,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),L.createElement("div",{className:"bgio-client"},f)}},t.propTypes={matchID:xt.string,playerID:xt.string,credentials:xt.string,debug:xt.any},t.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},t}class Sw{constructor({server:t,gameComponents:n,playerName:r,playerCredentials:i}){this.client=new Hv({server:t}),this.gameComponents=n,this.playerName=r||"Visitor",this.playerCredentials=i,this.matches=[]}async refresh(){try{this.matches=[];const t=await this.client.listGames();for(const n of t){if(!this._getGameComponents(n))continue;const{matches:r}=await this.client.listMatches(n);this.matches.push(...r)}}catch(t){throw new Error("failed to retrieve list of matches ("+t+")")}}_getMatchInstance(t){for(const n of this.matches)if(n.matchID===t)return n}_getGameComponents(t){for(const n of this.gameComponents)if(n.game.name===t)return n}_findPlayer(t){for(const n of this.matches)if(n.players.some(r=>r.name===t))return n}async join(t,n,r){try{let i=this._findPlayer(this.playerName);if(i)throw new Error("player has already joined "+i.matchID);if(i=this._getMatchInstance(n),!i)throw new Error("game instance "+n+" not found");const s=await this.client.joinMatch(t,n,{playerID:r,playerName:this.playerName});i.players[Number.parseInt(r)].name=this.playerName,this.playerCredentials=s.playerCredentials}catch(i){throw new Error("failed to join match "+n+" ("+i+")")}}async leave(t,n){try{const r=this._getMatchInstance(n);if(!r)throw new Error("match instance not found");for(const i of r.players)if(i.name===this.playerName){await this.client.leaveMatch(t,n,{playerID:i.id.toString(),credentials:this.playerCredentials}),delete i.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(r){throw new Error("failed to leave match "+n+" ("+r+")")}}async disconnect(){const t=this._findPlayer(this.playerName);t&&await this.leave(t.gameName,t.matchID),this.matches=[],this.playerName="Visitor"}async create(t,n){try{const r=this._getGameComponents(t);if(!r)throw new Error("game not found");if(n<r.game.minPlayers||n>r.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(t,{numPlayers:n})}catch(r){throw new Error("failed to create match for "+t+" ("+r+")")}}}function kw(e){return new Sw(e)}class Xp extends L.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=t=>{t.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=t=>{const n=t.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return L.createElement("div",null,L.createElement("p",{className:"phase-title"},"Choose a player name:"),L.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),L.createElement("span",{className:"buttons"},L.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),L.createElement("br",null),L.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,L.createElement("br",null)))}}Xp.defaultProps={playerName:""};class _w extends L.Component{constructor(){super(...arguments),this._createSeat=t=>t.name||"[free]",this._createButtonJoin=(t,n)=>L.createElement("button",{key:"button-join-"+t.matchID,onClick:()=>this.props.onClickJoin(t.gameName,t.matchID,""+n)},"Join"),this._createButtonLeave=t=>L.createElement("button",{key:"button-leave-"+t.matchID,onClick:()=>this.props.onClickLeave(t.gameName,t.matchID)},"Leave"),this._createButtonPlay=(t,n)=>L.createElement("button",{key:"button-play-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,playerID:""+n,numPlayers:t.players.length})},"Play"),this._createButtonSpectate=t=>L.createElement("button",{key:"button-spectate-"+t.matchID,onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,numPlayers:t.players.length})},"Spectate"),this._createInstanceButtons=t=>{const n=t.players.find(i=>i.name===this.props.playerName),r=t.players.find(i=>!i.name);return n&&r?this._createButtonLeave(t):r?this._createButtonJoin(t,r.id):n?L.createElement("div",null,[this._createButtonPlay(t,n.id),this._createButtonLeave(t)]):this._createButtonSpectate(t)}}render(){const t=this.props.match;let n="OPEN";return t.players.some(r=>!r.name)||(n="RUNNING"),L.createElement("tr",{key:"line-"+t.matchID},L.createElement("td",{key:"cell-name-"+t.matchID},t.gameName),L.createElement("td",{key:"cell-status-"+t.matchID},n),L.createElement("td",{key:"cell-seats-"+t.matchID},t.players.map(r=>this._createSeat(r)).join(", ")),L.createElement("td",{key:"cell-buttons-"+t.matchID},this._createInstanceButtons(t)))}}class Ew extends L.Component{constructor(t){super(t),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,r)=>L.createElement("option",{key:"name-option-"+r,value:r},n.game.name),this._createNumPlayersOption=n=>L.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((r,i)=>i).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const r=Number.parseInt(n.target.value);this.setState({selectedGame:r,numPlayers:this.props.games[r].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of t.games){const r=n.game;r.minPlayers||(r.minPlayers=1),r.maxPlayers||(r.maxPlayers=4),console.assert(r.maxPlayers>=r.minPlayers)}this.state={selectedGame:0,numPlayers:t.games[0].game.minPlayers}}render(){return L.createElement("div",null,L.createElement("select",{value:this.state.selectedGame,onChange:t=>this.onChangeSelectedGame(t)},this.props.games.map((t,n)=>this._createGameNameOption(t,n))),L.createElement("span",null,"Players:"),L.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(t=>this._createNumPlayersOption(t))),L.createElement("span",{className:"buttons"},L.createElement("button",{onClick:this.onClickCreate},"Create")))}}var ze;(function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"})(ze||(ze={}));class Zp extends L.Component{constructor(t){super(t),this.state={phase:ze.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const r=this.state.playerName;this.connection=kw({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:r,playerCredentials:this.state.credentialStore[r]})},this._updateCredentials=(n,r)=>{this.setState(i=>{const s=Object.assign({},i.credentialStore);return s[n]=r,{credentialStore:s}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:ze.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:ze.ENTER,errorMsg:""})},this._createMatch=async(n,r)=>{try{await this.connection.create(n,r),await this.connection.refresh(),this.setState({})}catch(i){this.setState({errorMsg:i.message})}},this._joinMatch=async(n,r,i)=>{try{await this.connection.join(n,r,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(s){this.setState({errorMsg:s.message})}},this._leaveMatch=async(n,r)=>{try{await this.connection.leave(n,r),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(i){this.setState({errorMsg:i.message})}},this._startMatch=(n,r)=>{const i=this.connection._getGameComponents(n);if(!i){this.setState({errorMsg:"game "+n+" not supported"});return}let s;if(r.numPlayers>1&&(s=this.props.gameServer?Sf({server:this.props.gameServer}):Sf()),r.numPlayers==1){const a=i.game.maxPlayers,u={};for(let c=1;c<a;c++)u[c+""]=os;s=Qp({bots:u})}const l={app:this.props.clientFactory({game:i.game,board:i.board,debug:this.props.debug,multiplayer:s}),matchID:r.matchID,playerID:r.numPlayers>1?r.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:ze.PLAY,runningMatch:l})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:ze.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,r)=>n.map(i=>{const{matchID:s,gameName:o,players:l}=i;return L.createElement(_w,{key:"instance-"+s,match:{matchID:s,gameName:o,players:Object.values(l)},playerName:r,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const t=df.load("lobbyState")||{};t.phase&&t.phase===ze.PLAY&&(t.phase=ze.LIST),t.phase&&t.phase!==ze.ENTER&&this._startRefreshInterval(),this.setState({phase:t.phase||ze.ENTER,playerName:t.playerName||"Visitor",credentialStore:t.credentialStore||{}})}componentDidUpdate(t,n){const r=this.state.playerName,i=this.state.credentialStore[r];if(n.phase!==this.state.phase||n.credentialStore[r]!==i||n.playerName!==r){this._createConnection(this.props),this._updateConnection();const s={phase:this.state.phase,playerName:r,credentialStore:this.state.credentialStore};df.save("lobbyState",s,{path:"/"})}t.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:t,renderer:n}=this.props,{errorMsg:r,playerName:i,phase:s,runningMatch:o}=this.state;return n?n({errorMsg:r,gameComponents:t,matches:this.connection.matches,phase:s,playerName:i,runningMatch:o,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):L.createElement("div",{id:"lobby-view",style:{padding:50}},L.createElement("div",{className:this._getPhaseVisibility(ze.ENTER)},L.createElement(Xp,{key:i,playerName:i,onEnter:this._enterLobby})),L.createElement("div",{className:this._getPhaseVisibility(ze.LIST)},L.createElement("p",null,"Welcome, ",i),L.createElement("div",{className:"phase-title",id:"match-creation"},L.createElement("span",null,"Create a match:"),L.createElement(Ew,{games:t,createMatch:this._createMatch})),L.createElement("p",{className:"phase-title"},"Join a match:"),L.createElement("div",{id:"instances"},L.createElement("table",null,L.createElement("tbody",null,this.renderMatches(this.connection.matches,i))),L.createElement("span",{className:"error-msg"},r,L.createElement("br",null))),L.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),L.createElement("div",{className:this._getPhaseVisibility(ze.PLAY)},o&&L.createElement(o.app,{matchID:o.matchID,playerID:o.playerID,credentials:o.credentials}),L.createElement("div",{className:"buttons",id:"match-exit"},L.createElement("button",{onClick:this._exitMatch},"Exit match"))),L.createElement("div",{className:"buttons",id:"lobby-exit"},L.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}Zp.propTypes={gameComponents:xt.array.isRequired,lobbyServer:xt.string,gameServer:xt.string,debug:xt.bool,clientFactory:xt.func,refreshInterval:xt.number};Zp.defaultProps={debug:!1,clientFactory:Yp,refreshInterval:2e3};const wt=["Hearts","Diamonds","Clubs","Spades"],Gp=40,em=5,xw=["","","","","",""],tm={deckType:52,nomenclature:!0,allowSwap:!0,northernStyle:!1,miceVariant:!1,ordenNachalniku:!1,medalsCount:!1,accumulateJobs:!1};function Cw(e,t){const n={};if(e.deckType===36)for(const r of wt)n[r]=[{suit:r,value:1}];else for(const r of wt){const i=Array.from({length:em},(s,o)=>({suit:r,value:o+1}));n[r]=t.Shuffle(i)}return n}function nm(e,t,n){var s;const r={};let i=!1;if(!e)return console.error("revealJobs called with undefined jobPiles"),{jobs:r,isFamine:i};for(const o of wt){const l=e[o];if(!l||l.length===0){r[o]=null;continue}if((n==null?void 0:n.deckType)===36)r[o]=l[0];else if(n!=null&&n.accumulateJobs&&((s=t==null?void 0:t[o])==null?void 0:s.length)>0){const c=l.pop(),f=t[o]||[];r[o]=[...f,c].filter(Boolean)}else r[o]=l.pop();const a=r[o],u=Array.isArray(a)?a:[a];for(const c of u)c&&c.suit==="Clubs"&&c.value===1&&(i=!0)}return{jobs:r,isFamine:i}}function qi(e,t){return t.deckType!==36||e<2||e>5}function rm(e,t,n,r,i){const s=[];for(const a of wt)for(let u=6;u<=13;u++)s.push({suit:a,value:u});const o=new Set;for(const a of e){for(const u of a.hand||[])qi(u.value,r)&&o.add(`${u.suit}-${u.value}`);for(const u of a.plot.revealed||[])qi(u.value,r)&&o.add(`${u.suit}-${u.value}`);for(const u of a.plot.hidden||[])qi(u.value,r)&&o.add(`${u.suit}-${u.value}`)}if(!r.ordenNachalniku)for(const a of Object.values(n||{}))for(const u of a)o.add(u);const l=s.filter(a=>qi(a.value,r)&&!o.has(`${a.suit}-${a.value}`));return i.Shuffle(l)}function im(e,t,n=!1){e.length;const r=n?4:5;for(const i of e)i.hand=[];for(let i=0;i<r;i++)for(const s of e)t.length>0&&s.hand.push(t.pop())}function Pw(e,t,n){const r=e.players[t];if(n<0||n>=r.hand.length)return!1;const i=r.hand[n];if(e.currentTrick.length===0)return!0;const s=e.currentTrick[0][1].suit;return r.hand.some(l=>l.suit===s)?i.suit===s:!0}function Nw(e){if(e.currentTrick.length!==e.numPlayers)return null;const t=e.currentTrick[0][1].suit,n=e.currentTrick.filter(([,o])=>o.suit===e.trump),r=n.length>0?n:e.currentTrick.filter(([,o])=>o.suit===t);let i=null,s=-1;for(const[o,l]of r)l.value>s&&(s=l.value,i=o);return i}function Tw(e,t){e.lastWinner=t,e.lastTrick=[...e.currentTrick],e.currentTrick=[],e.trickCount++,e.lead=t;for(const n of e.players)n.brigadeLeader=!1;return e.players[t].brigadeLeader=!0,e.players[t].hasWonTrickThisYear=!0,e.players[t].medals++,t}function Ow(e){if(e.length===0)return!1;const t=e[0][1].suit;return e.every(([,n])=>n.suit===t)}function fa(e){return e.players.every(t=>t.hand.length===1)}function sm(e,t,n){for(const[r,i]of Object.entries(t)){const[s,o]=r.split("-"),l=parseInt(o,10),a={suit:s,value:l};e.jobBuckets[i].push(a);let u=l;n.nomenclature&&s===e.trump&&l===11&&(u=0),e.workHours[i]+=u}for(const r of Object.keys(e.workHours))e.workHours[r]>=Gp&&!e.claimedJobs.includes(r)&&Aw(e,r,n)}function Aw(e,t,n){if(e.claimedJobs.push(t),n.deckType===36&&n.ordenNachalniku){const r=[...e.jobBuckets[t]];if(r.length===0)return;const i=r.reduce((l,a)=>a.value<l.value?a:l),s=r.filter(l=>!(l.suit===i.suit&&l.value===i.value)).sort((l,a)=>l.value-a.value),o=e.players[e.lastWinner];o.plot.stacks||(o.plot.stacks=[]),o.plot.stacks.push({revealed:[i],hidden:s}),e.jobBuckets[t]=[]}else if(n.deckType!==36){const r=e.players[e.lastWinner],i=Array.isArray(e.revealedJobs[t])?e.revealedJobs[t]:[e.revealedJobs[t]];for(const s of i)r.plot.revealed.push(s);e.revealedJobs[t]=null,n.accumulateJobs&&(e.accumulatedJobCards[t]=[])}}function Iw(e){if(!Ow(e))return null;const t=e[0][1].suit,n={};for(const[,r]of e){const i=`${r.suit}-${r.value}`;n[i]=t}return n}function Mw(e,t){e.trickHistory||(e.trickHistory=[]),e.trickHistory.push({type:"jobs",year:e.year,jobs:{...e.workHours}}),e.trickHistory.push({type:"requisition",year:e.year,requisitions:[]});for(const[n,r]of Object.entries(e.jobBuckets))e.workHours[n]>=Gp||(t.miceVariant?jw(e,n,r,t):t.deckType===36?Rw(e,n,r,t):Dw(e,n,r,t))}function Du(e,t,n){if(!n.nomenclature)return!1;for(const r of t)if(r.value===11&&r.suit===e.trump)return e.trickHistory[e.trickHistory.length-1].requisitions.push("   "),Vs(e,`${r.suit}-${r.value}`),!0;return!1}function Lu(e,t,n){return n.nomenclature?e.some(r=>r.value===12&&r.suit===t):!1}function bu(e,t,n){return n.nomenclature?e.some(r=>r.value===13&&r.suit===t):!1}function Vs(e,t){e.exiled[e.year]||(e.exiled[e.year]=[]),e.exiled[e.year].push(t)}function gi(e){return`${{11:"J",12:"Q",13:"K"}[e.value]||e.value} of ${e.suit}`}function jw(e,t,n,r){if(Du(e,n,r))return;const i=Lu(n,e.trump,r),s=bu(n,e.trump,r),o=om(e,t,i,null,r);o.length!==0&&(o.sort((l,a)=>a[1].value-l[1].value),Hs(e,o[0]),s&&o.length>1&&(Hs(e,o[1]),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${o[1][0].name}    ${gi(o[1][1])}`)))}function Rw(e,t,n,r){if(Du(e,n,r))return;const i=Lu(n,e.trump,r),s=bu(n,e.trump,r),o=u=>{if(!r.ordenNachalniku)return!0;const c=u.plot.stacks&&u.plot.stacks.length>0;return i||c},l=om(e,t,i,o,r);for(const u of e.players){if(!o(u))continue;const c=(u.plot.revealed||[]).filter(f=>f.suit===t);for(const f of c)l.some(([y,v])=>y===u&&v.suit===f.suit&&v.value===f.value)||l.push([u,f])}const a=new Map;for(const[u,c]of l)a.has(u)||a.set(u,[]),a.get(u).push(c);for(const[u,c]of a.entries())c.length!==0&&(c.sort((f,d)=>d.value-f.value),Hs(e,[u,c[0]]),s&&c.length>1&&(Hs(e,[u,c[1]]),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${u.name}    ${gi(c[1])}`)))}function Dw(e,t,n,r){if(Du(e,n,r))return;const i=Lu(n,e.trump,r),s=bu(n,e.trump,r);for(const o of e.players){if(!(r.northernStyle||o.hasWonTrickThisYear||i))continue;const a=(o.plot.hidden||[]).filter(d=>d.suit===t);o.plot.revealed.push(...a),o.plot.hidden=(o.plot.hidden||[]).filter(d=>d.suit!==t);const u=(o.plot.revealed||[]).filter(d=>d.suit===t).sort((d,y)=>y.value-d.value);if(u.length===0)continue;const c=u[0],f=o.plot.revealed.findIndex(d=>d.suit===c.suit&&d.value===c.value);if(o.plot.revealed.splice(f,1),Vs(e,`${c.suit}-${c.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(`${o.name}    ${gi(c)}`),s&&u.length>1){const d=u[1],y=o.plot.revealed.findIndex(v=>v.suit===d.suit&&v.value===d.value);o.plot.revealed.splice(y,1),Vs(e,`${d.suit}-${d.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(` : ${o.name}    ${gi(d)}`)}}}function om(e,t,n,r,i){const s=[];for(const o of e.players){if(r&&!r(o))continue;const l=(o.plot.hidden||[]).filter(c=>c.suit===t),a=[];if(i.ordenNachalniku&&i.deckType===36&&o.plot.stacks)for(const c of o.plot.stacks){for(const f of c.revealed||[])f.suit===t&&a.push({card:f,stack:c,location:"revealed"});for(const f of c.hidden||[])f.suit===t&&a.push({card:f,stack:c,location:"hidden"})}const u=[...l,...a.map(c=>c.card)];if(u.length!==0){if(n){for(const c of l){const f=o.plot.hidden.findIndex(d=>d.suit===c.suit&&d.value===c.value);o.plot.hidden.splice(f,1),o.plot.revealed.push(c),s.push([o,c])}for(const{card:c,stack:f,location:d}of a){const y=d==="hidden"?f.hidden:f.revealed,v=y.findIndex(k=>k.suit===c.suit&&k.value===c.value);v!==-1&&(y.splice(v,1),o.plot.revealed.push(c),s.push([o,c]))}}else{const c=u.reduce((d,y)=>y.value>d.value?y:d);if(l.some(d=>d.suit===c.suit&&d.value===c.value)){const d=o.plot.hidden.findIndex(y=>y.suit===c.suit&&y.value===c.value);o.plot.hidden.splice(d,1),o.plot.revealed.push(c),s.push([o,c])}else{const d=a.find(y=>y.card.suit===c.suit&&y.card.value===c.value);if(d){const{stack:y,location:v}=d,k=v==="hidden"?y.hidden:y.revealed,x=k.findIndex(p=>p.suit===c.suit&&p.value===c.value);x!==-1&&(k.splice(x,1),o.plot.revealed.push(c),s.push([o,c]))}}}o.plot.stacks&&(o.plot.stacks=o.plot.stacks.filter(c=>c.revealed&&c.revealed.length>0||c.hidden&&c.hidden.length>0))}}return s}function Hs(e,[t,n]){let r=(t.plot.revealed||[]).findIndex(i=>i.suit===n.suit&&i.value===n.value);if(r!==-1)t.plot.revealed.splice(r,1);else if(t.plot.stacks){for(const i of t.plot.stacks){if(r=(i.revealed||[]).findIndex(s=>s.suit===n.suit&&s.value===n.value),r!==-1){i.revealed.splice(r,1);break}if(r=(i.hidden||[]).findIndex(s=>s.suit===n.suit&&s.value===n.value),r!==-1){i.hidden.splice(r,1);break}}t.plot.stacks=t.plot.stacks.filter(i=>i.revealed&&i.revealed.length>0||i.hidden&&i.hidden.length>0)}Vs(e,`${n.suit}-${n.value}`),e.trickHistory[e.trickHistory.length-1].requisitions.push(`${t.name}    ${gi(n)}`)}function Lw(e,t){const n={};for(let r=0;r<e.players.length;r++){const i=e.players[r];let s=0;for(const o of i.plot.revealed||[])s+=o.value;if(t.medalsCount&&(s+=(i.plot.medals||0)+(i.medals||0)),i.plot.stacks)for(const o of i.plot.stacks)for(const l of o.revealed||[])s+=l.value;n[r]=s}return n}function bw(e,t){const n=Lw(e,t);for(let r=0;r<e.players.length;r++){const i=e.players[r];for(const s of i.plot.hidden||[])n[r]+=s.value}return n}function $w(e,t){const n=bw(e,t);let r=1/0,i=0;for(const[s,o]of Object.entries(n))o<r&&(r=o,i=parseInt(s,10));return{winner:i,scores:n}}function Bw(e,t,n){var s;if((t==null?void 0:t.deckType)!==36&&!(t!=null&&t.northernStyle)&&e.revealedJobs){for(const o of wt)if(!((s=e.claimedJobs)!=null&&s.includes(o))){const l=e.revealedJobs[o];if(!l)continue;const a=Array.isArray(l)?l:[l];if(t.accumulateJobs)e.accumulatedJobCards[o]||(e.accumulatedJobCards[o]=[]),e.accumulatedJobCards[o].push(...a.filter(Boolean));else{e.exiled[e.year]||(e.exiled[e.year]=[]);for(const u of a)u&&e.exiled[e.year].push(`${u.suit}-${u.value}`)}}}if(e.year++,e.year>em)return!0;e.trickCount=0,e.currentTrick=[],e.trump=null;for(const o of wt)e.workHours[o]=0;const{jobs:r,isFamine:i}=nm(e.jobPiles,e.accumulatedJobCards,t);if(e.revealedJobs=r,e.isFamine=i,t.ordenNachalniku&&t.deckType===36){for(const o of e.players)if(o.plot.stacks){for(const l of o.plot.stacks)l.revealed&&l.revealed.length>0&&o.plot.revealed.push(...l.revealed);o.plot.stacks=[]}}for(const o of wt)e.jobBuckets[o]=[];e.claimedJobs=[];for(const o of e.players)o.hand=[],t.medalsCount&&o.medals>0&&(o.plot.medals=(o.plot.medals||0)+o.medals),o.medals=0,o.hasWonTrickThisYear=!1,o.brigadeLeader=!1;return e.trumpSelector=(e.trumpSelector+1)%e.numPlayers,e.workersDeck=rm(e.players,e.jobBuckets,e.exiled,t,n),im(e.players,e.workersDeck,e.isFamine),!1}function lm(e,t){const n=wt.filter(r=>e.jobPiles[r].length>0);if(n.length>0){const r=t.Die(n.length)-1;e.trump=n[r]}}function kf(e,t,n=!0){return n&&e.value===11&&e.suit===t?0:e.value}function am(e,t,n){var f,d,y;const r=e.workHours[t]||0;if((f=e.claimedJobs)==null?void 0:f.includes(t))return-10;const s=Math.max(0,40-r),o=s<20?(20-s)*2:0,l=e.players[n],c=[...((d=l.plot)==null?void 0:d.revealed)||[],...((y=l.plot)==null?void 0:y.hidden)||[]].filter(v=>v.suit===t).length*15;return o+c}function zw(e,t,n){var f,d,y,v,k;const r=e.players[t],i=r.hand[n];let s=0;const o=e.currentTrick.length===0,l=(d=(f=e.currentTrick[0])==null?void 0:f[1])==null?void 0:d.suit,a=e.currentTrick.map(([,x])=>x),u=Fw(e,i,a),c=Uw(e,t);if(o){const x=am(e,i.suit,t);s+=x*.3,i.value>=8&&i.value<=11&&(s+=5),i.suit===e.trump&&e.trickCount<2&&(s-=10)}else if(c>0&&u>.5?s+=c*u*20:c<0&&u<.5&&(s+=Math.abs(c)*(1-u)*15),i.suit!==l){const p=[...((y=r.plot)==null?void 0:y.revealed)||[],...((v=r.plot)==null?void 0:v.hidden)||[]].filter(h=>h.suit===i.suit).length;(k=e.claimedJobs)!=null&&k.includes(i.suit)||(s+=p*3)}return s+=Math.random()*2,s}function Fw(e,t,n){if(n.length===0)return .5;const r=n[0].suit;let i=n[0];for(const s of n)(s.suit===e.trump&&i.suit!==e.trump||s.suit===i.suit&&s.value>i.value)&&(i=s);return t.suit===e.trump&&i.suit!==e.trump?.8:t.suit===i.suit&&t.value>i.value?.7:t.suit!==r&&t.suit!==e.trump?.1:.3}function Uw(e,t){let n=0;const r=[...new Set(e.currentTrick.map(([,s])=>s.suit))];for(const s of r){const o=am(e,s,t);n+=o*.1}return e.players[t].brigadeLeader&&(n+=5),e.trickCount>=2&&(n+=3),n}function Vw(e,t,n){var f,d;let r=0;const i=e.players[n],s=i.hand||[],o=s.filter(y=>y.suit===t&&y.value>=11).length;r+=o*15;const l=s.filter(y=>y.suit===t).length;r+=l*5;const a=e.workHours[t]||0;a>=20&&a<40&&(r+=10);const c=[...((f=i.plot)==null?void 0:f.revealed)||[],...((d=i.plot)==null?void 0:d.hidden)||[]].filter(y=>y.suit===t).length;return r-=c*8,r+=Math.random()*5,r}function Hw(e,t,n){var s,o,l,a,u,c,f;const r=[],i=e.players[n];if(t.phase==="planning"&&!e.trump)for(const d of wt){const y=Vw(e,d,n);r.push({move:"setTrump",args:[d],score:y})}else if(t.phase==="trick")for(let d=0;d<i.hand.length;d++){const y=i.hand[d],v=(o=(s=e.currentTrick[0])==null?void 0:s[1])==null?void 0:o.suit;if(e.currentTrick.length>0&&i.hand.some(p=>p.suit===v)&&y.suit!==v)continue;const k=zw(e,n,d);r.push({move:"playCard",args:[d],score:k})}else if(t.phase==="assignment"&&n===e.lastWinner){const d=[...new Set(e.lastTrick.map(([,T])=>T.suit))],y=e.players[n],v=[...((l=y.plot)==null?void 0:l.revealed)||[],...((a=y.plot)==null?void 0:a.hidden)||[]],k=e.lastTrick.reduce((T,[,_])=>{var I;return T+kf(_,e.trump,(I=e.variants)==null?void 0:I.nomenclature)},0);let x=d[0],p=-1/0;for(const T of d){const _=e.workHours[T]||0;if((u=e.claimedJobs)==null?void 0:u.includes(T)){p<0&&(p=0,x=T);continue}const R=_+k;let V=0;R>=40?(V+=200,V-=(R-40)*2):(V+=R,R>=30?V+=30:R>=20&&(V+=15));const K=v.filter(Q=>Q.suit===T).length;V+=K*20,V>p&&(p=V,x=T)}let h=0;const m={};for(const[,T]of e.lastTrick){const _=kf(T,e.trump,(c=e.variants)==null?void 0:c.nomenclature);let I=T.suit,R=-1/0;for(const V of d){const K=e.workHours[V]||0,Q=(f=e.claimedJobs)==null?void 0:f.includes(V);let Y=0;if(Q)Y=0;else{const ke=K+_;ke>=40?Y+=150:(Y+=ke*.5,ke>=30&&(Y+=15));const _e=v.filter(Ke=>Ke.suit===V).length;Y+=_e*10}Y>R&&(R=Y,I=V)}m[`${T.suit}-${T.value}`]=I,h+=R}const S=e.pendingAssignments||{};let O;if(p>=h){O={};for(const[,T]of e.lastTrick)O[`${T.suit}-${T.value}`]=x}else O=m;let M=!1;for(const[T,_]of Object.entries(O))S[T]!==_&&(M=!0,r.push({move:"assignCard",args:[T,_],score:100}));M||r.push({move:"submitAssignments",args:[],score:100})}else t.phase;return r.sort((d,y)=>y.score-d.score),r}function _f(e,t,n){return{idx:e,isHuman:t,name:n,hand:[],plot:{revealed:[],hidden:[],medals:0,stacks:[]},brigadeLeader:!1,hasWonTrickThisYear:!1,medals:0}}function Ww({ctx:e,random:t},n){const r={...tm,...(n==null?void 0:n.variants)||{}},i=e.numPlayers,s=[...xw],o=[];for(let c=0;c<i;c++)if(c===0)o.push(_f(0,!0,""));else{const f=Math.floor(t.Number()*s.length),d=s.splice(f,1)[0];o.push(_f(c,!1,d))}const l={numPlayers:i,players:o,lead:Math.floor(t.Number()*i),year:1,trump:null,jobPiles:Cw(r,t),revealedJobs:{},claimedJobs:[],accumulatedJobCards:{},workHours:{},jobBuckets:{},currentTrick:[],lastTrick:[],lastWinner:null,trickHistory:[],trickCount:0,exiled:{},workersDeck:[],isFamine:!1,variants:r,pendingAssignments:{},needsManualAssignment:!1,pendingAIAssignments:null,trumpSelector:Math.floor(t.Number()*i)};for(const c of wt)l.accumulatedJobCards[c]=[],l.workHours[c]=0,l.jobBuckets[c]=[];const{jobs:a,isFamine:u}=nm(l.jobPiles,l.accumulatedJobCards,r);return l.revealedJobs=a,l.isFamine=u,l.workersDeck=rm(l.players,l.jobBuckets,l.exiled,r,t),im(l.players,l.workersDeck,l.isFamine),l}function Kw({G:e,random:t},n){n&&wt.includes(n)?e.trump=n:lm(e,t)}function qw({G:e,ctx:t,playerID:n},r){const i=parseInt(n,10);if(!Pw(e,i,r))return pn;const o=e.players[i].hand.splice(r,1)[0];e.currentTrick.push([i,o])}function Jw({G:e},t,n){e.pendingAssignments||(e.pendingAssignments={}),e.pendingAssignments[t]=n}function Qw({G:e,events:t}){if(Object.keys(e.pendingAssignments).length!==e.lastTrick.length)return pn;const n=new Set(e.lastTrick.map(([,r])=>r.suit));for(const[,r]of Object.entries(e.pendingAssignments))if(!n.has(r))return pn;if(e.lastWinner!==0){e.pendingAIAssignments={trick:JSON.parse(JSON.stringify(e.lastTrick)),assignments:{...e.pendingAssignments},winner:e.lastWinner,trump:e.trump},e.pendingAssignments={},t.setPhase("aiAssignment");return}sm(e,e.pendingAssignments,e.variants),e.pendingAssignments={},fa(e)?t.setPhase("plotSelection"):t.setPhase("trick")}function Yw({G:e,playerID:t},n,r,i="hidden"){const s=parseInt(t,10),o=e.players[s];if(n<0||r<0)return;if(r>=o.hand.length)return pn;const l=i==="revealed"?o.plot.revealed:o.plot.hidden;if(n>=l.length)return pn;const a=l[n];l[n]=o.hand[r],o.hand[r]=a}function Xw({G:e,playerID:t}){const n=parseInt(t,10);e.swapConfirmed||(e.swapConfirmed={}),e.swapConfirmed[n]=!0}function Zw({G:e},t,n){if(!e.pendingAIAssignments)return;const[r,i]=t.split("-"),s=parseInt(i,10),o={suit:r,value:s};e.jobBuckets[n].push(o);let l=s;if(e.variants.nomenclature&&r===e.trump&&s===11&&(l=0),e.workHours[n]+=l,e.workHours[n]>=40&&!e.claimedJobs.includes(n)){if(e.claimedJobs.push(n),e.variants.deckType===36&&e.variants.ordenNachalniku){const u=[...e.jobBuckets[n]];if(u.length>0){const c=u.reduce((y,v)=>v.value<y.value?v:y),f=u.filter(y=>!(y.suit===c.suit&&y.value===c.value)).sort((y,v)=>y.value-v.value),d=e.players[e.pendingAIAssignments.winner];d.plot.stacks||(d.plot.stacks=[]),d.plot.stacks.push({revealed:[c],hidden:f}),e.jobBuckets[n]=[]}}else if(e.variants.deckType!==36){const u=e.players[e.pendingAIAssignments.winner],c=Array.isArray(e.revealedJobs[n])?e.revealedJobs[n]:[e.revealedJobs[n]];for(const f of c)f&&u.plot.revealed.push(f);e.revealedJobs[n]=null,e.variants.accumulateJobs&&(e.accumulatedJobCards[n]=[])}}delete e.pendingAIAssignments.assignments[t],Object.keys(e.pendingAIAssignments.assignments).length===0&&(e.pendingAIAssignments=null)}const Gw={name:"kolkhoz",setup:Ww,minPlayers:2,maxPlayers:4,phases:{planning:{start:!0,moves:{setTrump:Kw},turn:{order:{first:({G:e})=>e.trumpSelector,next:()=>{}}},onBegin:({G:e})=>{console.log("[planning onBegin] year:",e.year,"trumpSelector:",e.trumpSelector,"isFamine:",e.isFamine,"hands:",e.players.map(t=>t.hand.length)),e.isFamine&&(e.trump=null)},endIf:({G:e})=>{const t=e.isFamine||e.trump!==null;return console.log("[planning endIf]",t,"- isFamine:",e.isFamine,"trump:",e.trump),t},onEnd:({G:e,random:t})=>{console.log("[planning onEnd] year:",e.year),!e.isFamine&&!e.trump&&lm(e,t)},next:({G:e})=>{const t=e.variants.allowSwap&&e.year>1?"swap":"trick";return console.log("[planning next] ->",t,"- allowSwap:",e.variants.allowSwap,"year:",e.year),t}},trick:{moves:{playCard:qw},turn:{order:{first:({G:e})=>e.lead,next:({G:e,ctx:t})=>(t.playOrderPos+1)%t.numPlayers},minMoves:1,maxMoves:1},endIf:({G:e,ctx:t})=>e.currentTrick.length===t.numPlayers,onEnd:({G:e})=>{const t=Nw(e);if(t!==null){Tw(e,t);const n=Iw(e.lastTrick);n?(t!==0?e.pendingAIAssignments={trick:JSON.parse(JSON.stringify(e.lastTrick)),assignments:{...n},winner:t,trump:e.trump}:sm(e,n,e.variants),e.needsManualAssignment=!1):e.needsManualAssignment=!0}},next:({G:e})=>e.needsManualAssignment?"assignment":e.pendingAIAssignments?"aiAssignment":fa(e)?"plotSelection":"trick"},assignment:{moves:{assignCard:Jw,submitAssignments:Qw},turn:{order:{first:({G:e})=>e.lastWinner,next:()=>{}}},onBegin:({G:e})=>{e.pendingAssignments={};for(const[,t]of e.lastTrick){const n=`${t.suit}-${t.value}`;e.pendingAssignments[n]=t.suit}},next:"trick"},aiAssignment:{moves:{applySingleAssignment:Zw},turn:{order:{first:()=>0,next:()=>{}}},endIf:({G:e})=>!e.pendingAIAssignments,next:({G:e})=>fa(e)?"plotSelection":"trick"},plotSelection:{onBegin:({G:e,events:t})=>{console.log("[plotSelection onBegin] START - hands before:",e.players.map(n=>n.hand.length)),console.log("[plotSelection onBegin] plots before:",e.players.map(n=>n.plot.hidden.length));for(const n of e.players)for(;n.hand.length>0;){const r=n.hand.pop();n.plot.hidden.push(r)}console.log("[plotSelection onBegin] END - hands after:",e.players.map(n=>n.hand.length)),console.log("[plotSelection onBegin] plots after:",e.players.map(n=>n.plot.hidden.length)),t.setPhase("requisition")},next:"requisition"},requisition:{onBegin:({G:e,random:t,events:n})=>{console.log("[requisition onBegin] START - year:",e.year),console.log("[requisition onBegin] hands before transition:",e.players.map(r=>r.hand.length)),Mw(e,e.variants),Bw(e,e.variants,t),console.log("[requisition onBegin] after transition - year:",e.year),console.log("[requisition onBegin] hands after transition:",e.players.map(r=>r.hand.length)),console.log("[requisition onBegin] isFamine:",e.isFamine),!(e.year>5)&&(console.log("[requisition onBegin] calling setPhase(planning)"),n.setPhase("planning"))},next:({G:e})=>{if(!(e.year>5))return"planning"}},swap:{moves:{swapCard:Yw,confirmSwap:Xw},turn:{order:{first:()=>0,next:()=>{}}},onBegin:({G:e,ctx:t})=>{console.log("[swap onBegin] year:",e.year,"hands:",e.players.map(n=>n.hand.length),"plots:",e.players.map(n=>n.plot.hidden.length)),e.swapConfirmed={};for(let n=1;n<t.numPlayers;n++)e.swapConfirmed[n]=!0},endIf:({G:e,ctx:t})=>{if(!e.swapConfirmed)return!1;for(let n=0;n<t.numPlayers;n++)if(!e.swapConfirmed[n])return!1;return!0},onEnd:({G:e})=>{delete e.swapConfirmed},next:"trick"}},endIf:({G:e})=>{if(e.year>5)return $w(e,e.variants)},playerView:({G:e,ctx:t,playerID:n})=>{if(n===null)return e;const r=parseInt(n,10),i=JSON.parse(JSON.stringify(e));return i.players=e.players.map((s,o)=>{const l=o===r;return{...s,hand:l?s.hand:s.hand.map(()=>({hidden:!0})),plot:{...s.plot,hidden:l?s.plot.hidden:s.plot.hidden.map(()=>({hidden:!0}))}}}),i.workersDeck=e.workersDeck.map(()=>({hidden:!0})),i},ai:{enumerate:(e,t,n)=>{const r=parseInt(n,10),i=Hw(e,t,r);return i.slice(0,Math.min(3,i.length)).map(({move:o,args:l})=>({move:o,args:l}))}}};function Ct(e){return`assets/cards/${{1:"ace",11:"jack",12:"queen",13:"king"}[e.value]||e.value}_of_${e.suit.toLowerCase()}.svg`}const nl=["Hearts","Diamonds","Clubs","Spades"],Ir={Hearts:"",Diamonds:"",Clubs:"",Spades:""},Ef=["/assets/portraits/worker1.svg","/assets/portraits/worker2.svg","/assets/portraits/worker3.svg","/assets/portraits/worker4.svg"];function e1({trick:e,numPlayers:t,year:n,trump:r,phase:i,isMyTurn:s,currentPlayerName:o,players:l,currentPlayer:a,brigadeLeader:u,displayMode:c="game",workHours:f,claimedJobs:d,jobBuckets:y,revealedJobs:v,exiled:k,playerPlot:x,onSetTrump:p,highlightedSuits:h=[]}){const m=[3,0,1,2],S=["left","center-left","center-right","right"],O=_=>S[m[_]],M=_=>e.some(([I])=>I===_),T=_=>{const I=e.find(([R])=>R===_);return I?I[1]:null};return g.jsxs("div",{className:"trick-area-html",children:[g.jsxs("div",{className:"info-bar",children:[g.jsxs("div",{className:"info-year",children:[g.jsx("span",{className:"label",children:""}),g.jsxs("span",{className:"value",children:[n,"/5"]})]}),g.jsxs("div",{className:"info-trump",children:[g.jsx("span",{className:"label",children:":"}),r?g.jsx("span",{className:`suit-symbol ${r.toLowerCase()}`,children:Ir[r]}):g.jsx("span",{className:"famine",children:" "})]}),e.length>0&&g.jsxs("div",{className:"info-lead",children:[g.jsx("span",{className:"label",children:":"}),g.jsx("span",{className:`suit-symbol ${e[0][1].suit.toLowerCase()}`,children:Ir[e[0][1].suit]})]}),g.jsx("div",{className:"info-jobs",children:nl.map(_=>{const I=(f==null?void 0:f[_])||0,R=d==null?void 0:d.includes(_),V=h.includes(_);return g.jsxs("div",{className:`job-indicator ${V?"highlighted":""} ${R?"claimed":""}`,children:[g.jsx("span",{className:`suit-symbol ${_.toLowerCase()}`,children:Ir[_]}),g.jsx("span",{className:"progress",children:R?"":`${I}/40`})]},_)})})]}),g.jsxs("div",{className:"play-area",children:[c==="game"&&g.jsx("div",{className:"player-columns",children:[1,2,3,0].map(_=>{var A,b,$,me;const I=l==null?void 0:l[_],R=((A=I==null?void 0:I.hand)==null?void 0:A.length)||0,V=((b=I==null?void 0:I.plot)==null?void 0:b.revealed)||[],K=((me=($=I==null?void 0:I.plot)==null?void 0:$.hidden)==null?void 0:me.length)||0,Q=V.reduce((oe,te)=>oe+te.value,0)+K,Y=a===_,ke=u===_,_e=T(_),Ke=M(_),j=a===_&&!Ke,C=s&&_===0&&!Ke;return g.jsxs("div",{className:`player-column ${O(_)}`,children:[g.jsxs("div",{className:`player-panel ${Y?"active":""} ${_===0?"human":""}`,children:[_!==0&&g.jsx("img",{src:Ef[(_-1)%Ef.length],alt:I==null?void 0:I.name,className:"portrait"}),g.jsxs("div",{className:"player-info",children:[g.jsxs("span",{className:"player-name",children:[_===0?"":(I==null?void 0:I.name)||`Player ${_}`,ke&&g.jsx("span",{className:"leader-star",children:""})]}),g.jsx("span",{className:"player-score",children:Q>0?`${Q} pts`:_===0?"":`${R} cards`})]}),_!==0&&g.jsxs("div",{className:"player-hand-cards",children:[Array.from({length:Math.min(4,R)}).map((oe,te)=>g.jsx("img",{src:"assets/cards/back.svg",alt:"card",className:"mini-card"},te)),R>4&&g.jsxs("span",{className:"extra-cards",children:["+",R-4]})]})]}),g.jsx("div",{className:`card-slot ${O(_)} ${j?"current-turn":""} ${C?"human-turn":""}`,"data-player":_,children:_e?g.jsx("img",{src:Ct(_e),alt:`${_e.value} of ${_e.suit}`,className:"played-card"}):g.jsxs("div",{className:"empty-slot",children:[C&&g.jsx("span",{className:"turn-text",children:" "}),j&&_!==0&&g.jsx("span",{className:"turn-text bot",children:o})]})})]},_)})}),c==="jobs"&&g.jsxs("div",{className:"jobs-view",children:[g.jsx("h2",{className:"view-title",children:""}),nl.map(_=>{const I=(f==null?void 0:f[_])||0,R=d==null?void 0:d.includes(_),V=_===r,K=(y==null?void 0:y[_])||[],Q=v==null?void 0:v[_],Y=Array.isArray(Q)?Q:Q?[Q]:[];return g.jsxs("div",{className:`job-row ${V?"trump":""} ${R?"claimed":""}`,children:[g.jsxs("div",{className:"job-info",children:[g.jsx("span",{className:`suit-symbol ${_.toLowerCase()}`,children:Ir[_]}),g.jsx("span",{className:"progress",children:R?"":`${I}/40`})]}),g.jsx("div",{className:"job-reward",children:Y.length>0&&!R?g.jsx("img",{src:Ct(Y[0]),alt:"reward",className:"reward-card"}):g.jsx("img",{src:"assets/cards/back.svg",alt:"reward",className:"reward-card dimmed"})}),g.jsxs("div",{className:"job-cards",children:[K.slice(0,12).map((ke,_e)=>g.jsx("img",{src:Ct(ke),alt:`${ke.value} of ${ke.suit}`,className:"bucket-card"},_e)),K.length>12&&g.jsxs("span",{className:"more-cards",children:["+",K.length-12]}),K.length===0&&g.jsx("div",{className:"empty-bucket"})]})]},_)})]}),c==="gulag"&&g.jsxs("div",{className:"gulag-view",children:[g.jsx("h2",{className:"view-title",children:""}),[1,2,3,4,5].map(_=>{const I=(k==null?void 0:k[_])||[],R=_===n,V=K=>{const[Q,Y]=K.split("-");return{suit:Q,value:parseInt(Y,10)}};return g.jsxs("div",{className:`year-row ${R?"current":""}`,children:[g.jsxs("div",{className:"year-info",children:[g.jsx("span",{className:"year-number",children:_}),I.length>0&&g.jsx("span",{className:"card-count",children:I.length})]}),g.jsxs("div",{className:"year-cards",children:[I.slice(0,12).map((K,Q)=>{const Y=V(K);return g.jsx("img",{src:Ct(Y),alt:`${Y.value} of ${Y.suit}`,className:"exiled-card"},Q)}),I.length>12&&g.jsxs("span",{className:"more-cards",children:["+",I.length-12]}),I.length===0&&g.jsx("div",{className:"empty-year"})]})]},_)})]}),c==="plot"&&g.jsxs("div",{className:"plot-view",children:[g.jsx("h2",{className:"view-title",children:""}),g.jsxs("div",{className:"plot-row revealed",children:[g.jsxs("div",{className:"row-label",children:[g.jsx("span",{className:"title",children:""}),g.jsx("span",{className:"subtitle",children:"(Revealed)"})]}),g.jsxs("div",{className:"plot-cards",children:[((x==null?void 0:x.revealed)||[]).map((_,I)=>g.jsx("img",{src:Ct(_),alt:`${_.value} of ${_.suit}`,className:"plot-card"},I)),(!(x!=null&&x.revealed)||x.revealed.length===0)&&g.jsx("div",{className:"empty-plot"})]})]}),g.jsxs("div",{className:"plot-row hidden",children:[g.jsxs("div",{className:"row-label",children:[g.jsx("span",{className:"title",children:""}),g.jsx("span",{className:"subtitle",children:"(Hidden)"})]}),g.jsxs("div",{className:"plot-cards",children:[((x==null?void 0:x.hidden)||[]).map((_,I)=>g.jsx("img",{src:Ct(_),alt:`${_.value} of ${_.suit}`,className:"plot-card"},I)),(!(x!=null&&x.hidden)||x.hidden.length===0)&&g.jsx("div",{className:"empty-plot"})]})]}),g.jsxs("div",{className:"plot-total",children:["Total: ",((x==null?void 0:x.revealed)||[]).reduce((_,I)=>_+I.value,0)+((x==null?void 0:x.hidden)||[]).reduce((_,I)=>_+I.value,0)," points"]})]}),i==="planning"&&!r&&p&&g.jsxs("div",{className:"trump-selection",children:[g.jsx("h2",{className:"selection-title",children:"  "}),g.jsx("div",{className:"trump-buttons",children:nl.map(_=>g.jsxs("button",{className:`trump-btn ${_.toLowerCase()}`,onClick:()=>p(_),children:[g.jsx("span",{className:"suit-symbol",children:Ir[_]}),g.jsx("span",{className:"suit-name",children:{Hearts:"",Diamonds:"",Clubs:"",Spades:""}[_]})]},_))})]})]})]})}function t1({G:e,ctx:t,moves:n,playerID:r}){var Y,ke,_e,Ke,j;const i=parseInt(r,10),s=t.currentPlayer===r,o=t.phase,[l,a]=ae.useState(null),u=C=>a(l===C?null:C),[c,f]=ae.useState(!1),d=ae.useRef(e.year),y=ae.useRef(null),[v,k]=ae.useState(null),[x,p]=ae.useState(null),h=ae.useRef(0);ae.useEffect(()=>{if(o!=="trick"){h.current=0;return}const C=e.currentTrick.length,A=h.current;if(C>A&&C>0){const[b,$]=e.currentTrick[C-1];b!==0&&p({playerIdx:b,card:$,key:`${$.suit}-${$.value}`})}h.current=C},[e.currentTrick,o]),ae.useEffect(()=>{e.year!==d.current&&(f(!1),d.current=e.year)},[e.year]);const m=e.pendingAIAssignments;let S=null;if(o==="aiAssignment"&&m){const C=Object.entries(m.assignments);if(C.length>0){const[A,b]=C[0],[$,me]=A.split("-"),oe={suit:$,value:parseInt(me,10)},te=m.trick.find(([,jt])=>jt.suit===oe.suit&&jt.value===oe.value),ye=te?te[0]:0;S={cardKey:A,targetSuit:b,card:oe,playerIdx:ye}}}const O=o==="trick"&&e.currentTrick.length>0?[...new Set(e.currentTrick.map(([,C])=>C.suit))]:m?[...new Set(Object.values(m.assignments))]:[];let M;if(o==="assignment")M=e.lastTrick;else if(o==="aiAssignment"&&m){const C=new Set(Object.keys(m.assignments));M=m.trick.filter(([,A])=>{const b=`${A.suit}-${A.value}`;return S&&b===S.cardKey?!1:C.has(b)})}else M=x?e.currentTrick.filter(([,C])=>`${C.suit}-${C.value}`!==x.key):e.currentTrick;const T=C=>{o==="trick"&&s&&n.playCard(C)},_=C=>C.touches&&C.touches.length>0?{x:C.touches[0].clientX,y:C.touches[0].clientY}:{x:C.clientX,y:C.clientY},I=(C,A)=>{const b=document.querySelector(".player-column.right .card-slot");if(!b)return!1;const $=b.getBoundingClientRect();return C>=$.left&&C<=$.right&&A>=$.top&&A<=$.bottom},R=(C,A,b)=>{if(o!=="trick"||!s)return;const $=xf(e,i,o);if(!($!=null&&$.includes(C)))return;b.preventDefault();const me=_(b),te=b.currentTarget.getBoundingClientRect();k({index:C,card:A,position:me,offset:{x:me.x-(te.left+te.width/2),y:me.y-(te.top+te.height/2)},isOverTarget:!1})};ae.useEffect(()=>{if(!v)return;const C=b=>{const $=_(b),me=I($.x,$.y);k(oe=>({...oe,position:$,isOverTarget:me}))},A=b=>{const $=b.changedTouches?{x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY}:{x:b.clientX,y:b.clientY};I($.x,$.y)&&T(v.index),k(null)};return document.addEventListener("mousemove",C),document.addEventListener("mouseup",A),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",A),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",A)}},[v]);const V=C=>{o==="planning"&&n.setTrump(C)},K=()=>{f(!0),n.confirmSwap()};if(t.gameover){const{winner:C,scores:A}=t.gameover;return g.jsxs("div",{className:"game-over",children:[g.jsx("h1",{children:"Game Over!"}),g.jsxs("h2",{children:["Winner: ",e.players[C].name]}),g.jsx("div",{className:"final-scores",children:e.players.map((b,$)=>g.jsxs("div",{className:$===C?"winner":"",children:[b.name,": ",A[$]," points"]},$))}),g.jsx("p",{children:"(Lowest score wins)"})]})}const Q=o==="assignment"&&e.lastWinner===i?"jobs":o==="swap"?"plot":l==="jobs"?"jobs":l==="gulag"?"gulag":l==="plot"?"plot":"game";return g.jsxs("div",{className:"game-board",children:[g.jsxs("div",{className:"mobile-nav-bar",children:[g.jsxs("button",{className:`nav-btn ${l==="options"?"active":""}`,onClick:()=>u("options"),title:"Menu",children:[g.jsx("span",{className:"nav-icon",children:""}),g.jsx("span",{className:"nav-label",children:"Menu"})]}),g.jsxs("button",{className:`nav-btn ${l===null?"active":""}`,onClick:()=>a(null),title:"Brigade (Playing Area)",children:[g.jsx("span",{className:"nav-icon",children:""}),g.jsx("span",{className:"nav-label",title:"Brigade",children:""})]}),g.jsxs("button",{className:`nav-btn ${l==="jobs"?"active":""}`,onClick:()=>u("jobs"),title:"Jobs",children:[g.jsx("span",{className:"nav-icon",children:""}),g.jsx("span",{className:"nav-label",title:"Jobs",children:""})]}),g.jsxs("button",{className:`nav-btn ${l==="gulag"?"active":""}`,onClick:()=>u("gulag"),title:"The North (Gulag)",children:[g.jsx("span",{className:"nav-icon",children:""}),g.jsx("span",{className:"nav-label",title:"The North",children:""})]}),g.jsxs("button",{className:`nav-btn ${l==="plot"?"active":""}`,onClick:()=>u("plot"),title:"Your Plot (Cellar)",children:[g.jsx("span",{className:"nav-icon",children:""}),g.jsx("span",{className:"nav-label",title:"Plot",children:""})]})]}),l==="options"&&g.jsx("div",{className:"mobile-panel-content",children:g.jsxs("div",{className:"options-panel",children:[g.jsx("h3",{title:"Menu",children:""}),g.jsxs("div",{className:"menu-options",children:[g.jsxs("div",{className:"rules-section",children:[g.jsx("h4",{children:"Kolkhoz Rules"}),g.jsxs("div",{className:"rules-text",children:[g.jsx("h5",{children:"Objective"}),g.jsx("p",{children:"Complete collective farm jobs while protecting your private plot. Lowest score wins!"}),g.jsx("h5",{children:"Gameplay"}),g.jsx("p",{children:" Play cards to tricks - must follow lead suit if able"}),g.jsx("p",{children:" Trick winner assigns cards to matching job suits"}),g.jsx("p",{children:" Jobs need 40 work hours to complete"}),g.jsx("h5",{children:"Trump Face Cards"}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"Jack ()"}),": Worth 0 hours, gets exiled instead of your cards"]}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"Queen ()"}),": All players become vulnerable"]}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"King ()"}),": Exiles two cards instead of one"]})]})]}),g.jsx("button",{className:"menu-btn-action",onClick:()=>window.location.reload(),children:" New Game"})]})]})}),g.jsxs("div",{className:"game-content",children:[g.jsx(e1,{ref:y,trick:M,numPlayers:e.numPlayers,year:e.year,trump:e.trump,phase:o,isMyTurn:s,currentPlayerName:(Y=e.players[t.currentPlayer])==null?void 0:Y.name,players:e.players,currentPlayer:parseInt(t.currentPlayer,10),brigadeLeader:e.players.findIndex(C=>C.brigadeLeader),displayMode:Q,workHours:e.workHours,claimedJobs:e.claimedJobs,jobBuckets:e.jobBuckets,revealedJobs:e.revealedJobs,exiled:e.exiled,playerPlot:(ke=e.players[i])==null?void 0:ke.plot,onSetTrump:V,highlightedSuits:O}),S&&g.jsx(n1,{card:S.card,playerIdx:S.playerIdx,targetSuit:S.targetSuit,cardValue:S.card.value,onComplete:()=>{const C=S.cardKey,A=S.targetSuit;n.applySingleAssignment(C,A)}},S.cardKey),x&&g.jsx(r1,{card:x.card,playerIdx:x.playerIdx,onComplete:()=>p(null)},x.key),g.jsx("div",{className:"player-hand-area",children:(_e=e.players[i])==null?void 0:_e.hand.map((C,A)=>{var oe;const b=(oe=xf(e,i,o))==null?void 0:oe.includes(A),$=o==="trick"&&s,me=(v==null?void 0:v.index)===A;return g.jsx("div",{className:`hand-card ${$&&b?"playable":""} ${$&&!b?"invalid":""} ${me?"dragging":""}`,onMouseDown:te=>R(A,C,te),onTouchStart:te=>R(A,C,te),children:g.jsx("img",{src:Ct(C),alt:`${C.value} of ${C.suit}`,draggable:!1})},`${C.suit}-${C.value}`)})}),v&&g.jsx("div",{className:"drag-ghost",style:{position:"fixed",left:v.position.x-v.offset.x,top:v.position.y-v.offset.y,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3},children:g.jsx("img",{src:Ct(v.card),alt:"dragging",style:{width:"80px",height:"auto"}})}),v&&g.jsx("div",{className:`drop-zone-highlight ${v.isOverTarget?"active":""}`,style:{position:"fixed",...(()=>{const C=document.querySelector(".player-column.right .card-slot");if(!C)return{display:"none"};const A=C.getBoundingClientRect();return{left:A.left,top:A.top,width:A.width,height:A.height}})(),pointerEvents:"none",zIndex:999,border:v.isOverTarget?"3px solid #4CAF50":"3px dashed #d4a857",borderRadius:"8px",backgroundColor:v.isOverTarget?"rgba(76, 175, 80, 0.2)":"rgba(212, 168, 87, 0.1)"}}),o==="swap"&&!((Ke=e.swapConfirmed)!=null&&Ke[i])&&!c&&g.jsx("div",{className:"swap-overlay",children:g.jsx("button",{className:"swap-confirm-btn",onClick:K,children:"Confirm (No Swap)"})}),o==="swap"&&(((j=e.swapConfirmed)==null?void 0:j[i])||c)&&g.jsx("div",{className:"swap-waiting",children:g.jsx("h3",{children:"Waiting for other players..."})})]})]})}function n1({card:e,playerIdx:t,targetSuit:n,cardValue:r,onComplete:i}){const s=ae.useRef(null),[o,l]=ae.useState(!1);return ae.useEffect(()=>{const c=["left","center-left","center-right","right"][[3,0,1,2][t]],f=document.querySelector(`.player-column.${c} .card-slot`),d=document.querySelector(`.job-indicator .suit-symbol.${n.toLowerCase()}`);if(!f||!d||!s.current){i();return}const y=f.getBoundingClientRect(),v=d.getBoundingClientRect(),k=s.current.getBoundingClientRect(),x=y.width/k.width,p=v.width/k.width;s.current.style.left=`${y.left+y.width/2}px`,s.current.style.top=`${y.top+y.height/2}px`,s.current.style.transform=`translate(-50%, -50%) scale(${x})`;const h=s.current.animate([{left:`${y.left+y.width/2}px`,top:`${y.top+y.height/2}px`,transform:`translate(-50%, -50%) scale(${x})`},{left:`${v.left+v.width/2}px`,top:`${v.top+v.height/2}px`,transform:`translate(-50%, -50%) scale(${p})`}],{duration:950,fill:"forwards",easing:"ease-in-out"});setTimeout(()=>l(!0),570),h.onfinish=()=>{setTimeout(i,800)}},[t,n,i]),g.jsxs("div",{ref:s,className:"flying-card-html",children:[g.jsx("img",{src:Ct(e),alt:`${e.value} of ${e.suit}`}),o&&g.jsxs("span",{className:"flying-value",children:["+",r]})]})}function r1({card:e,playerIdx:t,onComplete:n}){const r=ae.useRef(null);return ae.useEffect(()=>{const o=["left","center-left","center-right","right"][[3,0,1,2][t]],l=document.querySelector(`.player-column.${o} .player-panel .mini-card`),a=document.querySelector(`.player-column.${o} .player-panel`),u=document.querySelector(`.player-column.${o} .card-slot`);if(!a||!u||!r.current){n();return}const c=l?l.getBoundingClientRect():a.getBoundingClientRect(),f=u.getBoundingClientRect(),d=r.current.getBoundingClientRect(),y=(l?c.width:c.width*.3)/d.width,v=f.width/d.width;r.current.style.left=`${c.left+c.width/2}px`,r.current.style.top=`${c.top+c.height/2}px`,r.current.style.transform=`translate(-50%, -50%) scale(${y})`;const k=r.current.animate([{left:`${c.left+c.width/2}px`,top:`${c.top+c.height/2}px`,transform:`translate(-50%, -50%) scale(${y})`,opacity:1},{left:`${f.left+f.width/2}px`,top:`${f.top+f.height/2}px`,transform:`translate(-50%, -50%) scale(${v})`,opacity:1}],{duration:800,fill:"forwards",easing:"ease-out"});k.onfinish=n},[t,n]),g.jsx("div",{ref:r,className:"ai-play-card",children:g.jsx("img",{src:Ct(e),alt:`${e.value} of ${e.suit}`})})}function xf(e,t,n){if(n!=="trick")return null;const r=e.players[t];if(!r||!r.hand)return[];if(e.currentTrick.length===0)return r.hand.map((o,l)=>l);const i=e.currentTrick[0][1].suit;return r.hand.some(o=>o.suit===i)?r.hand.map((o,l)=>o.suit===i?l:-1).filter(o=>o>=0):r.hand.map((o,l)=>l)}function i1(){const[e,t]=ae.useState(!1),[n,r]=ae.useState({...tm}),i=ae.useMemo(()=>e?Yp({game:Gw,board:t1,numPlayers:4,multiplayer:Qp({bots:{1:os,2:os,3:os}}),debug:!1}):null,[e]),[s,o]=ae.useState(!1);return e?g.jsx(i,{playerID:"0",setupData:{variants:n}}):g.jsxs("div",{className:"lobby",children:[g.jsxs("div",{className:"lobby-left",children:[g.jsxs("div",{className:"lobby-title",children:[g.jsx("h1",{title:"Kolkhoz - Collective Farm",children:""}),g.jsx("h2",{title:"Pyatiletka - Five-Year Plan",children:""})]}),g.jsxs("div",{className:"lobby-buttons",children:[g.jsx("button",{className:"start-btn",onClick:()=>t(!0),children:"Start Game"}),g.jsx("button",{className:`rules-btn ${s?"active":""}`,onClick:()=>o(!s),children:s?"Options":"Rules"})]})]}),g.jsx("div",{className:"lobby-right-panel",children:s?g.jsxs("div",{className:"rules-panel",children:[g.jsx("h3",{children:"Kolkhoz Rules"}),g.jsxs("div",{className:"rules-text",children:[g.jsx("h4",{children:"Objective"}),g.jsx("p",{children:"Complete collective farm jobs while protecting your private plot. Lowest score wins!"}),g.jsx("h4",{children:"Gameplay"}),g.jsx("p",{children:" Play cards to tricks - must follow lead suit if able"}),g.jsx("p",{children:" Trick winner assigns cards to matching job suits"}),g.jsx("p",{children:" Jobs need 40 work hours to complete"}),g.jsx("h4",{children:"Trump Face Cards"}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"Jack ()"}),": Worth 0, gets exiled instead of your cards"]}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"Queen ()"}),": All players become vulnerable"]}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"King ()"}),": Exiles two cards instead of one"]}),g.jsx("h4",{children:"Scoring"}),g.jsx("p",{children:"Cards in your plot = penalty points. Lowest score wins!"})]})]}):g.jsxs("div",{className:"variant-options",children:[g.jsx("h3",{children:"Deck Type"}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"deckType",checked:n.deckType===52,onChange:()=>r({...n,deckType:52})}),"52-card deck (Classic)"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"deckType",checked:n.deckType===36,onChange:()=>r({...n,deckType:36})}),"36-card deck (Camp-style)"]}),g.jsx("h3",{children:"Variant Rules"}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.nomenclature,onChange:l=>r({...n,nomenclature:l.target.checked})}),g.jsx("strong",{title:"Nomenklatura - The Party Elite",children:""})," - Face card special effects"]}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.allowSwap,onChange:l=>r({...n,allowSwap:l.target.checked})}),g.jsx("strong",{title:"Obmen - Exchange",children:""})," - Swap hand/plot cards at year start"]}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.northernStyle,onChange:l=>r({...n,northernStyle:l.target.checked})}),g.jsx("strong",{title:"Severny Stil - Northern Style",children:" "})," - No job rewards, all vulnerable"]}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.miceVariant,onChange:l=>r({...n,miceVariant:l.target.checked})}),g.jsx("strong",{title:"Myshi - Mice",children:""})," - All reveal during requisition"]}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.ordenNachalniku,onChange:l=>r({...n,ordenNachalniku:l.target.checked})}),g.jsx("strong",{title:"Orden Nachalniku - Medal for the Boss",children:" "})," - Stack cards on job complete"]}),g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.medalsCount,onChange:l=>r({...n,medalsCount:l.target.checked})}),g.jsx("strong",{title:"Medali - Medals",children:""})," - Trick wins add to score"]}),n.deckType===52&&g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:n.accumulateJobs,onChange:l=>r({...n,accumulateJobs:l.target.checked})}),g.jsx("strong",{title:"Nakoplenie - Accumulation",children:""})," - Job rewards carry over"]})]})})]})}const s1=$h(document.getElementById("root"));s1.render(g.jsx(i1,{}));
