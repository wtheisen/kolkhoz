/* TrickArea HTML/CSS Layout - Container and Info Bar Only */

:root {
  /* Base card width - used for responsive calculations */
  --card-width: clamp(50px, 10vw, 120px);
  /* Visible hand height (50% of card shown, cards are 5:7 aspect ratio) */
  --visible-hand-height: calc(var(--card-width) * 0.85);
}

.trick-area-html {
  display: flex;
  flex-direction: column;
  flex: 1;
  background: #1a1a1a;
  border: 3px solid #d4a857;
  border-radius: 10px;
  margin: 1vh;
  /* Bottom margin to make room for the fixed player hand */
  margin-bottom: var(--visible-hand-height);
  position: relative;
  overflow: hidden;
}

/* Inner red border effect */
.trick-area-html::before {
  content: '';
  position: absolute;
  inset: 6px;
  border: 2px solid #8b0000;
  border-radius: 6px;
  pointer-events: none;
}

/* ============================================
   INFO BAR - Soviet Command Center Panel
   Industrial control panel aesthetic with
   status lamps, gauges, and stamped metal
   ============================================ */

.info-bar {
  display: flex;
  align-items: stretch;
  gap: 0;
  padding: 0;
  margin: 8px 10px 0 10px;
  background:
    linear-gradient(180deg,
      rgba(45, 42, 38, 1) 0%,
      rgba(35, 32, 28, 1) 40%,
      rgba(28, 25, 22, 1) 100%);
  border: 2px solid #1a1816;
  border-radius: 4px;
  position: relative;
  /* Stamped metal edge effect */
  box-shadow:
    inset 0 1px 0 rgba(80, 75, 68, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4),
    0 2px 6px rgba(0, 0, 0, 0.5);
  /* Subtle noise texture overlay */
  overflow: hidden;
}

/* Metal grain texture */
.info-bar::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 1px,
      rgba(60, 55, 48, 0.08) 1px,
      rgba(60, 55, 48, 0.08) 2px
    );
  pointer-events: none;
  z-index: 0;
}

/* Rivet decoration (top corners) */
.info-bar::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 6px;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle at 30% 30%, #555, #222);
  border-radius: 50%;
  box-shadow:
    calc(100% - 12px + 100vw - 100vw) 0 0 0 #333,
    0 0 0 1px rgba(0, 0, 0, 0.5),
    inset 0 1px 1px rgba(255, 255, 255, 0.1);
}

/* Panel section base styles */
.info-bar > div {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  padding: clamp(6px, 1vh, 10px) clamp(8px, 1.5vw, 14px);
  border-right: 1px solid rgba(0, 0, 0, 0.5);
  box-shadow: 1px 0 0 rgba(60, 55, 48, 0.3);
}

.info-bar > div:last-child {
  border-right: none;
  box-shadow: none;
}

/* ===========================================
   INFO BAR TYPOGRAPHY - Unified Scale
   Labels: 0.7rem | Values/Symbols: 1.1rem
   =========================================== */

/* Labels - stencil style */
.info-bar .label {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(0.65rem, 1.2vw, 0.75rem);
  color: #6a6560;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-right: 0.4em;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);
}

/* Values - illuminated display style */
.info-bar .value {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(1rem, 1.8vw, 1.15rem);
  color: #d4a857;
  text-shadow: 0 0 8px rgba(212, 168, 87, 0.5);
  letter-spacing: 0.02em;
}

/* Famine indicator - warning lamp */
.info-bar .famine {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(0.65rem, 1.2vw, 0.75rem);
  color: #ff4444;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 2px 6px;
  background: rgba(255, 0, 0, 0.15);
  border: 1px solid rgba(255, 0, 0, 0.4);
  border-radius: 2px;
  text-shadow: 0 0 8px rgba(255, 0, 0, 0.7);
  animation: famine-blink 1.5s ease-in-out infinite;
}

@keyframes famine-blink {
  0%, 100% { opacity: 1; box-shadow: 0 0 8px rgba(255, 0, 0, 0.4); }
  50% { opacity: 0.7; box-shadow: 0 0 15px rgba(255, 0, 0, 0.6); }
}

/* Suit symbols - consistent size */
.suit-symbol {
  font-size: clamp(1.05rem, 1.8vw, 1.2rem);
  line-height: 1;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Suit icon component wrapper */
.suit-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  /* Explicit pixel dimensions for iOS WebKit compatibility */
  width: clamp(16px, 1.2em, 24px);
  height: clamp(16px, 1.2em, 24px);
  vertical-align: middle;
}

.suit-icon .suit-svg {
  /* Fill the parent container */
  width: 100%;
  height: 100%;
  /* Block display ensures SVG takes up space on iOS */
  display: block;
}

/* Crop suits - Potato & Beet are red */
.suit-symbol.potato,
.suit-symbol.beet,
.suit-icon.potato,
.suit-icon.beet {
  color: var(--red);
  text-shadow:
    0 0 5px rgba(196, 30, 58, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Crop suits - Wheat & Sunflower are cream/gold */
.suit-symbol.wheat,
.suit-symbol.sunflower,
.suit-icon.wheat,
.suit-icon.sunflower {
  color: var(--cream);
  text-shadow:
    0 0 4px rgba(232, 220, 196, 0.25),
    0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Year counter */
.info-year {
  gap: 0.3em;
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, transparent 50%, rgba(0, 0, 0, 0.2) 100%);
}

.info-year .value {
  background: #0a0908;
  padding: 2px 6px;
  border-radius: 2px;
  border: 1px solid #333;
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.8),
    0 1px 0 rgba(80, 75, 68, 0.3);
}

/* Trump indicator - status lamp */
.info-trump {
  gap: 0.3em;
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, transparent 100%);
}

.info-trump .suit-symbol {
  padding: 3px 6px;
  background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.7) 100%);
  border-radius: 3px;
  border: 1px solid #444;
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.5),
    0 0 8px currentColor;
  animation: lamp-glow 3s ease-in-out infinite;
}

@keyframes lamp-glow {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.12); }
}

/* No trump selected yet - planning phase */
.info-trump .no-trump {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(0.9rem, 1.6vw, 1.1rem);
  color: #666;
}

/* Lead indicator */
.info-lead {
  gap: 0.3em;
  padding-left: clamp(6px, 1vw, 10px) !important;
  padding-right: clamp(6px, 1vw, 10px) !important;
}

/* ============================================
   REQUISITION MODE INFO BAR
   Red alert panel replacing year/trump/lead
   ============================================ */

.info-bar.requisition-mode {
  background:
    linear-gradient(180deg,
      rgba(80, 20, 20, 0.9) 0%,
      rgba(50, 15, 15, 0.95) 40%,
      rgba(35, 10, 10, 0.95) 100%);
  border-color: #8b0000;
  box-shadow:
    inset 0 1px 0 rgba(196, 30, 58, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4),
    0 0 15px rgba(139, 0, 0, 0.4),
    0 2px 6px rgba(0, 0, 0, 0.5);
}

/* Requisition status section */
.info-requisition {
  display: flex;
  align-items: center;
  gap: clamp(0.5rem, 1vw, 0.8rem);
  padding: clamp(6px, 1vh, 10px) clamp(12px, 2vw, 20px) !important;
  flex: 0 0 auto;
  background: rgba(0, 0, 0, 0.3);
  position: relative;
  z-index: 1;
}

.info-requisition .suit-symbol {
  font-size: clamp(1.3rem, 2.2vw, 1.6rem);
  padding: clamp(4px, 0.6vh, 6px) clamp(8px, 1.2vw, 12px);
  background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.8) 100%);
  border-radius: 4px;
  border: 2px solid #8b0000;
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.5),
    0 0 12px currentColor;
  animation: requisition-suit-pulse 1.2s ease-in-out infinite;
}

@keyframes requisition-suit-pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5), 0 0 12px currentColor;
  }
  50% {
    transform: scale(1.05);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5), 0 0 20px currentColor;
  }
}

.info-requisition .requisition-text {
  font-family: 'Russo One', 'Oswald', sans-serif;
  font-size: clamp(0.85rem, 1.5vw, 1.1rem);
  color: #ff6b6b;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  text-shadow:
    0 0 10px rgba(255, 107, 107, 0.5),
    0 2px 4px rgba(0, 0, 0, 0.6);
  animation: requisition-text-glow 2s ease-in-out infinite;
  white-space: nowrap;
}

@keyframes requisition-text-glow {
  0%, 100% {
    opacity: 1;
    text-shadow: 0 0 10px rgba(255, 107, 107, 0.5), 0 2px 4px rgba(0, 0, 0, 0.6);
  }
  50% {
    opacity: 0.85;
    text-shadow: 0 0 20px rgba(255, 107, 107, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6);
  }
}

/* Jobs panel - gauge cluster */
.info-jobs {
  display: flex;
  justify-content: center;
  gap: clamp(4px, 0.8vw, 8px);
  flex: 1;
  padding: clamp(4px, 0.6vh, 6px) clamp(6px, 1vw, 10px) !important;
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.25) 0%, transparent 40%, rgba(0, 0, 0, 0.15) 100%);
}

/* Individual job gauge */
.job-indicator {
  display: flex;
  align-items: center;
  gap: 0.25em;
  padding: clamp(3px, 0.5vh, 5px) clamp(5px, 0.8vw, 8px);
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid #2a2826;
  border-radius: 3px;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  /* Inset panel effect */
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.6),
    0 1px 0 rgba(80, 75, 68, 0.2);
}

/* Gauge "glass" cover effect */
.job-indicator::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, transparent 100%);
  border-radius: 2px 2px 0 0;
  pointer-events: none;
}

/* Highlighted job - lit up gauge */
.job-indicator.highlighted {
  background: rgba(212, 168, 87, 0.2);
  border-color: #d4a857;
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.4),
    0 0 10px rgba(212, 168, 87, 0.4),
    0 1px 0 rgba(212, 168, 87, 0.3);
  transform: translateY(-1px);
}

.job-indicator.highlighted .suit-symbol {
  animation: gauge-pulse 1s ease-in-out infinite;
}

@keyframes gauge-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

/* Claimed job - success lamp */
.job-indicator.claimed {
  background: rgba(76, 175, 80, 0.2);
  border-color: var(--green);
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.4),
    0 0 8px rgba(76, 175, 80, 0.3),
    0 1px 0 rgba(76, 175, 80, 0.2);
}

.job-indicator.claimed .suit-symbol {
  filter: brightness(0.7) grayscale(0.3);
}

.job-indicator.claimed .progress {
  color: var(--green);
  text-shadow: 0 0 5px rgba(92, 184, 92, 0.5);
}

/* Suit symbol in gauge - matches global size */
.job-indicator .suit-symbol {
  font-size: clamp(0.95rem, 1.6vw, 1.1rem);
}

/* Progress readout */
.job-indicator .progress {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(0.7rem, 1.2vw, 0.8rem);
  color: #8a8580;
  letter-spacing: 0.02em;
  line-height: 1;
}

/* Trump face card badges in info bar */
.job-indicator .trump-face-badges {
  display: flex;
  gap: 2px;
  margin-left: 2px;
}

.job-indicator .trump-face-badge {
  font-family: 'Oswald', sans-serif;
  font-size: clamp(0.6rem, 1vw, 0.7rem);
  font-weight: 600;
  color: #ffd700;
  background: rgba(139, 0, 0, 0.6);
  border: 1px solid #ffd700;
  border-radius: 2px;
  padding: 0 3px;
  line-height: 1.2;
  text-shadow: 0 0 4px rgba(255, 215, 0, 0.5);
  animation: info-face-badge-glow 2s ease-in-out infinite;
}

@keyframes info-face-badge-glow {
  0%, 100% { box-shadow: 0 0 3px rgba(255, 215, 0, 0.3); }
  50% { box-shadow: 0 0 8px rgba(255, 215, 0, 0.6); }
}

/* Score display - warning meter */
.info-score {
  display: flex;
  align-items: center;
  gap: 0.3em;
  padding: clamp(5px, 0.8vh, 8px) clamp(8px, 1.2vw, 12px) !important;
  background:
    linear-gradient(180deg,
      rgba(139, 0, 0, 0.3) 0%,
      rgba(80, 0, 0, 0.2) 50%,
      rgba(139, 0, 0, 0.25) 100%);
  border-left: 2px solid #8b0000 !important;
  box-shadow:
    inset 2px 0 8px rgba(139, 0, 0, 0.3),
    -1px 0 0 rgba(139, 0, 0, 0.5);
  flex-shrink: 0;
}

.info-score .label {
  color: #c41e3a;
}

.info-score .value {
  color: #ff5555;
  text-shadow:
    0 0 10px rgba(255, 85, 85, 0.6),
    0 0 3px rgba(255, 85, 85, 0.3);
  min-width: 1.2em;
  text-align: center;
}

/* Play Area - fills available space in trick area */
.play-area {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;        /* Critical for nested flex */
  min-width: 0;         /* Critical for nested flex */
  overflow: hidden;     /* Clip any overflow */
  position: relative;
  padding: clamp(0.25rem, 0.5vh, 0.5rem);
}
